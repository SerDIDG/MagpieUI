Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;d>c;++c)a.call(b||this,this[c],c,this)}),Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments[1],f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=new Array(g),e=0;g>e;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++}return d}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.find||(Array.prototype.find=function(a){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var b,c=Object(this),d=c.length>>>0,e=arguments[1],f=0;d>f;f++)if(b=c[f],a.call(e,b,f,c))return b;return void 0}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(arguments.length>=2)b=arguments[1];else{for(;d>e&&!e in c;)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;d>e;e++)e in c&&(b=a(b,c[e],e,c));return b}),"function"!=typeof Array.prototype.reduceRight&&(Array.prototype.reduceRight=function(a){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=d-1;if(arguments.length>=2)b=arguments[1];else{for(;e>=0&&!e in c;)e--;if(0>e)throw new TypeError("Reduce of empty array with no initial value");b=c[e--]}for(;e>=0;e--)e in c&&(b=a(b,c[e],e,c));return b}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Date.now||(Date.now=function(){return(new Date).getTime()}),function(){"undefined"==typeof JSON&&(window.JSON={}),JSON.parse&&JSON.stringify||(JSON.parse=function(str){return eval("("+str+")")},JSON.stringify=function(){throw new Error("JSON.stringify is not supported by this browser.")})}();var cm={_version:"3.7.3",_loadTime:Date.now(),_debug:!0,_debugAlert:!1,_deviceType:"desktop",_deviceOrientation:"landscape",_scrollSize:0,_clientPosition:{x:0,y:0},_config:{animDuration:300,animDurationQuick:150,adaptiveFrom:768,screenTablet:1024,screenTabletPortrait:768,screenMobile:640,screenMobilePortrait:480,dateFormat:"%Y-%m-%d",dateTimeFormat:"%Y-%m-%d %H:%i:%s",timeFormat:"%H:%i:%s",displayDateFormat:"%F %j, %Y",displayDateTimeFormat:"%F %j, %Y, %H:%i",tooltipTop:"targetHeight + 4"}},Mod={},Part={},Com={Elements:{}};cm.isFileReader=function(){return"FileReader"in window}(),cm.isHistoryAPI=!(!window.history||!history.pushState),cm.isLocalStorage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}(),cm.isCanvas=!!document.createElement("canvas").getContext,cm.isTouch="ontouchstart"in document.documentElement||!!window.navigator.msMaxTouchPoints,cm.isArray=Array.isArray||function(a){return a?a.constructor==Array:!1},cm.isObject=function(a){return a?a.constructor==Object:!1},cm.forEach=function(a,b){if(!a)return null;if(!b)return a;var c,d;switch(a.constructor){case Object:for(var e in a)a.hasOwnProperty(e)&&b(a[e],e,a);break;case Array:a.forEach(b);break;case Number:for(c=0;a>c;c++)b(c);break;default:try{Array.prototype.forEach.call(a,b)}catch(f){try{for(c=0,d=a.length;d>c;c++)b(a[c],c,a)}catch(f){}}}return a},cm.forEachReverse=function(a,b){return a?b?(a.reverse(),cm.forEach(a,b),a.reverse(),a):a:null},cm.merge=function(a,b){if(b||(b={}),a){if(!cm.isObject(a)&&!cm.isArray(a))return cm.clone(b);a=cm.clone(a)}else a={};return cm.forEach(b,function(b,c){if(null!=b)try{"[object Object]"==Object.prototype.toString.call(b)&&b.constructor!=Object?a[c]=b:cm.isObject(b)?a[c]=cm.merge(a[c],b):a[c]=b}catch(d){a[c]=b}}),a},cm.extend=function(a,b){if(!a)return b;if(!b)return a;var c;switch(a.constructor){case Array:c=a.concat(b);break;case Object:c={},cm.forEach(a,function(a,b){c[b]=a}),cm.forEach(b,function(a,b){c[b]=a})}return c},cm.clone=function(a,b){var c;if(!a)return a;switch(a.constructor){case Function:case String:case Number:case RegExp:case Boolean:case XMLHttpRequest:c=a;break;case Array:c=[],cm.forEach(a,function(a){c.push(cm.clone(a,b))});break;case Object:c={},cm.forEach(a,function(a,d){c[d]=cm.clone(a,b)});break;default:cm.isNode(a)?c=b?a.cloneNode(!0):a:XMLHttpRequest&&a instanceof XMLHttpRequest?c=a:"[object Object]"==Object.prototype.toString.call(a)&&a.constructor!=Object?c=a:a==window?c=a:a instanceof CSSStyleDeclaration?c=a:(c=[],cm.forEach(a,function(a){c.push(cm.clone(a,b))}))}return c},cm.getLength=function(a){var b=0;return cm.forEach(a,function(){b++}),b},cm.inArray=function(a,b){if("string"==typeof a)return a===b;var c=!1;return a.forEach(function(a){a===b&&(c=!0)}),c},cm.objectToArray=function(a){if("object"!=typeof a)return[a];var b=[];return cm.forEach(a,function(a){b.push(a)}),b},cm.arrayToObject=function(a){var b={};return a.forEach(function(a,c){"object"==typeof a?b[c]=a:b[a]=a}),b},cm.objectReplace=function(a,b){var c=cm.clone(a);return cm.forEach(c,function(a,d){"object"==typeof a?c[d]=cm.objectReplace(a,b):c[d]=cm.strReplace(a,b)}),c},cm.isEmpty=function(a){return a?"string"==typeof a||a.constructor==Array?0==a.length:a.constructor==Object?0===cm.getLength(a):"number"==typeof a?0==a:!1:!0},cm.objectSelector=function(a,b,c){b="undefined"==typeof b?window:b,a=a.split(".");var d=b,e=a.length;return cm.forEach(a,function(a,b){d[a]||(d[a]={}),c&&b==e-1&&(d[a]=c),d=d[a]}),d},cm.sort=function(a){var b=[];return cm.forEach(a,function(a,c){b.push({key:c,value:a})}),b.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}),a={},b.forEach(function(b){a[b.key]=b.value}),a},cm.replaceDeep=function(a,b,c){var d=cm.clone(a);return cm.forEach(d,function(a,e){"object"==typeof a?d[e]=cm.replaceDeep(a,b,c):d[e]=a.replace(b,c)}),d},cm.log=function(){var a,b=[];return cm._debug&&Function.prototype.bind&&window.console?(a=Function.prototype.bind.call(console.log,console),function(){a.apply(console,arguments)}):cm._debug&&cm._debugAlert?function(){cm.forEach(arguments,function(a){b.push(a)}),alert(b.join(", "))}:function(){}}(),cm.errorLog=function(a){var b=cm.merge({type:"error",name:"",message:"",langs:{error:"Error!",success:"Success!",attention:"Attention!",common:"Common"}},a),c=[b.langs[b.type],b.name,b.message];cm.log(c.join(" > "))},cm.getEvent=function(a){return a||window.event},cm.stopPropagation=function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},cm.preventDefault=function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1},cm.getObjFromEvent=cm.getEventObject=cm.getEventTarget=function(a){return a.target||a.srcElement},cm.getObjToEvent=cm.getRelatedTarget=function(a){return a.relatedTarget||a.srcElement},cm.getEventClientPosition=function(a){var b={x:0,y:0};return a&&(b.x=a.clientX,b.y=a.clientY,cm.isTouch&&a.touches&&(b.x=a.touches[0].clientX,b.y=a.touches[0].clientY)),b},cm.crossEvents=function(a){var b={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};return b[a]},cm.addEvent=function(a,b,c,d){if(d="undefined"==typeof d?!1:d,cm.isTouch&&cm.crossEvents(b))return a.addEventListener(cm.crossEvents(b),c,d),a;try{a.addEventListener(b,c,d)}catch(e){a.attachEvent("on"+b,c)}return a},cm.removeEvent=function(a,b,c,d){if(d="undefined"==typeof d?!1:d,cm.isTouch&&cm.crossEvents(b))return a.removeEventListener(cm.crossEvents(b),c,d),a;try{a.removeEventListener(b,c,d)}catch(e){a.detachEvent("on"+b,c)}return a},cm.triggerEvent=function(a,b,c){var d;return cm.isTouch&&cm.crossEvents(b)&&(b=cm.crossEvents(b)),document.createEvent?(d=document.createEvent("Event"),d.initEvent(b,!0,!0)):document.createEventObject&&(d=document.createEventObject(),d.eventType=b),d.eventName=b,a.dispatchEvent?a.dispatchEvent(d):a.fireEvent&&a.fireEvent("on"+d.eventType,d),a},cm.customEventsStack=[],cm.addCustomEvent=function(a,b,c,d,e){d="undefined"==typeof d?!0:d,e="undefined"==typeof e?!1:e;var f={tap:function(){var a=0,b=4,d=0;return{click:[function(a){e&&a.preventDefault()}],touchstart:[function(b){a=b.changedTouches[0].screenX,d=b.changedTouches[0].screenY,e&&b.preventDefault()}],touchend:[function(f){Math.abs(f.changedTouches[0].screenX-a)>b||Math.abs(f.changedTouches[0].screenY-d)>b||(e&&f.preventDefault(),c(f))}]}}};if(f[b]){var g=f[b]();cm.customEventsStack.push({el:a,type:b,handler:c,misc:g}),cm.forEach(g,function(b,c){cm.forEach(b,function(b){a.addEventListener(c,b,d)})})}return a},cm.removeCustomEvent=function(a,b,c,d){return cm.customEventsStack=cm.customEventsStack.filter(function(e){return e.el===a&&e.type==b&&e.handler===c?(cm.forEach(e.misc,function(b,c){cm.forEach(b,function(b){a.removeEventListener(c,b,d)})}),!1):!0}),a},cm.customEvent=function(){var a={};return{add:function(b,c,d){return a[c]||(a[c]=[]),a[c].push({node:b,type:c,handler:"function"==typeof d?d:function(){}}),b},remove:function(b,c,d){return a[c]||(a[c]=[]),a[c]=a[c].filter(function(a){return a.node!=b&&a.handler!=d}),b},trigger:function(b,c,d){var e=!1;return d=cm.merge({target:b,type:"both",self:!0,stopPropagation:function(){e=!0}},d),cm.forEach(a[c],function(a){if(!e)switch(d.self&&b===a.node&&a.handler(d),d.type){case"child":cm.isParent(b,a.node,!1)&&a.handler(d);break;case"parent":cm.isParent(a.node,b,!1)&&a.handler(d);break;case"both":cm.isParent(b,a.node,!1)&&a.handler(d),cm.isParent(a.node,b,!1)&&a.handler(d);break;case"all":default:d.self||b===a.node||a.handler(d)}}),b}}}(),cm.onLoad=function(a,b){b="undefined"==typeof b?!0:b;var c=!1,d=function(){c||(c=!0,b&&cm.errorLog({type:"common",name:"cm.onLoad",message:["Load time",Date.now()-cm._loadTime,"ms."].join(" ")}),a())};try{cm.addEvent(window,"load",d)}catch(e){}},cm.onReady=function(a,b){b="undefined"==typeof b?!0:b;var c=!1,d=function(){c||(c=!0,b&&cm.errorLog({type:"common",name:"cm.onReady",message:["Ready time",Date.now()-cm._loadTime,"ms."].join(" ")}),a())};cm.addEvent(document,"DOMContentLoaded",d);try{cm.addEvent(window,"load",d)}catch(e){}},cm.addScrollEvent=function(a,b,c){return c="undefined"==typeof c?!1:c,cm.isWindow(a)?cm.addEvent(window,"scroll",b,c):cm.isNode(a)&&(/body|html/gi.test(a.tagName)?cm.addEvent(window,"scroll",b,c):cm.addEvent(a,"scroll",b,c)),a},cm.removeScrollEvent=function(a,b,c){return c="undefined"==typeof c?!1:c,cm.isWindow(a)&&cm.removeEvent(window,"scroll",b,c),cm.isNode(a)&&(/body|html/gi.test(a.tagName)?cm.removeEvent(window,"scroll",b,c):cm.removeEvent(a,"scroll",b,c)),a},cm.isCenterButton=function(a){return a.button==(cm.is("IE")&&cm.isVersion()<9?4:1)},cm.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},cm.onScrollStart=function(a,b){var c=!1,d=function(){c=!1},e=cm.debounce(d,300),f=function(){!c&&b(),c=!0,e()};return cm.addEvent(a,"scroll",f),{remove:function(){cm.removeEvent(a,"scroll",f)}}},cm.onScrollEnd=function(a,b){var c=cm.debounce(b,300);return cm.addEvent(a,"scroll",c),{remove:function(){cm.removeEvent(a,"scroll",c)}}},cm.onImageLoad=function(a,b,c){c=c||0;var d=[],e=cm.isArray(a),f=e?a:[a],g=f.length,h=0,i=Date.now(),j=0;return f.forEach(function(a,f){d[f]=cm.Node("img",{alt:""}),d[f].onload=function(){h++,h==g&&(j=Date.now()-i,c=c>j?c-j:0,c?setTimeout(function(){b(e?d:d[0])},c):b(e?d:d[0]))},d[f].src=a}),e?d:d[0]},cm.isNode=function(a){return!(!a||!a.nodeType)},cm.isTextNode=function(a){return!(!a||!a.nodeType||3!=a.nodeType)},cm.isElementNode=function(a){return!(!a||!a.nodeType||1!=a.nodeType)},cm.isWindow=function(a){return"undefined"==typeof window.constructor?a instanceof window.constructor:window===a},cm.getEl=function(a){return document.getElementById(a)},cm.getByClass=function(a,b){if(b=b||document,b.getElementsByClassName)return b.getElementsByClassName(a);for(var c=b.getElementsByTagName("*"),d=[],e=0,f=c.length;f>e;e++)cm.isClass(c[e],a)&&d.push(c[e]);return d},cm.getByAttr=function(a,b,c){var d=c||document;if(d.querySelectorAll)return d.querySelectorAll("["+a+"='"+b+"']");for(var e=d.getElementsByTagName("*"),f=[],g=0,h=e.length;h>g;g++)e[g].getAttribute(a)==b&&f.push(e[g]);return f},cm.getByName=function(a,b){if(b){for(var c=[],d=b.getElementsByTagName("*"),e=0,f=d.length;f>e;e++)d[e].name==a&&c.push(d[e]);return c}return document.getElementsByName(a)},cm.getParentByTagName=function(a,b){if(!a||!b||!b.parentNode)return null;var c=b.parentNode;do if(c.tagName&&c.tagName.toLowerCase()==a.toLowerCase())return c;while(c=c.parentNode);return null},cm.getIFrameDOM=function(a){return a.contentDocument||a.document},cm.getDocumentHead=function(){return document.getElementsByTagName("head")[0]},cm.getDocumentHtml=function(){return document.documentElement},cm.node=cm.Node=function(){var a,b=arguments,c=document.createElement(b[0]);if("object"!=typeof b[1]||b[1].nodeType)d=1;else{for(var d in b[1])a=b[1][d],"object"==typeof a&&(a=JSON.stringify(a)),"style"==d?c.style.cssText=a:"class"==d?c.className=a:"innerHTML"==d?c.innerHTML=a:c.setAttribute(d,a);d=2}for(var e=b.length;e>d;d++)"undefined"!=typeof arguments[d]&&("string"==typeof arguments[d]||"number"==typeof b[d]?c.appendChild(document.createTextNode(b[d])):c.appendChild(b[d]));return c},cm.wrap=function(a,b){return a&&b?(b.parentNode&&cm.insertBefore(a,b),a.appendChild(b),a):null},cm.inDOM=function(a){if(a)for(var b=a.parentNode;b;){if(b==document)return!0;b=b.parentNode}return!1},cm.isParent=function(a,b,c){if(cm.isNode(b)&&b.parentNode){if(cm.isWindow(a)&&cm.inDOM(b))return!0;var d=b.parentNode;do if(d==a)return!0;while(d=d.parentNode)}return c?a===b:!1},cm.isParentByClass=function(a,b){if(b&&b.parentNode){var c=b.parentNode;do if(cm.isClass(c,a))return!0;while(c=c.parentNode)}return!1},cm.getData=function(a,b){return a?a.dataset?a.dataset[b]:a.getAttribute(["data",b].join("-")):null},cm.getTextValue=cm.getTxtVal=function(a){return 1==a.nodeType&&a.firstChild?a.firstChild.nodeValue:""},cm.getTextNodesStr=function(a){var b,c="";return a&&(cm.isArray(a)?cm.forEach(a,function(a){c+=cm.getTextNodesStr(a)}):cm.isNode(a)&&(b=a.childNodes,cm.forEach(b,function(a){c+=1==a.nodeType?cm.getTextNodesStr(a):a.nodeValue}))),c},cm.remove=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},cm.clearNode=function(a){for(;0!=a.childNodes.length;)a.removeChild(a.firstChild);return a},cm.prevEl=function(a){return a=a.previousSibling,a&&a.nodeType&&1!=a.nodeType&&(a=cm.prevEl(a)),a},cm.nextEl=function(a){return a=a.nextSibling,a&&a.nodeType&&1!=a.nodeType&&(a=cm.nextEl(a)),a},cm.firstEl=function(a){return a&&a.firstChild?(a=a.firstChild,1!=a.nodeType&&(a=cm.nextEl(a)),a):null},cm.insertFirst=function(a,b){return cm.isNode(a)&&cm.isNode(b)&&(b.firstChild?cm.insertBefore(a,b.firstChild):cm.appendChild(a,b)),a},cm.insertLast=cm.appendChild=function(a,b){return cm.isNode(a)&&cm.isNode(b)&&b.appendChild(a),a},cm.insertBefore=function(a,b){return cm.isNode(a)&&cm.isNode(b)&&b.parentNode.insertBefore(a,b),a},cm.insertAfter=function(a,b){if(cm.isNode(a)&&cm.isNode(b)){var c=b.nextSibling;null!=c?cm.insertBefore(a,c):b.parentNode.appendChild(a)}return a},cm.replaceNode=function(a,b){return cm.insertBefore(a,b),cm.remove(b),a},cm.hideSpecialTags=function(){var a;document.querySelectorAll?(a=document.querySelectorAll("iframe,object,embed"),cm.forEach(a,function(a){a.style.visibility="hidden"})):(a=document.getElementsByTagName("*"),cm.forEach(a,function(a){a.tagName&&/iframe|object|embed/.test(a.tagName)&&(a.style.visibility="hidden")}))},cm.showSpecialTags=function(){var a;document.querySelectorAll?(a=document.querySelectorAll("iframe,object,embed"),cm.forEach(a,function(a){a.style.visibility="visible"})):(a=document.getElementsByTagName("*"),cm.forEach(a,function(a){a.tagName&&/iframe|object|embed/.test(a.tagName)&&(a.style.visibility="visible")}))},cm.strToHTML=function(a){if(!a)return null;var b=cm.Node("div");return b.insertAdjacentHTML("beforeend",a),1==b.childNodes.length?b.firstChild:b.childNodes},cm.getNodes=function(a,b){a=a||document.body,b=b||"data-node";var c={},d=[],e=function(a,c,d){var e,h=a.getAttribute(b),i=h?h.split("|"):[];cm.forEach(i,function(b){e=[],-1==b.indexOf(".")?g(a,b,c,e):f(a,b,e),cm.forEach(e,function(a){d.push(a)})})},f=function(a,b,d){var e=b?b.split("."):[],f=c;cm.forEach(e,function(b,h){0==h&&cm.isEmpty(b)?f=c:h+1==e.length?g(a,b,f,d):(f[b]||(f[b]={}),f=f[b])})},g=function(a,b,c,d){var e,f=b?b.split(":"):[];1==f.length?c[f[0]]=a:(2==f.length||3==f.length)&&("[]"==f[1]?(c[f[0]]||(c[f[0]]=[]),e={},f[2]&&(e[f[2]]=a),h(a,e,d),c[f[0]].push(e)):"{}"==f[1]&&(c[f[0]]||(c[f[0]]={}),f[2]&&(c[f[0]][f[2]]=a),h(a,c[f[0]],d))),d.push(a)},h=function(a,c,d){var f=a.querySelectorAll("["+b+"]");cm.forEach(f,function(a){cm.inArray(d,a)||e(a,c,d)})};return e(a,c,d),h(a,c,d),c},cm.processDataAttributes=function(a,b,c){c="undefined"!=typeof c?c:{};var d,e=["data-attributes",b].join("-"),f=a.querySelectorAll("["+e+"]"),g=function(a){(d=a.getAttribute(e))&&a.setAttribute(b,cm.strReplace(d,c))};g(a),cm.forEach(f,g)},cm.setFDO=function(a,b){return cm.forEach(a,function(c,d){for(var e=cm.getByAttr("name",d,b),f=0,g=e.length;g>f;f++){var h=(e[f].type||"").toLowerCase();switch(h){case"radio":a[d]==e[f].value&&(e[f].checked=!0);break;case"checkbox":e[f].checked=!!+a[d];break;default:"select"==e[f].tagName.toLowerCase()?cm.setSelect(e[f],a[d]):e[f].value=a[d]}}}),b},cm.getFDO=function(a,b){for(var c={},d=[a.getElementsByTagName("input"),a.getElementsByTagName("textarea"),a.getElementsByTagName("select")],e=function(a,b){if(/\[.*\]$/.test(a)){for(var d=[],e=/\[(.*?)\]/g,f=null;f=e.exec(a);)d.push(f[1]);a=a.replace(/\[.*\]$/,""),c[a]=function(a,c){var e=d[a],f="undefined"!=typeof d[a+1];return""==e?c&&c instanceof Array?c.push(f?arguments.callee(a+1,c):b):c=[f?arguments.callee(a+1,c):b]:(c&&c instanceof Object||(c={}),c[e]=f?arguments.callee(a+1,c[e]):b),c}(0,c[a])}else c[a]=b;return 1},f=0,g=d.length;g>f;f++)for(var h=0,i=d[f].length;i>h;h++)if(d[f][h].name.length)switch(d[f][h].tagName.toLowerCase()){case"input":switch(d[f][h].type.toLowerCase()){case"radio":d[f][h].checked&&e(d[f][h].name,d[f][h].value||1);break;case"checkbox":d[f][h].checked?e(d[f][h].name,d[f][h].value||1):"undefined"!=typeof b&&b!==!1&&e(d[f][h].name,b);break;case"password":case"hidden":case"text":default:e(d[f][h].name,d[f][h].value)}break;case"textarea":case"select":if(d[f][h].multiple){var j=d[f][h].getElementsByTagName("option");for(var k in j)j[k].selected&&e(d[f][h].name,j[k].value)}else e(d[f][h].name,d[f][h].value)}return c},cm.clearForm=function(a){for(var b=cm.getByClass("formData",a),c=0,d=b.length;d>c;c++)if("input"==b[c].tagName.toLowerCase())"checkbox"==b[c].type.toLowerCase()||"radio"==b[c].type.toLowerCase()?b[c].checked=!1:b[c].value="";else if("textarea"==b[c].tagName.toLowerCase())b[c].value="";else if("select"==b[c].tagName.toLowerCase())for(var e=b[c].getElementsByTagName("option"),f=0,g=e.length;g>f;f++)e[f].selected=!1;return a},cm.setSelect=function(a,b){if(!a||!cm.isNode(a))return null;var c=a.getElementsByTagName("option");return cm.forEach(c,function(a){a.selected="object"==typeof b?cm.inArray(a.value,b):a.value==b}),a},cm.toggleRadio=function(a,b,c){c=c||document.body;for(var d=cm.getByName(a,c),e=0;e<d.length;e++)d[e].value==b&&(d[e].checked=!0)},cm.getValue=function(a,b){b=b||document.body;for(var c,d=cm.getByName(a,b),e=0,f=d.length;f>e;e++)d[e].checked&&(c=d[e].value);return c},cm.isRegExp=function(a){return a.constructor==RegExp},cm.toFixed=function(a,b){return parseFloat(a).toFixed(b)},cm.toNumber=function(a){return parseInt(a.replace(/\s+/,""))},cm.is=function(a){return"undefined"==typeof Com.UA?(cm.log('Error. UA.js is not exists or not loaded. Method "cm.is()" returns false.'),!1):Com.UA.is(a)},cm.isVersion=function(){return"undefined"==typeof Com.UA?(cm.log('Error. UA.js is not exists or not loaded. Method "cm.isVersion()" returns null.'),null):Com.UA.isVersion()},cm.isMobile=function(){return"undefined"==typeof Com.UA?(cm.log('Error. UA.js is not exists or not loaded. Method "cm.isMobile()" returns false.'),!1):Com.UA.isMobile()},cm.decode=function(){var a=document.createElement("textarea");return function(b){return b?(a.innerHTML=b,a.value):""}}(),cm.strWrap=function(a,b){return a=a.toString(),["",a,""].join(b)},cm.strReplace=function(a,b){return b&&cm.isObject(b)&&(a=a.toString(),cm.forEach(b,function(b,c){a=a.replace(new RegExp(c,"g"),b)})),a},cm.reduceText=function(a,b,c){return a.length>b?a.slice(0,b)+(c?"...":""):a},cm.removeDanger=function(a){return a.replace(/(\<|\>|&lt;|&gt;)/gim,"")},cm.cutHTML=function(a){return a.replace(/<[^>]*>/g,"")},cm.splitNumber=function(a){return a.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")},cm.rand=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},cm.isEven=function(a){return/^(.*)(0|2|4|6|8)$/.test(a)},cm.addLeadZero=function(a){return a=parseInt(a,10),10>a?"0"+a:a},cm.getCurrentDate=function(a){return a=a||cm._config.dateTimeFormat,cm.dateFormat(new Date,a)},cm.dateFormat=function(a,b,c){var d=b,e=function(a){return{"%Y":function(){return a?a.getFullYear():"0000"},"%m":function(){return a?cm.addLeadZero(a.getMonth()+1):"00"},"%n":function(){return a?a.getMonth()+1:"00"},"%F":function(){return a?c.months[a.getMonth()]:"00"},"%d":function(){return a?cm.addLeadZero(a.getDate()):"00"},"%j":function(){return a?a.getDate():"00"},"%l":function(){return a?c.days[a.getDay()]:"00"},"%a":function(){return a?a.getHours()>=12?"pm":"am":""},"%A":function(){return a?a.getHours()>=12?"PM":"AM":""},"%g":function(){return a?a.getHours()%12||12:"00"},"%G":function(){return a?a.getHours():"00"},"%h":function(){return a?cm.addLeadZero(a.getHours()%12||12):"00"},"%H":function(){return a?cm.addLeadZero(a.getHours()):"00"},"%i":function(){return a?cm.addLeadZero(a.getMinutes()):"00"},"%s":function(){return a?cm.addLeadZero(a.getSeconds()):"00"}}};return c=cm.merge({months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},c),cm.forEach(e(a),function(a,b){d=d.replace(b,a)}),d},cm.parseDate=function(a,b){if(!a)return null;var c=new Date,d={"%Y":"YYYY","%m":"mm","%d":"dd","%H":"HH","%i":"ii","%s":"ss"},e={YYYY:function(a){c.setFullYear(a)},mm:function(a){c.setMonth(a-1)},dd:function(a){c.setDate(a)},HH:function(a){c.setHours(a)},ii:function(a){c.setMinutes(a)},ss:function(a){c.setSeconds(a)}},f=0;return b=b||cm._config.dateTimeFormat,cm.forEach(d,function(a,c){b=b.replace(c,a)}),cm.forEach(e,function(c,d){for(f=b.indexOf(d);-1!=f;)c(a.substr(f,d.length)),f=b.indexOf(d,f+1)}),c},cm.addClass=function(a,b,c){if(!a||cm.isEmpty(b))return null;if(c&&(c=a.clientHeight),a.classList)cm.forEach(b.split(/\s+/),function(b){cm.isEmpty(b)||a.classList.add(b)});else{var d=cm.arrayToObject("object"==typeof b?b:b.split(/\s+/)),e=cm.arrayToObject(a&&a.className?a.className.split(/\s+/):[]);e=cm.merge(e,d),a.className=cm.objectToArray(e).join(" ")}return a},cm.removeClass=function(a,b,c){if(!a||cm.isEmpty(b))return null;if(c&&(c=a.clientHeight),a.classList)cm.forEach(b.split(/\s+/),function(b){cm.isEmpty(b)||a.classList.remove(b)});else{var d=cm.arrayToObject("object"==typeof b?b:b.split(/\s+/)),e=a&&a.className?a.className.split(/\s+/):[],f=[];e.forEach(function(a){d[a]||f.push(a)}),a.className=f.join(" ")}return a},cm.replaceClass=function(a,b,c,d){return a?cm.addClass(cm.removeClass(a,b,d),c,d):null},cm.hasClass=cm.isClass=function(a,b){var c,d;return a?a.classList?a.classList.contains(b):(d=a.className?a.className.split(/\s+/):[],c=!1,cm.forEach(d,function(a){a==b&&(c=!0)}),c):!1},cm.getPageSize=function(a){var b=document,c=b.documentElement,d={height:Math.max(Math.max(b.body.scrollHeight,c.scrollHeight),Math.max(b.body.offsetHeight,c.offsetHeight),Math.max(b.body.clientHeight,c.clientHeight)),width:Math.max(Math.max(b.body.scrollWidth,c.scrollWidth),Math.max(b.body.offsetWidth,c.offsetWidth),Math.max(b.body.clientWidth,c.clientWidth)),winHeight:c.clientHeight,winWidth:c.clientWidth};return d[a]||d},cm.getScrollBarSize=function(){var a=cm.Node("div"),b=a.style,c=0;return b.width="100px",b.height="100px",b.overflow="scroll",b.position="position",b.top="-9000px",cm.insertFirst(a,document.body),c=Math.max(a.offsetWidth-a.clientWidth,0),cm.remove(a),c},cm.setOpacity=function(a,b){return a&&(cm.is("ie")&&cm.isVersion()<9?a.style.filter="alpha(opacity="+Math.floor(100*b)+")":a.style.opacity=b),a},cm.getX=function(a){var b=0,c=a;try{for(;c;)b+=c.offsetLeft,c!=a&&(b+=cm.getStyle(c,"borderLeftWidth",!0)||0),c=c.offsetParent}catch(d){return b}return b},cm.getY=function(a){var b=0,c=a;try{for(;c;)b+=c.offsetTop,c!=a&&(b+=cm.getStyle(c,"borderTopWidth",!0)||0),c=c.offsetParent}catch(d){return b}return b},cm.getRealX=function(a){return cm.isNode(a)?a.getBoundingClientRect().left:0},cm.getRealY=function(a){return cm.isNode(a)?a.getBoundingClientRect().top:0},cm.getRect=function(a){var b,c,d=document.documentElement;return cm.isWindow(a)?(d=document.documentElement,{top:0,right:d.clientWidth,bottom:d.clientHeight,left:0,width:d.clientWidth,height:d.clientHeight}):cm.isNode(a)?(b=a.getBoundingClientRect(),c={top:Math.round(b.top),right:Math.round(b.right),bottom:Math.round(b.bottom),left:Math.round(b.left)},c.width="undefined"!=typeof b.width?Math.round(b.width):b.right-b.left,c.height="undefined"!=typeof b.height?Math.round(b.height):b.bottom-b.top,c):{top:0,right:0,bottom:0,left:0,width:0,height:0}},cm.getFullRect=function(a,b){if(!a||!cm.isNode(a))return null;var c={};return b="undefined"==typeof b?cm.getStyleObject(a):b,c.width=a.offsetWidth,c.height=a.offsetHeight,c.x1=cm.getRealX(a),c.y1=cm.getRealY(a),c.x2=c.x1+c.width,c.y2=c.y1+c.height,c.padding={top:cm.getCSSStyle(b,"paddingTop",!0),right:cm.getCSSStyle(b,"paddingRight",!0),bottom:cm.getCSSStyle(b,"paddingBottom",!0),left:cm.getCSSStyle(b,"paddingLeft",!0)},c.innerWidth=c.width-c.padding.left-c.padding.right,c.innerHeight=c.height-c.padding.top-c.padding.bottom,c.innerX1=c.x1+c.padding.left,c.innerY1=c.y1+c.padding.top,c.innerX2=c.innerX1+c.innerWidth,c.innerY2=c.innerY1+c.innerHeight,c.margin={top:cm.getCSSStyle(b,"marginTop",!0),right:cm.getCSSStyle(b,"marginRight",!0),bottom:cm.getCSSStyle(b,"marginBottom",!0),left:cm.getCSSStyle(b,"marginLeft",!0)},c.absoluteWidth=c.width+c.margin.left+c.margin.right,c.absoluteHeight=c.height+c.margin.top+c.margin.bottom,c.absoluteX1=c.x1-c.margin.left,c.absoluteY1=c.y1-c.margin.top,c.absoluteX2=c.x2+c.margin.right,c.absoluteY2=c.y2+c.margin.bottom,c},cm.getRealWidth=function(a,b){var c=0,d=0;return c=a.offsetWidth,a.style.width="auto",d=a.offsetWidth,a.style.width="undefined"==typeof b?[c,"px"].join(""):b,d},cm.getRealHeight=function(a,b,c){var d,e,f=["self","current","offset","offsetRelative"],g={};return a&&cm.isNode(a)?(e=cm.getStyleObject(a),b="undefined"!=typeof b&&cm.inArray(f,b)?b:"offset",c="undefined"!=typeof c&&cm.inArray(f,c)?c:!1,cm.forEach(f,function(a){g[a]=0}),d={display:a.style.display,height:a.style.height,position:a.style.position},a.style.display="block",g.current=a.offsetHeight,a.style.height="auto",g.offset=a.offsetHeight,g.self=g.offset-cm.getStyle(e,"borderTopWidth",!0)-cm.getStyle(e,"borderBottomWidth",!0)-cm.getStyle(e,"paddingTop",!0)-cm.getStyle(e,"paddingBottom",!0),a.style.position="relative",g.offsetRelative=a.offsetHeight,a.style.display=d.display,a.style.height=d.height,a.style.position=d.position,c&&(a.style.height=[g[c],"px"].join("")),g[b]):0},cm.getIndentX=function(a){return a?cm.getStyle(a,"paddingLeft",!0)+cm.getStyle(a,"paddingRight",!0)+cm.getStyle(a,"borderLeftWidth",!0)+cm.getStyle(a,"borderRightWidth",!0):null},cm.getIndentY=function(a){return a?cm.getStyle(a,"paddingTop",!0)+cm.getStyle(a,"paddingBottom",!0)+cm.getStyle(a,"borderTopWidth",!0)+cm.getStyle(a,"borderBottomWidth",!0):null},cm.addStyles=function(a,b){var c,d=b.replace(/\s/g,"").split(";");return d.forEach(function(b){b.length>0&&(c=b.split(":"),c[2]=cm.styleStrToKey(c[0]),"float"==c[0]?(a.style[c[2][0]]=c[1],a.style[c[2][1]]=c[1]):a.style[c[2]]=c[1])}),a},cm.getStyleObject=function(){return window.getComputedStyle?function(a){return document.defaultView.getComputedStyle(a,null)}:function(a){return a.currentStyle}}(),cm.getCSSStyle=cm.getStyle=function(a,b,c){var d,e,f;return(d=cm.isNode(a)?cm.getStyleObject(a):a)?(e=d[b],f=c?cm.styleToNumber(e):e):0},cm.getCurrentStyle=function(a,b,c){switch(b){case"width":case"height":case"top":case"left":var d=b.charAt(0).toUpperCase()+b.substr(1,b.length-1);if("%"==c&&!a.style[b].match(/%/)){var e=/body/i.test(a.parentNode.tagName)||/top|left/i.test(d)?"client":"offset",f=/width|left/i.test(d)?a.parentNode[e+"Width"]:a.parentNode[e+"Height"];return 100*(a["offset"+d]/f)}if("%"==c&&/%/.test(a.style[b])){var g=a.style.display;a.style.display="none";var h=cm.getCSSStyle(a,b,!0)||0;return a.style.display=g,h}return"px"==c&&/px/.test(a.style[b])?cm.getCSSStyle(a,b,!0)||0:a["offset"+d];case"opacity":if(cm.is("ie")&&cm.isVersion()<9){var i=/alpha\(opacity=(.*)\)/,j=i.exec(a.style.filter||cm.getCSSStyle(a,"filter"));return j?j[1]/100:1}var k=parseFloat(a.style.opacity||cm.getCSSStyle(a,"opacity"));return isNaN(k)?1:k;case"color":case"backgroundColor":case"borderColor":var k=cm.getCSSStyle(a,b);return k.match(/rgb/i)?(k=k.match(/\d+/g),[parseInt(k[0]),parseInt(k[1]),parseInt(k[2])]):cm.hex2rgb(k.match(/[\w\d]+/)[0]);case"docScrollTop":return cm.getBodyScrollTop();case"scrollLeft":case"scrollTop":return a[b];case"x1":case"x2":case"y1":case"y2":return parseInt(a.getAttribute(b));default:return cm.getCSSStyle(a,b,!0)||0}},cm.getStyleDimension=function(a){var b=a.toString().match(/\d+(\D*)/);return b?b[1]:""},cm.styleToNumber=function(a){return a=parseFloat(a.toString().replace(/(pt|px|%)/g,"")),a=isNaN(a)?0:a},cm.hex2rgb=function(a){return function(a){return[a>>16&255,a>>8&255,255&a]}(parseInt(a,16))},cm.rgb2hex=function(a,b,c){var d=[a,b,c];for(var e in d)d[e]=Number(d[e]).toString(16),"0"==d[e]?d[e]="00":1==d[e].length&&(d[e]="0"+d[e]);return"#"+d.join("")},cm.styleStrToKey=function(a){if(a=a.replace(/\s/g,""),"float"==a)a=["cssFloat","styleFloat"];else if(a.match("-")){var b=a.split("-");a=b[0]+b[1].replace(b[1].charAt(0),b[1].charAt(0).toUpperCase())}return a},cm.getScrollTop=function(a){return cm.isWindow(a)?cm.getBodyScrollTop():cm.isNode(a)?/body|html/gi.test(a.tagName)?cm.getBodyScrollTop():a.scrollTop:0},cm.getScrollLeft=function(a){return cm.isWindow(a)?cm.getBodyScrollLeft():cm.isNode(a)?/body|html/gi.test(a.tagName)?cm.getBodyScrollLeft():a.scrollLeft:0},cm.setScrollTop=function(a,b){
return cm.isWindow(a)?cm.setBodyScrollTop(b):cm.isNode(a)&&(/body|html/gi.test(a.tagName)?cm.setBodyScrollTop(b):a.scrollTop=b),a},cm.setScrollLeft=function(a,b){return cm.isWindow(a)?cm.setBodyScrollLeft(b):cm.isNode(a)&&(/body|html/gi.test(a.tagName)?cm.setBodyScrollLeft(b):a.scrollLeft=b),a},cm.getScrollHeight=function(a){return cm.isWindow(a)?cm.getBodyScrollHeight():cm.isNode(a)?/body|html/gi.test(a.tagName)?cm.getBodyScrollHeight():a.scrollHeight:0},cm.setBodyScrollTop=function(a){document.documentElement.scrollTop=a,document.body.scrollTop=a},cm.setBodyScrollLeft=function(a){document.documentElement.scrollLeft=a,document.body.scrollLeft=a},cm.getBodyScrollTop=function(){return Math.max(document.documentElement.scrollTop,document.body.scrollTop,0)},cm.getBodyScrollLeft=function(){return Math.max(document.documentElement.scrollLeft,document.body.scrollLeft,0)},cm.getBodyScrollHeight=function(){return Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,0)},cm.getSupportedStyle=function(a){var b=cm.styleStrToKey(a).replace(a.charAt(0),a.charAt(0).toUpperCase()),c=[cm.styleStrToKey(a),["Webkit",b].join(""),["Moz",b].join(""),["O",b].join(""),["ms",b].join("")];return a=!1,cm.forEach(c,function(b){"undefined"==typeof document.createElement("div").style[b]||a||(a=b)}),a},cm.getTransitionDurationFromRule=function(a){var b,c=cm.getCSSRule(a)[0];return c&&(b=c.style[cm.getSupportedStyle("transitionDuration")])?b.match("ms")?parseFloat(b):b.match("s")?b/1e3:parseFloat(b):0},cm.createStyleSheet=function(){var a=document.createElement("style");return a.appendChild(document.createTextNode("")),document.head.appendChild(a),a.sheet},cm.getCSSRule=function(a){var b,c=[];return document.styleSheets&&cm.forEach(document.styleSheets,function(d){b=d.cssRules?d.cssRules:d.rules,cm.forEach(b,function(b){b.selectorText==a&&c.push(b)})}),c},cm.addCSSRule=function(a,b,c,d){document.styleSheets&&(a="undefined"!=typeof a&&a?a:document.styleSheets[0],c="undefined"!=typeof c&&c?c:"",d="undefined"!=typeof d&&d?d:-1,"insertRule"in a?a.insertRule(b+"{"+c+"}",d):"addRule"in a&&a.addRule(b,c,d))},cm.removeCSSRule=function(a){var b;document.styleSheets&&cm.forEach(document.styleSheets,function(c){b=c.cssRules?c.cssRules:c.rules,cm.forEachReverse(b,function(b,d){b.selectorText==a&&(c.cssRules?c.deleteRule(d):c.removeRule(d))})})},cm.setCSSTranslate=function(){var a=cm.getSupportedStyle("transform");return a?function(b,c,d,e,f){return c="undefined"!=typeof c&&"auto"!=c?c:0,d="undefined"!=typeof d&&"auto"!=d?d:0,e="undefined"!=typeof e&&"auto"!=e?e:0,f="undefined"!=typeof f?f:"",b.style[a]=["translate3d(",c,",",d,",",e,")",f].join(" "),b}:function(a,b,c,d,e){return b="undefined"!=typeof b?b:0,c="undefined"!=typeof c?c:0,a.style.left=b,a.style.top=c,a}}();var animFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){return window.setTimeout(a,1e3/60)}}();cm.Animation=function(a){var b=this,c=a,d=[],e={random:function(a){return function(a,b){return Math.random()*(b-a)+a}(a,1)},simple:function(a){return a},acceleration:function(a){return Math.pow(a,3)},inhibition:function(a){return 1-e.acceleration(1-a)},smooth:function(a){return.5>a?e.acceleration(2*a)/2:1-e.acceleration(2*(1-a))/2}};b.getTarget=function(){return c},b.go=function(){var a=cm.merge({style:"",duration:"",anim:"simple",onStop:function(){}},arguments[0]),b="animation_process_"+Math.random(),h=e[a.anim]||e.simple,i=[];for(var j in a.style){var k=a.style[j].toString(),l=cm.getStyleDimension(k);i.push({name:j,"new":g(j,k),dimension:l,old:cm.getCurrentStyle(c,j,l)})}var m=Date.now();for(var n in d)d[n]=!1;d[b]=!0,function o(){var c=b;if(!d[c])return delete d[c],!1;var e=Date.now()-m,g=e/a.duration;f(g,h,i,a.duration)?(delete d[c],a.onStop&&a.onStop()):animFrame(o)}()},b.stop=function(){for(var a in d)d[a]=!1};var f=function(a,b,d,e){return 1>=a?(d.forEach(function(e){var f=e.old+(e["new"]-e.old)*b(a);if("opacity"==e.name)cm.setOpacity(c,f);else if(/color/i.test(e.name)){var g=parseInt((e["new"][0]-e.old[0])*b(a)+e.old[0]),h=parseInt((e["new"][1]-e.old[1])*b(a)+e.old[1]),j=parseInt((e["new"][2]-e.old[2])*b(a)+e.old[2]);c.style[d[i].name]=cm.rgb2hex(g,h,j)}else/scrollLeft|scrollTop/.test(e.name)?c[e.name]=f:/x1|x2|y1|y2/.test(e.name)?c.setAttribute(e.name,Math.round(f)):"docScrollTop"==e.name?cm.setBodyScrollTop(f):c.style[e.name]=Math.round(f)+e.dimension}),!1):(d.forEach(function(a){"opacity"==a.name?cm.setOpacity(c,a["new"]):/color/i.test(a.name)?c.style[a.name]=cm.rgb2hex(a["new"][0],a["new"][1],a["new"][2]):/scrollLeft|scrollTop/.test(a.name)?c[a.name]=a["new"]:/x1|x2|y1|y2/.test(a.name)?c.setAttribute(a.name,a["new"]):"docScrollTop"==a.name?cm.setBodyScrollTop(a["new"]):c.style[a.name]=a["new"]+a.dimension}),!0)},g=function(a,b){if(a.match(/color/i)){if(/rgb/i.test(b)){var c=b.match(/\d+/g);return[parseInt(c[0]),parseInt(c[1]),parseInt(c[2])]}return cm.hex2rgb(b.match(/[\w\d]+/)[0])}return b.replace(/[^\-0-9\.]/g,"")}},cm.transition=function(a,b){var c,d=cm.getSupportedStyle("transition"),e=[],f=function(){b=cm.merge({properties:{},duration:0,easing:"ease-in-out",delayIn:30,delayOut:30,clear:!1,onStop:function(){}},b),cm.forEach(b.properties,function(a,c){c=cm.styleStrToKey(c),e.push([c,b.duration+"ms",b.easing].join(" "))}),e=e.join(", "),g()},g=function(){cm.forEach(b.properties,function(b,d){d=cm.styleStrToKey(d),c=cm.getStyleDimension(b),a.style[d]=cm.getCurrentStyle(a,d,c)+c}),setTimeout(function(){a.style[d]=e,cm.forEach(b.properties,function(b,c){c=cm.styleStrToKey(c),a.style[c]=b})},b.delayIn),setTimeout(function(){a.style[d]="",b.clear&&cm.forEach(b.properties,function(b,c){c=cm.styleStrToKey(c),a.style[c]=""}),b.onStop(a)},b.duration+b.delayIn+b.delayOut)};f()},cm.storageSet=function(a,b,c){if(c=c!==!1,cm.isLocalStorage)try{window.localStorage.setItem(a,b)}catch(d){}else c&&cm.cookieSet(a,b)},cm.storageGet=function(a,b){return b=b!==!1,cm.isLocalStorage?window.localStorage.getItem(a):b?cm.cookieGet(a):null},cm.storageRemove=function(a,b){b=b!==!1,cm.isLocalStorage?localStorage.removeItem(a):b&&cm.cookieRemove(a)},cm.cookieSet=function(a,b,c){document.cookie=encodeURI(a)+"="+encodeURI(b)+";"+(c?cm.cookieDate(c):"")},cm.cookieGet=function(a){var b=" "+document.cookie,c=" "+encodeURI(a)+"=",d=null,e=0,f=0;return b.length>0&&(e=b.indexOf(c),-1!=e&&(e+=c.length,f=b.indexOf(";",e),-1==f&&(f=b.length),d=encodeURI(b.substring(e,f)))),d},cm.cookieRemove=function(a){var b=new Date;b.setDate(b.getDate()-1),document.cookie=encodeURI(a)+"=;expires="+b},cm.cookieDate=function(a){return"expires="+new Date((new Date).getTime()+864e5*a).toUTCString()+";"},cm.ajax=function(a){var b,c,d,e,f,g,h,i=cm.merge({debug:!0,type:"xml",method:"post",params:"",url:"",httpRequestObject:cm.createXmlHttpRequestObject(),headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},withCredentials:!1,onStart:function(){},onEnd:function(){},onSuccess:function(){},onError:function(){},onAbort:function(){},handler:!1},a),j=function(){k(),"jsonp"==i.type?(h={abort:t},r()):(h=i.httpRequestObject,l())},k=function(){i.type=i.type.toLocaleLowerCase(),b=/text|json/.test(i.type)?"responseText":"responseXML",i.method=i.method.toLocaleLowerCase(),cm.isObject(i.params)&&(i.params=cm.obj2URI(i.params)),"post"!=i.method&&(cm.isEmpty(i.params)||(i.url=[i.url,i.params].join("?")))},l=function(){i.httpRequestObject.open(i.method,i.url,!0),"withCredentials"in i.httpRequestObject&&(i.httpRequestObject.withCredentials=i.withCredentials),cm.forEach(i.headers,function(a,b){i.httpRequestObject.setRequestHeader(b,a)}),cm.addEvent(i.httpRequestObject,"load",m),cm.addEvent(i.httpRequestObject,"error",o),cm.addEvent(i.httpRequestObject,"abort",p),i.onStart(),"post"==i.method?i.httpRequestObject.send(i.params):i.httpRequestObject.send(null)},m=function(a){4==i.httpRequestObject.readyState&&(c=i.httpRequestObject[b],"json"==i.type&&(c=cm.parseJSON(c)),200==i.httpRequestObject.status?i.onSuccess(c,a):i.onError(a),q(c),i.onEnd(a))},n=function(){i.onSuccess.apply(i.onSuccess,arguments),q.apply(q,arguments),i.onEnd.apply(i.onEnd,arguments)},o=function(){i.onError.apply(i.onError,arguments),q.apply(q,arguments),i.onEnd.apply(i.onEnd,arguments)},p=function(){i.onAbort.apply(i.onAbort,arguments),q.apply(q,arguments),i.onEnd.apply(i.onEnd,arguments)},q=function(){"function"==typeof i.handler&&(cm.errorLog({type:"attention",name:"cm.ajax",message:'Parameter "handler" is deprecated. Use "onSuccess", "onError" or "onAbort" callbacks instead.'}),i.handler.apply(i.handler,arguments))},r=function(){d=["cmAjaxJSONP",Date.now()].join("__"),e=[d,"Success"].join("__"),f=[d,"Error"].join("__"),window[e]=function(){n.apply(n,arguments),s()},window[f]=function(){o.apply(o,arguments),s()},g=cm.Node("script",{type:"application/javascript"}),/%callback%|%25callback%25/.test(i.url)?i.url=cm.strReplace(i.url,{"%callback%":e,"%25callback%25":e}):cm.addEvent(g,"load",window[e]),cm.addEvent(g,"error",window[f]),i.onStart(),g.setAttribute("src",i.url),document.getElementsByTagName("head")[0].appendChild(g)},s=function(){cm.removeEvent(g,"load",window[e]),cm.removeEvent(g,"error",window[f]),cm.remove(g),delete window[e],delete window[f]},t=function(){window[e]=function(){p(),s()}};return j(),h},cm.parseJSON=function(a){var b;if(a)try{b=JSON.parse(a)}catch(c){cm.errorLog({type:"common",name:"cm.parseJSON",message:["Error while parsing JSON. Input string:",a].join(" ")})}return b},cm.obj2URI=function(a,b){var c=[];return cm.forEach(a,function(a,d){var e=b?b+"["+d+"]":d,f=a;c.push("object"==typeof f?cm.obj2URI(f,e):e+"="+encodeURIComponent(f))}),c.join("&")},cm.xml2arr=function(a){if(a=9==a.nodeType?cm.firstEl(a):a,3==a.nodeType||4==a.nodeType){var b=cm.nextEl(a);if(!b)return a.nodeValue;a=b}if(1==a.nodeType){var c={};c[a.tagName]={};for(var d=a.childNodes,e=0,f=d.length;f>e;e++){var g=arguments.callee(d[e]);if("object"==typeof g)for(var h in g)c[a.tagName][h]?c[a.tagName][h]&&(c[a.tagName][h].push?c[a.tagName][h].push(g[h]):c[a.tagName][h]=[c[a.tagName][h],g[h]]):c[a.tagName][h]=g[h];else c[a.tagName]=g}return c[a.tagName]=f?c[a.tagName]:"",c}return null},cm.responseInArray=function(a){for(var b=a.getElementsByTagName("response")[0],c=[],d=b.childNodes,e=0;d.length>e;e++)if(1==d[e].nodeType){for(var f=d[e].childNodes,g=[],h=0;f.length>h;h++)1==f[h].nodeType&&(g[f[h].tagName]=f[h].firstChild?f[h].firstChild.nodeValue:"");c.push(g)}return c},cm.createXmlHttpRequestObject=function(){var a;try{a=new XMLHttpRequest}catch(b){var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];cm.forEach(c,function(b){try{a=new ActiveXObject(b)}catch(c){}})}return a?a:null},cm.loadHashData=function(){var a=document.location.hash.replace("#","").split("&");return window.userRequest={},a.forEach(function(a){window.userRequest[a.split("=")[0]]=a.split("=")[1]}),!0},cm.reloadHashData=function(){var a="#";return cm.forEach(window.userRequest,function(b,c){a+=c+"="+b}),document.location.hash=a,!0},cm.createSvg=function(){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),a.setAttribute("version","1.1"),a},cm.defineStack={},cm.defineHelper=function(a,b,c){var d=this;b=cm.merge({modules:[],require:[],params:{},events:[]},b),d.build={_raw:b,_name:{full:a,"short":a.replace(".",""),split:a.split(".")},_modules:{},params:b.params},cm.forEach(Mod,function(a,b){a._config&&a._config.predefine&&Mod.Extend._extend.call(d,b,a)}),cm.forEach(d.build._raw.modules,function(a){Mod[a]&&Mod.Extend._extend.call(d,a,Mod[a])}),c.prototype=d.build,cm.objectSelector(d.build._name.full,window,c),cm.defineStack[a]=c},cm.define=function(){var a=Function.prototype.call.bind(cm.defineHelper,arguments);return function(){a.apply(cm.defineHelper,arguments)}}(),cm.getConstructor=function(a,b){var c;return b="undefined"!=typeof b?b:function(){},a&&"*"!=a?(c=cm.defineStack[a],c?(b(c),c):(cm.errorLog({type:"error",name:"cm.getConstructor",message:["Class",cm.strWrap(a,'"'),"does not exists or define."].join(" ")}),!1)):(cm.forEach(cm.defineStack,function(a){b(a)}),cm.defineStack)},cm.find=function(a,b,c,d){if(!a||"*"==a){var e=[];return cm.forEach(cm.defineStack,function(a){a.prototype.findInStack&&(e=cm.extend(e,a.prototype.findInStack(b,c,d)))}),e}var f=cm.defineStack[a];if(f){if(f.prototype.findInStack)return f.prototype.findInStack(b,c,d);cm.errorLog({type:"error",name:"cm.find",message:["Class",cm.strWrap(a,'"'),"does not support Module Stack."].join(" ")})}else cm.errorLog({type:"error",name:"cm.find",message:["Class",cm.strWrap(a,'"'),"does not exist."].join(" ")});return null},cm.Finder=function(a,b,c,d,e){var f=this,g=!1,h=function(){var f;c=c||document.body,d="function"==typeof d?d:function(){},e=cm.merge({event:"onRender",multiple:!1},e),f=cm.find(a,b,c,d),f&&f.length&&!e.multiple||(g=!0,cm.getConstructor(a,function(a){a.prototype.addEvent(e.event,i)}))},i=function(a){a.removeEvent(e.event,i);var g=a.isAppropriateToStack(b,c,d);g&&!e.multiple&&f.remove()};f.remove=function(){return g&&cm.getConstructor(a,function(a){a.prototype.removeEvent(e.event,i)}),f},h()},Mod.Params={_config:{extend:!0,predefine:!1,require:["Extend"]},_construct:function(){var a=this;a.build.params||(a.build.params={})},setParams:function(a){var b=this;return b.params=cm.merge(b.params,a),cm.forEach(b.params,function(a,c){switch(a){case"document.window":b.params[c]=window;break;case"document.html":b.params[c]=cm.getDocumentHtml();break;case"document.body":b.params[c]=document.body;break;case"document.head":b.params[c]=cm.getDocumentHead();break;default:/cm._config./i.test(a)&&(b.params[c]=cm._config[a.replace("cm._config.","")])}}),b}},Mod.Events={_config:{extend:!0,predefine:!1,require:["Extend"]},_construct:function(){var a=this;a.build.params.events||(a.build.params.events={}),a.build.events={},cm.forEach(a.build._raw.events,function(b){a.build.events[b]=[],a.build[b]=function(a){var c=this;return c.addEvent(b,a),c}})},addEvent:function(a,b){var c=this;return c.events=cm.clone(c.events),c.events[a]?"function"==typeof b?c.events[a].push(b):cm.errorLog({name:c._name.full,message:["Handler of event",cm.strWrap(a,'"'),"must be a function."].join(" ")}):cm.errorLog({name:c._name.full,message:[cm.strWrap(a,'"'),"does not exists."].join(" ")}),c},addEvents:function(a){var b=this;return a&&b.convertEvents(a),b},removeEvent:function(a,b){var c=this;return c.events=cm.clone(c.events),c.events[a]?"function"==typeof b?c.events[a]=c.events[a].filter(function(a){return a!=b}):cm.errorLog({name:c._name.full,message:["Handler of event",cm.strWrap(a,'"'),"must be a function."].join(" ")}):cm.errorLog({name:c._name.full,message:[cm.strWrap(a,'"'),"does not exists."].join(" ")}),c},triggerEvent:function(a,b){var c=this;return c.events[a]?cm.forEach(c.events[a],function(a){a(c,b||{})}):cm.errorLog({name:c._name.full,message:[cm.strWrap(a,'"'),"does not exists."].join(" ")}),c},convertEvents:function(a){var b=this;return cm.forEach(a,function(a,c){b.addEvent(c,a)}),b}},Mod.Langs={_config:{extend:!0,predefine:!1,require:["Extend"]},_construct:function(){var a=this;a.build.params.langs||(a.build.params.langs={})},lang:function(a,b){var c,d=this;return"undefined"==typeof a?d.params.langs:!a||cm.isEmpty(a)?"":("undefined"==typeof d.params.langs[a]&&(d.params.langs[a]=a),c=d.params.langs[a],c=cm.strReplace(c,b))},setLangs:function(a){var b=this;return cm.isObject(a)&&(b.params.langs=cm.merge(b.params.langs,a)),b}},Mod.DataConfig={_config:{extend:!0,predefine:!1,require:["Extend"]},_construct:function(){var a=this;"undefined"==typeof a.build.params.configDataMarker&&(a.build.params.configDataMarker="data-config")},getDataConfig:function(a,b){var c,d=this;return cm.isNode(a)&&(b=b||d.params.configDataMarker,c=a.getAttribute(b),c&&(c=cm.parseJSON(c))&&d.setParams(c)),d},getNodeDataConfig:function(a,b){var c,d=this;return cm.isNode(a)&&(b=b||d.params.configDataMarker,c=a.getAttribute(b),c&&(c=cm.parseJSON(c)))?c:{}}},Mod.DataNodes={_config:{extend:!0,predefine:!1,require:["Extend"]},_construct:function(){var a=this;a.build.params.nodes||(a.build.params.nodes={}),"undefined"==typeof a.build.params.nodesDataMarker&&(a.build.params.nodesDataMarker="data-node"),"undefined"==typeof a.build.params.nodesMarker&&(a.build.params.nodesMarker=a.build._name["short"]),a.build.nodes||(a.build.nodes={})},getDataNodes:function(a,b,c){var d=this,e={};return a="undefined"==typeof a?document.body:a,a&&(b="undefined"==typeof b?d.params.nodesDataMarker:b,c="undefined"==typeof c?d.params.nodesMarker:c,e=c?cm.getNodes(a,b)[c]||{}:cm.getNodes(a,b),d.nodes=cm.merge(d.nodes,e)),d.nodes=cm.merge(d.nodes,d.params.nodes),d}},Mod.Storage={_config:{extend:!0,predefine:!1,require:["Extend"]},_construct:function(){var a=this;a.build.params.name||(a.build.params.name="")},storageRead:function(a){var b=this,c=JSON.parse(cm.storageGet(b._name.full))||{};return cm.isEmpty(b.params.name)?(cm.errorLog({type:"error",name:b._name.full,message:'Storage cannot be read because "name" parameter not provided.'}),null):c[b.params.name]&&"undefined"!=typeof c[b.params.name][a]?c[b.params.name][a]:(cm.errorLog({type:"attention",name:b._name.full,message:["Parameter",cm.strWrap(a,'"'),"does not exist or is not set."].join(" ")}),null)},storageReadAll:function(){var a=this,b=JSON.parse(cm.storageGet(a._name.full))||{};return cm.isEmpty(a.params.name)?(cm.errorLog({type:"error",name:a._name.full,message:'Storage cannot be read because "name" parameter not provided.'}),{}):b[a.params.name]?b[a.params.name]:(cm.errorLog({type:"attention",name:a._name.full,message:"Storage is empty."}),{})},storageWrite:function(a,b){var c=this,d=JSON.parse(cm.storageGet(c._name.full))||{};return cm.isEmpty(c.params.name)?(cm.errorLog({type:"error",name:c._name.full,message:'Storage cannot be written because "name" parameter not provided.'}),{}):(d[c.params.name]||(d[c.params.name]={}),d[c.params.name][a]=b,cm.storageSet(c._name.full,JSON.stringify(d)),d[c.params.name])},storageWriteAll:function(a){var b=this,c=JSON.parse(cm.storageGet(b._name.full))||{};return cm.isEmpty(b.params.name)?(cm.errorLog({type:"error",name:b._name.full,message:'Storage cannot be written because "name" parameter not provided.'}),{}):(c[b.params.name]=a,cm.storageSet(b._name.full,JSON.stringify(c)),c[b.params.name])}},Mod.Callbacks={_config:{extend:!0,predefine:!1,require:["Extend"]},_construct:function(){var a=this;a.build.params.callbacks||(a.build.params.callbacks={}),a.build.callbacks={},a.build._callbacks={}},callbacksProcess:function(){var a=this;return a.callbacks=cm.clone(a.callbacks),cm.forEach(a.callbacks,function(b,c){a._callbacks[c]=b}),cm.forEach(a.params.callbacks,function(b,c){a.callbacks[c]=b}),a},callbacksRestore:function(){var a=this;return a.callbacks=cm.clone(a.callbacks),cm.forEach(a._callbacks,function(b,c){a.callbacks[c]=b}),a}},Mod.Stack={_config:{extend:!0,predefine:!1,require:["Extend"]},_construct:function(){var a=this;a.build.params.name||(a.build.params.name=""),a.build._stack=[]},addToStack:function(a){var b=this;return b._stackItem={name:b.params.name,node:a,"class":b,className:b._name.full},b._stack.push(b._stackItem),b},isAppropriateToStack:function(a,b,c){var d=this,e=d._stackItem;return(cm.isEmpty(a)||e.name==a)&&cm.isParent(b,e.node,!0)?(c(e["class"],e),!0):!1},findInStack:function(a,b,c){var d=this,e=[];return b=b||document.body,c="function"==typeof c?c:function(){},cm.forEach(d._stack,function(d){(cm.isEmpty(a)||d.name==a)&&cm.isParent(b,d.node,!0)&&(e.push(d),c(d["class"],d))}),e}},Mod.Extend={_config:{extend:!0,predefine:!0},_construct:function(){},_extend:function(a,b){var c=this;c.build._modules[a]||(b._config=cm.merge({extend:!1,predefine:!1,require:[]},b._config),cm.forEach(b._config.require,function(a){Mod[a]&&Mod.Extend._extend.call(c,a,Mod[a])}),b._config.extend&&cm.forEach(b,function(a,b){/^(_)/.test(b)||(c.build[b]=a)}),"function"==typeof b._construct?b._construct.call(c):cm.errorLog({type:"error",name:c.build._name.full,message:["Module",cm.strWrap(a,'"'),'does not have "_construct" method.'].join(" ")}),c.build._modules[a]=b)},extend:function(a,b){var c=this;b?a?c._modules[a]?cm.errorLog({type:"error",name:c._name.full,message:["Module with name",cm.strWrap(a,'"'),"already constructed."].join(" ")}):(b._config=cm.merge({extend:!1,predefine:!1,require:[]},b._config),cm.forEach(b._config.require,function(a){Mod[a]&&Mod.Extend._extend.call(c,a,Mod[a])}),b._config.extend&&cm.forEach(b,function(a,b){/^(_)/.test(b)||(cm.defineStack[c._name.full].prototype[b]=a)}),"function"==typeof b._construct?b._construct.call(c):cm.errorLog({type:"error",name:c._name.full,message:["Module",cm.strWrap(a,'"'),'does not have "_construct" method.'].join(" ")}),c._modules[a]=b):cm.errorLog({type:"error",name:c._name.full,message:"Module should have a name."}):cm.errorLog({type:"error",name:c._name.full,message:"Trying to extend the class by non-existing module."})}},Mod.Structure={_config:{extend:!0,predefine:!1,require:["Extend"]},_construct:function(){var a=this;"undefined"==typeof a.build.params.renderStructure&&(a.build.params.renderStructure=!0)},appendStructure:function(a){var b=this;return b.params.container?b.params.container===b.params.node?cm.insertBefore(a,b.params.node):b.params.container.appendChild(a):b.params.node.parentNode&&cm.insertBefore(a,b.params.node),b}},Part.Menu=function(){var a,b=[],c=function(b){a=cm.getPageSize();var c=b.drop.offsetWidth,d=cm.getX(b.node),e=b.node.parentNode&&cm.isClass(b.node.parentNode,"pt__menu-dropdown")?b.node.parentNode.offsetWidth:0;c+e+d>=a.winWidth?cm.replaceClass(b.drop,"pull-left","pull-right"):cm.replaceClass(b.drop,"pull-right","pull-left")},d=function(a){var b;cm.addEvent(a.node,"mouseover",function(d){d=cm.getEvent(d),b=cm.getObjFromEvent(d),cm.isParent(a.drop,b,!0)||c(a)}),cm.addEvent(a.node,"mousedown",function(c){c=cm.getEvent(c),b=cm.getObjFromEvent(c),"hidden"!=cm.getStyle(a.drop,"visibility")||cm.isClass(a.node,"is-show")||cm.isParent(a.drop,b,!0)||(cm.isClass(a.node,"is-show")?cm.removeClass(a.node,"is-show"):(cm.preventDefault(c),cm.addClass(a.node,"is-show")))}),cm.addEvent(document.body,"mousedown",function(c){c=cm.getEvent(c),b=cm.getRelatedTarget(c),cm.isParent(a.node,b,!0)||cm.removeClass(a.node,"is-show")}),c(a)};return function(a){a="undefined"==typeof a?document.body:a;var e,f=cm.getByClass("pt__menu",a),g=[];cm.forEach(f,function(a){cm.inArray(b,a)||(e={node:a,drop:cm.getByClass("pt__menu-dropdown",a)[0]},e.drop&&d(e),g.push(e),b.push(a))}),cm.addEvent(window,"resize",function(){cm.forEach(g,function(a){c(a)})})}}(),Part.Autoresize=function(){var a,b=[],c=function(a){if(!cm.inArray(b,a)){if(cm.isNode(a)&&"textarea"==a.tagName.toLowerCase()){var c,d,e,f,g=cm.getStyle(a,"lineHeight",!0),h=cm.getStyle(a,"paddingTop",!0)+cm.getStyle(a,"paddingBottom",!0)+cm.getStyle(a,"borderTopWidth",!0)+cm.getStyle(a,"borderBottomWidth",!0);cm.addEvent(a,"scroll",function(){a.scrollTop=0}),c=setInterval(function(){a&&cm.inDOM(a)||clearInterval(c),e=d,f=a.value.match(/\n/g),d=f?f.length:0,d!==e&&(a.style.height=[(d+1)*g+h,"px"].join(""))},5)}b.push(a)}};return function(b){b="undefined"==typeof b?document.body:b,a=cm.getByClass("cm-autoresize",b),cm.forEach(a,c)}}(),cm.init=function(){var a=function(){b(),c(),d(),cm.addEvent(window,"resize",c),cm.addEvent(window,"resize",d),cm.addEvent(window,"mousemove",e)},b=function(){"undefined"!=typeof Com.UA&&Com.UA.setBrowserClass()},c=function(){var a,b,c,d=cm.getDocumentHtml();return function(){a=cm.getPageSize(),b=a.winWidth,c=a.winHeight,cm.removeClass(d,["is",cm._deviceType].join("-")),cm.removeClass(d,["is",cm._deviceOrientation].join("-")),cm._deviceOrientation=c>b?"portrait":"landscape",b>cm._config.screenTablet&&(cm._deviceType="desktop"),b<=cm._config.screenTablet&&b>cm._config.screenMobile&&(cm._deviceType="tablet"),b<=cm._config.screenMobile&&(cm._deviceType="mobile"),cm.addClass(d,["is",cm._deviceType].join("-")),cm.addClass(d,["is",cm._deviceOrientation].join("-"))}}(),d=function(){var a=0;return function(){a=cm._scrollSize,cm._scrollSize=cm.getScrollBarSize(),a!=cm._scrollSize&&cm.customEvent.trigger(window,"scrollSizeChange",{type:"all",self:!0,scrollSize:cm._scrollSize})}}(),e=(function(){var a,b=document.body;return function(){a&&clearTimeout(a),cm.hasClass(b,"disable-hover")||cm.addClass(b,"disable-hover"),a=setTimeout(function(){cm.removeClass(b,"disable-hover")},100)}}(),function(a){cm._clientPosition=cm.getEventClientPosition(a)});a()},cm.onReady(cm.init,!1),cm.define("Com.ActionMenu",{modules:["Params","Events","DataConfig","DataNodes","Stack"],events:["onRender"],params:{node:cm.Node("div"),name:"","Com.Tooltip":{className:"com-action-menu-tooltip",top:"targetHeight",targetEvent:"click",hideOnReClick:!0,theme:!1}}},function(a){var b=this;b.nodes={button:cm.Node("div"),target:cm.Node("div")},b.components={};var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d(),b.addToStack(b.params.node),b.triggerEvent("onRender")},d=function(){cm.getConstructor("Com.Tooltip",function(a){b.components.tooltip=new a(cm.merge(b.params["Com.Tooltip"],{target:b.nodes.button,content:b.nodes.target,events:{onShowStart:function(){cm.addClass(b.params.node,"active"),cm.addClass(b.nodes.button,"active")},onHideStart:function(){cm.removeClass(b.params.node,"active"),cm.removeClass(b.nodes.button,"active")}}}))})};c()}),cm.define("Com.Autocomplete",{modules:["Params","Events","Langs","DataConfig","Storage","Callbacks"],require:["Com.Tooltip"],events:["onRender","onClear","onSelect","onChange","onClickSelect","onAbort","onError"],params:{input:cm.Node("input",{type:"text"}),target:!1,container:"document.body",minLength:3,delay:300,clearOnEmpty:!0,showLoader:!0,data:[],responseKey:"data",ajax:{type:"json",method:"get",url:"",params:""},langs:{loader:"Searching for: %query%."},"Com.Tooltip":{hideOnOut:!0,targetEvent:"none",className:"com__ac-tooltip",width:"targetWidth",top:"targetHeight + 4"}}},function(a){var b,c=this;c.isOpen=!1,c.isAjax=!1,c.components={},c.registeredItems=[],c.selectedItemIndex=null,c.value=null,c.previousValue=null;var d=function(){c.setParams(a),c.convertEvents(c.params.events),c.getDataConfig(c.params.input),c.callbacksProcess(),e(),f()},e=function(){c.params.target||(c.params.target=c.params.input),c.isAjax=!cm.isEmpty(c.params.ajax.url),cm.isObject(c.params.ajax.params)&&(c.params.ajax.params=cm.obj2URI(c.params.ajax.params)),c.params.data=c.convertData(c.params.data)},f=function(){c.components.tooltip=new Com.Tooltip(cm.merge(c.params["Com.Tooltip"],{container:c.params.container,target:c.params.target,events:{onShowStart:function(){c.isOpen=!0,cm.addEvent(document,"mousedown",n)},onHideStart:function(){c.isOpen=!1,cm.removeEvent(document,"mousedown",n)}}})),c.setInput(c.params.input),c.triggerEvent("onRender")},g=function(a){var b,d;switch(a=cm.getEvent(a),a.keyCode){case 13:l(),c.hide();break;case 38:b=c.registeredItems.length,b&&(null==c.selectedItemIndex?c.selectedItemIndex=b-1:d=c.selectedItemIndex-1>=0?c.selectedItemIndex-1:b-1,j(d));break;case 40:b=c.registeredItems.length,b&&(d=null==c.selectedItemIndex?0:c.selectedItemIndex+1<b?c.selectedItemIndex+1:0,j(d))}},h=function(){c.isOpen||l()},i=function(){var a=c.params.input.value,d=cm.clone(c.params.ajax);b&&clearTimeout(b),c.selectedItemIndex=null,c.registeredItems=[],c.abort(),a.length>=c.params.minLength?b=setTimeout(function(){c.isAjax?(c.params.showLoader&&c.callbacks.loader(c,d,a),c.ajaxHandler=c.callbacks.request(c,d,a)):c.callbacks.data(c,a,c.params.data)},c.params.delay):c.hide()},j=function(a){var b=c.registeredItems[c.selectedItemIndex],d=c.registeredItems[a];b&&cm.removeClass(b.node,"active"),d&&(cm.addClass(d.node,"active"),c.components.tooltip.scrollToNode(d.node)),c.selectedItemIndex=a,k(c.selectedItemIndex)},k=function(a){var b=c.registeredItems[a];b&&c.setRegistered(b,!0)},l=function(){var a;b&&clearTimeout(b),c.abort(),c.params.clearOnEmpty&&(a=c.getRegisteredItem(c.value),a&&a.data.text==c.params.input.value||c.clear())},m=function(){c.value!=c.previousValue&&c.triggerEvent("onChange",c.value)},n=function(a){a=cm.getEvent(a);var b=cm.getEventTarget(a);c.isOwnNode(b)||(l(),c.hide())};c.callbacks.prepare=function(a,b,c){return b.url=cm.strReplace(b.url,{"%query%":c}),b.params=cm.strReplace(b.params,{"%query%":c}),b},c.callbacks.request=function(a,b,c){return b=a.callbacks.prepare(a,b,c),cm.ajax(cm.merge(b,{onSuccess:function(d){a.callbacks.response(a,b,c,d)},onError:function(){a.callbacks.error(a,b,c)}}))},c.callbacks.filter=function(a,b,c,d){var e=[],f=cm.objectSelector(a.params.responseKey,d);return f&&!cm.isEmpty(f)&&(e=f),e},c.callbacks.response=function(a,b,c,d){d&&(d=a.callbacks.filter(a,b,c,d)),cm.isEmpty(d)?a.callbacks.render(a,[]):a.callbacks.render(a,a.convertData(d))},c.callbacks.error=function(a,b,c){a.hide(),a.triggerEvent("onError")},c.callbacks.loader=function(a,b,c){var d={};d.container=cm.Node("div",{"class":"pt__listing-items disabled"},cm.Node("ul",cm.Node("li",cm.Node("a",cm.Node("span",{"class":"icon small loader-circle"}),cm.Node("span",a.lang("loader",{"%query%":c})))))),a.callbacks.embed(a,d.container),a.show()},c.callbacks.data=function(a,b,c){c=a.callbacks.query(a,b,c),a.callbacks.render(a,c)},c.callbacks.query=function(a,b,c){var d=[];return cm.forEach(c,function(a){a.text.toLowerCase().indexOf(b.toLowerCase())>-1&&d.push(a)}),d},c.callbacks.render=function(a,b){b.length?(a.callbacks.renderList(a,b),a.show()):a.hide()},c.callbacks.renderList=function(a,b){var c={};c.container=cm.Node("div",{"class":"pt__listing-items"},c.items=cm.Node("ul")),cm.forEach(b,function(b,d){a.callbacks.renderItem(a,c.items,b,d)}),a.callbacks.embed(a,c.container)},c.callbacks.renderItem=function(a,b,c,d){var e={};e.container=cm.Node("li",cm.Node("a",{innerHTML:c.text})),a.value==c.value&&(cm.addClass(e.container,"active"),a.selectedItemIndex=d),a.callbacks.registerItem(a,e.container,c,d),cm.appendChild(e.container,b)},c.callbacks.registerItem=function(a,b,c,d){var e={data:c,node:b,i:d};cm.addEvent(e.node,"click",function(){a.setRegistered(e,!0),a.triggerEvent("onClickSelect",a.value),a.hide()}),a.registeredItems.push(e)},c.callbacks.embed=function(a,b){a.components.tooltip.setContent(b)},c.set=function(a,b){return b="undefined"==typeof b?!0:b,c.previousValue=c.value,c.value="undefined"!=typeof a.value?a.value:a.text,c.params.input.value=a.text,b&&(c.triggerEvent("onSelect",c.value),m()),c},c.setRegistered=function(a,b){return b="undefined"==typeof b?!0:b,c.set(a.data,b),c},c.setInput=function(a){return cm.isNode(a)&&(c.params.input=a,cm.addEvent(c.params.input,"input",i),cm.addEvent(c.params.input,"keydown",g),cm.addEvent(c.params.input,"blur",h)),c},c.setTarget=function(a){return cm.isNode(a)&&(c.params.target=a,c.components.tooltip.setTarget(a)),c},c.get=function(){return c.value},c.getItem=function(a){var b;return a&&cm.forEach(c.params.data,function(c){c.value==a&&(b=c)}),b},c.getRegisteredItem=function(a){var b;return a&&cm.forEach(c.registeredItems,function(c){c.data.value==a&&(b=c)}),b},c.convertData=function(a){var b=a.map(function(a){return cm.isObject(a)?a:{text:a,value:a}});return b},c.clear=function(a){return a="undefined"==typeof a?!0:a,c.previousValue=c.value,c.value=null,c.params.clearOnEmpty&&(c.params.input.value=""),a&&(c.triggerEvent("onClear",c.value),m()),c},c.show=function(){return c.components.tooltip.show(),c},c.hide=function(){return c.components.tooltip.hide(),c},c.abort=function(){return c.ajaxHandler&&c.ajaxHandler.abort&&c.ajaxHandler.abort(),c},c.isOwnNode=function(a){return c.components.tooltip.isOwnNode(a)},d()}),
cm.define("Com.Calendar",{modules:["Params","Events","Langs","DataConfig","Stack"],events:["onRender","onDayOver","onDayOut","onDayClick","onMonthRender"],params:{name:"",container:cm.Node("div"),className:"",startYear:1950,endYear:"current + 10",renderMonthOnInit:!0,startWeekDay:0,renderSelectsInBody:!0,langs:{daysAbbr:["S","M","T","W","T","F","S"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]}}},function(params){var that=this,nodes={selects:{}},selects={},today=new Date,current={year:today.getFullYear(),month:today.getMonth()},previous={},next={},init=function(){that.setParams(params),that.convertEvents(that.params.events),that.getDataConfig(that.params.container),validateParams(),render(),setMiscEvents(),that.params.renderMonthOnInit&&renderView(),that.addToStack(nodes.container),that.triggerEvent("onRender")},validateParams=function(){/current/.test(that.params.startYear)&&(that.params.startYear=eval(cm.strReplace(that.params.startYear,{current:(new Date).getFullYear()}))),/current/.test(that.params.endYear)&&(that.params.endYear=eval(cm.strReplace(that.params.endYear,{current:(new Date).getFullYear()})))},render=function(){var a;nodes.container=cm.Node("div",{"class":"com__calendar"},cm.Node("div",{"class":"selects"},nodes.months=cm.Node("select",{"class":"select months"}),nodes.years=cm.Node("select",{"class":"select years"})),cm.Node("table",cm.Node("thead",nodes.days=cm.Node("tr")),nodes.dates=cm.Node("tbody"))),!cm.isEmpty(that.params.className)&&cm.addClass(nodes.container,that.params.className),cm.forEach(7,function(b){a=b+that.params.startWeekDay,a=a>6?Math.abs(6-(a-1)):a,nodes.days.appendChild(cm.Node("th",that.lang("daysAbbr")[a]))}),that.lang("months").forEach(function(a,b){nodes.months.appendChild(cm.Node("option",{value:b},a))});for(var b=that.params.endYear;b>=that.params.startYear;b--)nodes.years.appendChild(cm.Node("option",{value:b},b));that.params.container.appendChild(nodes.container)},setMiscEvents=function(){selects.years=new Com.Select({select:nodes.years,renderInBody:that.params.renderSelectsInBody}).set(current.year).addEvent("onChange",renderView),selects.months=new Com.Select({select:nodes.months,renderInBody:that.params.renderSelectsInBody}).set(current.month).addEvent("onChange",renderView)},renderView=function(a){a="undefined"!=typeof a?a:!0;var b;today=new Date,b=new Date(selects.years.get(),selects.months.get(),1),current=getMonthData(b),b=new Date(current.year,current.month,1),b.setMonth(current.month-1),previous=getMonthData(b),b=new Date(current.year,current.month,1),b.setMonth(current.month+1),next=getMonthData(b),cm.clearNode(nodes.dates),cm.forEach(6,renderRow),a&&that.triggerEvent("onMonthRender",current)},renderRow=function(a){var b=current.startWeekDay-that.params.startWeekDay,c=7*(a-1)+1-(b>0?b-7:b),d=nodes.dates.appendChild(cm.Node("tr"));cm.forEach(7,function(){renderCell(d,c),c++})},renderCell=function(a,b){var c,d,e;a.appendChild(c=cm.Node("td")),0>=b?(c.appendChild(d=cm.Node("div",previous.dayCount+b)),cm.addClass(c,"out"),cm.addEvent(d,"click",that.prevMonth)):b>current.dayCount?(c.appendChild(d=cm.Node("div",b-current.dayCount)),cm.addClass(c,"out"),cm.addEvent(d,"click",that.nextMonth)):(c.appendChild(d=cm.Node("div",b)),cm.addClass(c,"in"),e={container:c,node:d,day:b,month:current.month,year:current.year,date:new Date(current.year,current.month,b),isWeekend:!1,isToday:!1},today.getFullYear()==current.year&&today.getMonth()==current.month&&b==today.getDate()&&(e.isToday=!0,cm.addClass(c,"today")),/0|6/.test(new Date(current.year,current.month,b).getDay())&&(e.isWeekend=!0,cm.addClass(c,"weekend")),cm.addEvent(d,"mouseover",function(){that.triggerEvent("onDayOver",e)}),cm.addEvent(d,"mouseout",function(){that.triggerEvent("onDayOut",e)}),cm.addEvent(d,"click",function(){that.triggerEvent("onDayClick",e)}),current.days[b]=e)},getMonthData=function(a){var b={year:a.getFullYear(),month:a.getMonth(),days:{},startWeekDay:a.getDay()};return b.dayCount=32-new Date(b.year,b.month,32).getDate(),b};that.getFullYear=function(){return current.year},that.getMonth=function(){return current.month},that.set=function(a,b,c){return c="undefined"!=typeof c?c:!0,a>=that.params.startYear&&a<=that.params.endYear&&b>=0&&11>=b&&(selects.years.set(a,!1),selects.months.set(b,!1),renderView(c)),that},that.clear=function(a){a="undefined"!=typeof a?a:!0;var b=new Date;return selects.years.set(b.getFullYear(),!1),selects.months.set(b.getMonth(),!1),renderView(a),that},that.renderMonth=function(){return renderView(),that},that.getCurrentMonth=function(){return current},that.nextMonth=function(){return next.year<=that.params.endYear&&(selects.years.set(next.year,!1),selects.months.set(next.month,!1),renderView()),that},that.prevMonth=function(){return previous.year>=that.params.startYear&&(selects.years.set(previous.year,!1),selects.months.set(previous.month,!1),renderView()),that},that.selectDay=function(a){a&&current.year==a.getFullYear()&&current.month==a.getMonth()&&cm.addClass(current.days[a.getDate()].container,"selected")},that.unSelectDay=function(a){a&&current.year==a.getFullYear()&&current.month==a.getMonth()&&cm.removeClass(current.days[a.getDate()].container,"selected")},that.getNodes=function(a){return nodes[a]||nodes},init()}),cm.define("Com.CalendarEvents",{modules:["Params","DataConfig","Langs"],params:{node:cm.Node("div"),data:{},format:cm._config.displayDateFormat,startYear:1950,endYear:(new Date).getFullYear()+10,startWeekDay:0,target:"_blank",langs:{daysAbbr:["S","M","T","W","T","F","S"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},"Com.Tooltip":{className:"com__calendar-events__tooltip"}}},function(a){var b=this;b.nodes={},b.components={};var c=function(){b.setParams(a),b.getDataConfig(b.params.node),d(),e()},d=function(){b.nodes.container=cm.Node("div",{"class":"com__calendar-events"}),b.components.calendar=new Com.Calendar({container:b.nodes.container,renderMonthOnInit:!1,startYear:b.params.startYear,endYear:b.params.endYear,startWeekDay:b.params.startWeekDay,langs:b.params.langs}),b.components.tooltip=new Com.Tooltip(b.params["Com.Tooltip"]),b.params.node.appendChild(b.nodes.container)},e=function(){b.components.calendar.addEvent("onDayOver",g).addEvent("onMonthRender",f).renderMonth()},f=function(a,c){var d,e;(d=b.params.data[c.year])&&(d=d[c.month+1])&&cm.forEach(d,function(a,b){(e=c.days[b])&&cm.addClass(e.container,"active")})},g=function(a,c){var d,e={};(d=b.params.data[c.year])&&(d=d[c.month+1])&&(d=d[c.day])&&(e.content=cm.Node("div",{"class":"pt__listing com__calendar-events-listing"},e.list=cm.Node("ul",{"class":"list"})),cm.forEach(d,function(a){e.list.appendChild(cm.Node("li",cm.Node("a",{href:a.url,target:b.params.target},a.title)))}),b.components.tooltip.setTarget(c.node).setTitle(cm.dateFormat(c.date,b.params.format,b.lang())).setContent(e.content).show())};b.addData=function(a){return b.params.data=cm.merge(b.params.data,a),b.components.calendar.renderMonth(),b},b.replaceData=function(a){return b.params.data=a,b.components.calendar.renderMonth(),b},c()}),cm.define("Com.CollapsibleLayout",{modules:["Params","Events","DataConfig","DataNodes","Storage"],events:["onRender","onCollapseLeft","onExpandLeft","onCollapseRight","onExpandRight"],params:{node:cm.Node("div"),remember:!1}},function(a){var b=this;b.nodes={leftButton:cm.Node("div"),leftContainer:cm.Node("div"),rightButton:cm.Node("div"),rightContainer:cm.Node("div")},b.isLeftCollapsed=!1,b.isRightCollapsed=!1;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d()},d=function(){cm.addEvent(b.nodes.leftButton,"click",f),cm.addEvent(b.nodes.rightButton,"click",e),b.isLeftCollapsed=cm.isClass(b.params.node,"is-sidebar-left-collapsed"),b.isRightCollapsed=cm.isClass(b.params.node,"is-sidebar-right-collapsed"),b.params.remember&&(b.isLeftCollapsed=b.storageRead("isLeftCollapsed"),b.isRightCollapsed=b.storageRead("isRightCollapsed")),cm.inDOM(b.nodes.leftContainer)&&"none"!=cm.getStyle(b.nodes.leftContainer,"display")||(b.isLeftCollapsed=!0),cm.inDOM(b.nodes.rightContainer)&&"none"!=cm.getStyle(b.nodes.rightContainer,"display")||(b.isRightCollapsed=!0),b.isLeftCollapsed?b.collapseLeft(!0):b.expandLeft(!0),b.isRightCollapsed?b.collapseRight(!0):b.expandRight(!0),b.triggerEvent("onRender")},e=function(){b.isRightCollapsed?b.expandRight():b.collapseRight()},f=function(){b.isLeftCollapsed?b.expandLeft():b.collapseLeft()};b.collapseLeft=function(a){return b.isLeftCollapsed=!0,a&&cm.addClass(b.params.node,"is-immediately"),cm.replaceClass(b.params.node,"is-sidebar-left-expanded","is-sidebar-left-collapsed",!0),a&&cm.removeClass(b.params.node,"is-immediately"),b.params.remember&&b.storageWrite("isLeftCollapsed",!0),b.triggerEvent("onCollapseLeft"),b},b.expandLeft=function(a){return b.isLeftCollapsed=!1,a&&cm.addClass(b.params.node,"is-immediately"),cm.replaceClass(b.params.node,"is-sidebar-left-collapsed","is-sidebar-left-expanded",!0),setTimeout(function(){a&&cm.removeClass(b.params.node,"is-immediately")},5),b.params.remember&&b.storageWrite("isLeftCollapsed",!1),b.triggerEvent("onExpandLeft"),b},b.collapseRight=function(a){return b.isRightCollapsed=!0,a&&cm.addClass(b.params.node,"is-immediately"),cm.replaceClass(b.params.node,"is-sidebar-right-expanded","is-sidebar-right-collapsed",!0),setTimeout(function(){a&&cm.removeClass(b.params.node,"is-immediately")},5),b.params.remember&&b.storageWrite("isRightCollapsed",!0),b.triggerEvent("onCollapseRight"),b},b.expandRight=function(a){return b.isRightCollapsed=!1,a&&cm.addClass(b.params.node,"is-immediately"),cm.replaceClass(b.params.node,"is-sidebar-right-collapsed","is-sidebar-right-expanded",!0),a&&cm.removeClass(b.params.node,"is-immediately"),b.params.remember&&b.storageWrite("isRightCollapsed",!1),b.triggerEvent("onExpandRight"),b},c()}),Com.Collector=function(a){var b=this,c=cm.merge({attribute:"data-element",events:{}},a),d={onConstructStart:[],onConstruct:[],onDestructStart:[],onDestruct:[]},e={},f=function(){i(c.events)},g=function(a,b,d){var e=[];d.getAttribute(c.attribute)==b&&e.push(d),e=e.concat(cm.clone(cm.getByAttr(c.attribute,b,d))),e=e.filter(function(b){return!cm.inArray(a.nodes,b)}),a.nodes=a.nodes.concat(e),cm.forEach(e,function(b){cm.forEach(a.construct,function(a){a(b)})})},h=function(a,b,d){var f,g=[];d?(d.getAttribute(c.attribute)==b&&g.push(d),g=g.concat(cm.clone(cm.getByAttr(c.attribute,b,d))),g=g.filter(function(b){return(f=cm.inArray(a.nodes,b))&&a.nodes.splice(a.nodes.indexOf(b),1),f}),cm.forEach(g,function(b){cm.forEach(a.destruct,function(a){a(b)})})):(cm.forEach(a.nodes,function(b){cm.forEach(a.destruct,function(a){a(b)})}),delete e[b])},i=function(a){cm.forEach(a,function(a,b){d[b]&&"function"==typeof a&&d[b].push(a)})},j=function(a,c){d[a].forEach(function(a){a(b,c||{})})};b.add=function(a,c,d){return a&&(e[a]||(e[a]={construct:[],destruct:[],nodes:[]}),"function"==typeof c&&e[a].construct.push(c),"function"==typeof d&&e[a].destruct.push(d)),b},b.remove=function(a,c,d){return a&&e[a]&&(c||d?("function"==typeof c&&(e[a].construct=e[a].construct.filter(function(a){return a!=c})),"function"==typeof d&&(e[a].destruct=e[a].destruct.filter(function(a){return a!=d}))):delete e[a]),b},b.construct=function(a,c){return a=a||document.body,j("onConstructStart",{node:a,name:c}),c&&e[c]?g(e[c],c,a):cm.forEach(e,function(b,c){g(b,c,a)}),j("onConstruct",{node:a,name:c}),b},b.destruct=function(a,c){return a=a||null,j("onDestructStart",{node:a,name:c}),c&&e[c]?h(e[c],c,a):cm.forEach(e,function(b,c){h(b,c,a)}),j("onDestruct",{node:a,name:c}),b},b.addEvent=function(a,c){return d[a]&&"function"==typeof c&&d[a].push(c),b},b.removeEvent=function(a,c){return d[a]&&"function"==typeof c&&(d[a]=d[a].filter(function(a){return a!=c})),b},f()},cm.define("Com.ColorPicker",{modules:["Params","Events","Langs","DataConfig","Storage","Stack"],require:["Com.Tooltip","Com.Palette"],events:["onRender","onSelect","onChange","onClear"],params:{container:!1,input:cm.Node("div"),name:"",value:null,defaultValue:"transparent",title:"",showInputValue:!0,showClearButton:!1,showTitleTooltip:!0,renderInBody:!0,disabled:!1,icons:{picker:"icon default linked",clear:"icon default linked"},langs:{Transparent:"Transparent",Clear:"Clear"},"Com.Tooltip":{targetEvent:"click",hideOnReClick:!0,className:"com__colorpicker__tooltip",top:"cm._config.tooltipTop"},"Com.Palette":{setOnInit:!1}}},function(a){var b=this;b.nodes={},b.components={},b.value=null,b.previousValue=null,b.disabled=!1;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataConfig(b.params.input),d(),e(),f(),b.addToStack(b.nodes.container),b.set(b.value,!1),b.triggerEvent("onRender",b.value)},d=function(){cm.isNode(b.params.input)&&(b.params.title=b.params.input.getAttribute("title")||b.params.title,b.params.disabled=b.params.input.disabled||b.params.disabled,b.value=b.params.input.value,b.params.name=b.params.input.getAttribute("name")||b.params.name),b.value=b.params.value||b.value||b.params.defaultValue,b.disabled=b.params.disabled,b.params["Com.Palette"].name=[b.params.name,"palette"].join("-")},e=function(){b.nodes.container=cm.Node("div",{"class":"com__colorpicker"},b.nodes.hidden=cm.Node("input",{type:"hidden"}),b.nodes.target=cm.Node("div",{"class":"form-field has-icon-right"},b.nodes.input=cm.Node("input",{type:"text",readOnly:"true"}),b.nodes.icon=cm.Node("div",{"class":b.params.icons.picker})),b.nodes.menuContainer=cm.Node("div",{"class":"form"},b.nodes.paletteContainer=cm.Node("div"))),b.params.showTitleTooltip&&!cm.isEmpty(b.params.title)&&(b.nodes.container.title=b.params.title),b.params.input.id&&(b.nodes.container.id=b.params.input.id),b.params.input.getAttribute("name")&&b.nodes.hidden.setAttribute("name",b.params.input.getAttribute("name")),b.params.showClearButton&&(cm.addClass(b.nodes.container,"has-clear-button"),b.nodes.container.appendChild(b.nodes.clearButton=cm.Node("div",{"class":b.params.icons.clear,title:b.lang("Clear")}))),b.params.container?b.params.container.appendChild(b.nodes.container):b.params.input.parentNode&&cm.insertBefore(b.nodes.container,b.params.input),cm.remove(b.params.input)},f=function(){cm.addEvent(b.nodes.input,"keydown",function(a){a=cm.getEvent(a),cm.preventDefault(a),8==a.keyCode&&(b.clear(),b.components.tooltip.hide())}),b.params.showClearButton&&cm.addEvent(b.nodes.clearButton,"click",function(){b.clear(),b.components.tooltip.hide()}),b.components.tooltip=new Com.Tooltip(cm.merge(b.params["Com.Tooltip"],{container:b.params.renderInBody?document.body:b.nodes.container,content:b.nodes.menuContainer,target:b.nodes.target,events:{onShowStart:i,onHideStart:h}})),b.components.palette=new Com.Palette(cm.merge(b.params["Com.Palette"],{container:b.nodes.menuContainer,events:{onChange:function(a,c){g(a.get("rgb"),!0),b.components.tooltip.hide()}}})),b.disabled?b.disable():b.enable()},g=function(a,c){b.previousValue=b.value,cm.isEmpty(a)&&(a=b.params.defaultValue),b.value=a,b.components.palette.set(b.value,!1),b.nodes.hidden.value=b.components.palette.get("rgb"),"transparent"==b.value?(b.params.showInputValue&&(b.nodes.input.value=b.lang("Transparent")),cm.replaceClass(b.nodes.input,"input-dark input-light","input-transparent")):(b.params.showInputValue&&(b.nodes.input.value=b.components.palette.get("hex")),b.nodes.input.style.backgroundColor=b.components.palette.get("hex"),b.components.palette.isDark()?cm.replaceClass(b.nodes.input,"input-transparent input-light","input-dark"):cm.replaceClass(b.nodes.input,"input-transparent input-dark","input-light")),c&&(b.triggerEvent("onSelect",b.value),j())},h=function(){b.nodes.input.blur(),cm.removeClass(b.nodes.container,"active"),b.components.palette.set(b.value,!1)},i=function(){cm.addClass(b.nodes.container,"active"),b.components.palette.redraw()},j=function(){b.value!=b.previousValue&&b.triggerEvent("onChange",b.value)};b.set=function(a,c){return c="undefined"!=typeof c?c:!0,g(a,c),b},b.get=function(){return b.value},b.clear=function(a){return a="undefined"!=typeof a?a:!0,g(b.params.defaultValue,!1),a&&(b.triggerEvent("onClear",b.value),j()),b},b.disable=function(){return b.disabled=!0,cm.addClass(b.nodes.container,"disabled"),b.nodes.input.disabled=!0,b.components.tooltip.disable(),b},b.enable=function(){return b.disabled=!1,cm.removeClass(b.nodes.container,"disabled"),b.nodes.input.disabled=!1,b.components.tooltip.enable(),b},c()}),Com.Elements.Columns={},Com.GetColumns=function(a){return Com.Elements.Columns[a]||null},cm.define("Com.Columns",{modules:["Params","Events","DataConfig","Stack"],required:["Com.Draggable"],events:["onRender","onAdd","onRemove","onChange","onResize"],params:{container:cm.Node("div"),name:"",renderStructure:!1,columns:!1,minColumnWidth:48,data:[]}},function(a){var b,c=this,d={};c.items=[],c.chassis=[];var e=function(){c.setParams(a),c.convertEvents(c.params.events),c.getDataConfig(c.params.container),f(),g(),o(),c.addToStack(d.container),c.triggerEvent("onRender")},f=function(){cm.isNode(c.params.container)&&(c.params.name=c.params.container.getAttribute("name")||c.params.name)},g=function(){c.params.renderStructure?i():c.params.columns&&h(),cm.customEvent.add(d.container,"redraw",function(){c.redraw()})},h=function(){var a;d.container=c.params.columns,d.inner=cm.getByAttr("data-com__columns","inner",d.container)[0],d.holder=cm.getByAttr("data-com__columns","holder",d.container)[0],a=cm.clone(cm.getByAttr("data-com__columns","column",d.holder)||[]),a=a.filter(function(b){var c=!0;return cm.forEach(a,function(a){cm.isParent(a,b)&&(c=!1)}),c}),cm.forEach(a,j)},i=function(){d.container=cm.Node("div",{"class":"com__columns"},d.inner=cm.Node("div",{"class":"inner"},d.holder=cm.Node("div",{"class":"container"}))),cm.forEach(c.params.data,k),c.params.container.appendChild(d.container)},j=function(a){var b={container:a,inner:cm.getByAttr("data-com__columns","column-inner",a)[0]||cm.Node("div"),width:a.style.width};n(b),c.items.push(b)},k=function(a,b){return a=cm.merge({width:"0%"},a),a.container=cm.Node("div",{"class":"com__column"},a.inner=cm.Node("div",{"class":"inner"})),n(a),c.items.push(a),d.holder.appendChild(a.container),b&&c.triggerEvent("onAdd",a),a},l=function(a){var b=c.items.pop();return cm.remove(b.container),a&&c.triggerEvent("onRemove",b),b},m=function(){var a=c.items.length,b=(100/a).toFixed(2);cm.forEach(c.items,function(a){a.width=[b,"%"].join(""),a.container.style.width=a.width,a.rulerCounter.innerHTML=a.width}),c.triggerEvent("onResize",c.items),c.triggerEvent("onChange",c.items)},n=function(a){a.rulerContainer=cm.Node("div",{"class":"com__columns__ruler"},a.ruler=cm.Node("div",{"class":"pt__ruler is-horizontal is-small"},cm.Node("div",{"class":"line line-top"}),a.rulerCounter=cm.Node("div",{"class":"counter"},a.width),cm.Node("div",{"class":"line line-bottom"}))),cm.insertFirst(a.rulerContainer,a.inner)},o=function(){c.chassis=[];var a=c.items.length-1;cm.forEach(a,s)},p=function(){cm.forEach(c.chassis,function(a){cm.remove(a.container)}),c.chassis=[]},q=function(){p(),o()},r=function(){cm.forEach(c.chassis,function(a){t(a)})},s=function(a){var b={index:a};b.container=cm.Node("div",{"class":"com__columns__chassis"},b.drag=cm.Node("div",{"class":"pt__drag is-horizontal"},cm.Node("div",{"class":"line"}),cm.Node("div",{"class":"drag"},cm.Node("div",{"class":"icon draggable"})))),t(b),c.chassis.push(b),cm.addEvent(b.container,"mousedown",function(a){u(a,b)}),d.inner.appendChild(b.container)},t=function(a){var b=d.holder.offsetWidth/100,e=a.index,f=((cm.getRealX(c.items[e].container)-cm.getRealX(d.holder)+c.items[e].container.offsetWidth)/b).toFixed(2);a.container.style.left=[f,"%"].join("")},u=function(a,e){if(b)return!1;if(cm.preventDefault(a),a.ctrlKey)x(),m(),r();else{if(0!==a.button)return!1;cm.hideSpecialTags();var f=c.chassis.indexOf(e),g=c.items[f],h=c.items[f+1];b={index:f,offset:cm.getRealX(d.holder),ratio:d.holder.offsetWidth/100,chassis:e,left:{column:g,offset:cm.getRealX(g.container)},right:{column:h,offset:cm.getRealX(h.container)+h.container.offsetWidth}},cm.addClass(d.container,"is-active"),cm.addClass(b.chassis.drag,"is-active"),cm.addClass(b.left.column.ruler,"is-active"),cm.addClass(b.right.column.ruler,"is-active"),cm.addClass(document.body,"pt__drag__body--horizontal"),cm.addEvent(window,"mousemove",v),cm.addEvent(window,"mouseup",w)}return!0},v=function(a){cm.preventDefault(a);var d=cm._clientPosition.x,e=a.shiftKey?0:2,f=d-b.left.offset,g=b.right.offset-d;f>c.params.minColumnWidth&&g>c.params.minColumnWidth&&(b.left.column.width=[(f/b.ratio).toFixed(e),"%"].join(""),b.right.column.width=[(g/b.ratio).toFixed(e),"%"].join(""),b.left.column.container.style.width=b.left.column.width,b.right.column.container.style.width=b.right.column.width,b.chassis.container.style.left=[((d-b.offset)/b.ratio).toFixed(e),"%"].join(""),b.left.column.rulerCounter.innerHTML=b.left.column.width,b.right.column.rulerCounter.innerHTML=b.right.column.width),c.triggerEvent("onChange",c.items)},w=function(){cm.removeClass(d.container,"is-active"),cm.removeClass(b.chassis.drag,"is-active"),cm.removeClass(b.left.column.ruler,"is-active"),cm.removeClass(b.right.column.ruler,"is-active"),cm.removeClass(document.body,"pt__drag__body--horizontal"),cm.removeEvent(window,"mousemove",v),cm.removeEvent(window,"mouseup",w),b=null,cm.showSpecialTags(),c.triggerEvent("onResize",c.items)},x=function(){cm.addEvent(window,"contextmenu",z),cm.addEvent(window,"mouseup",y)},y=function(){cm.removeEvent(window,"contextmenu",z),cm.removeEvent(window,"mouseup",y)},z=function(a){cm.preventDefault(a)};c.redraw=function(){return r(),c},c.setColumnsCount=function(a){var b=c.items.length;if(!a||b==a)return c;if(a>b)cm.forEach(a-b,function(){k({},!0)});else for(;c.items.length>a;)l(!0);return m(),q(),c},c.get=function(){return c.items},e()}),cm.define("Com.ColumnsHelper",{modules:["Params","Events","Langs","DataConfig","DataNodes","Callbacks","Stack"],events:["onRender","onChange","onResize","onDragStart","onDragMove","onDragStop"],params:{node:cm.node("div"),name:"",isEditMode:!0,items:[],showDrag:!0,minColumnWidth:48,ajax:{type:"json",method:"post",url:"",params:""}}},function(a){var b=this;b.items=[],b.chassis=[],b.current=null,b.isEditMode=!1,b.isRendered=!1,b.isAjax=!1,b.isProcess=!1,b.ajaxHandler=null;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),b.callbacksProcess(),d(),e(),b.addToStack(b.params.node),b.triggerEvent("onRender")},d=function(){cm.isEmpty(b.params.ajax.url)||(b.isAjax=!0),b.isEditMode=b.params.isEditMode},e=function(){f(),cm.addEvent(window,"resize",function(){b.redraw()}),cm.customEvent.add(b.params.node,"redraw",function(){b.redraw()})},f=function(){b.isEditMode&&!b.isRendered&&(b.items=[],b.chassis=[],cm.forEach(b.params.items,function(a,c){b.items.push({container:a}),c<b.params.items.length-1&&g(c)}),b.isRendered=!0)},g=function(a){var c={index:a};c.container=cm.node("div",{"class":"com__columns__chassis"},c.inner=cm.node("div",{"class":"pt__drag is-horizontal"},cm.node("div",{"class":"line"}))),b.params.showDrag?c.inner.appendChild(cm.node("div",{"class":"drag"},cm.node("div",{"class":"icon draggable"}))):c.inner.appendChild(cm.node("div",{"class":"helper"})),h(c),b.chassis.push(c),cm.addEvent(c.container,"mousedown",function(a){k(a,c)}),b.params.node.appendChild(c.container)},h=function(a){var c=b.params.node.offsetWidth/100,d=a.index,e=((cm.getRealX(b.items[d].container)-cm.getRealX(b.params.node)+b.items[d].container.offsetWidth)/c).toFixed(2);a.container.style.left=[e,"%"].join("")},i=function(){cm.forEach(b.chassis,function(a){h(a)})},j=function(){cm.forEach(b.chassis,function(a){cm.remove(a.container)}),b.items=[],b.chassis=[],b.isRendered=!1},k=function(a,c){if(b.current)return!1;if(b.isProcess&&b.abort(),a=cm.getEvent(a),cm.preventDefault(a),cm.hideSpecialTags(),cm.is("IE")&&cm.isVersion()<9&&1!=a.button||!cm.is("IE")&&a.button)return!1;var d=b.chassis.indexOf(c),e=b.items[d],f=b.items[d+1];return b.current={index:d,offset:cm.getRealX(b.params.node),ratio:b.params.node.offsetWidth/100,chassis:c,left:{column:e,offset:cm.getRealX(e.container)},right:{column:f,offset:cm.getRealX(f.container)+f.container.offsetWidth}},cm.addClass(b.params.node,"is-chassis-active"),cm.addClass(b.current.chassis.inner,"is-active"),cm.addClass(document.body,"pt__drag__body--horizontal"),cm.addEvent(window,"mousemove",l),cm.addEvent(window,"mouseup",m),b.triggerEvent("onDragStart",b.current),!0},l=function(a){var c,d;a=cm.getEvent(a),cm.preventDefault(a);var e=a.clientX;cm.isTouch&&a.touches&&(e=a.touches[0].clientX),c=e-b.current.left.offset,d=b.current.right.offset-e,c>b.params.minColumnWidth&&d>b.params.minColumnWidth&&(b.current.left.column.width=[(c/b.current.ratio).toFixed(2),"%"].join(""),b.current.right.column.width=[(d/b.current.ratio).toFixed(2),"%"].join(""),b.current.left.column.container.style.width=b.current.left.column.width,b.current.right.column.container.style.width=b.current.right.column.width,b.current.chassis.container.style.left=[((e-b.current.offset)/b.current.ratio).toFixed(2),"%"].join("")),b.triggerEvent("onChange",b.items),b.triggerEvent("onDragMove",b.current)},m=function(){var a;cm.removeClass(b.params.node,"is-chassis-active"),cm.removeClass(b.current.chassis.inner,"is-active"),cm.removeClass(document.body,"pt__drag__body--horizontal"),cm.removeEvent(cm.is("IE")&&cm.isVersion()<9?document.body:window,"mousemove",l),cm.removeEvent(cm.is("IE")&&cm.isVersion()<9?document.body:window,"mouseup",m),cm.showSpecialTags(),b.triggerEvent("onResize",b.items),b.triggerEvent("onDragStop",b.current),b.current=null,b.isAjax&&(a=cm.clone(b.params.ajax),b.ajaxHandler=b.callbacks.request(b,a))};b.callbacks.prepare=function(a,b){var c=[];return cm.forEach(a.items,function(a){c.push(a.width)}),b.url=cm.strReplace(b.url,{"%items%":c}),b.params=cm.objectReplace(b.params,{"%items%":c}),b},b.callbacks.request=function(a,b){return b=a.callbacks.prepare(a,b),cm.ajax(cm.merge(b,{onStart:function(){a.callbacks.start(a)},onEnd:function(){a.callbacks.end(a)}}))},b.callbacks.start=function(a){a.isProcess=!0},b.callbacks.end=function(a){a.isProcess=!1},b.enableEditMode=function(){return b.isEditMode=!0,f(),b},b.disableEditMode=function(){return b.isEditMode=!1,j(),b},b.abort=function(){return b.ajaxHandler&&b.ajaxHandler.abort&&b.ajaxHandler.abort(),b},b.redraw=function(){return b.isEditMode&&i(),b},c()}),cm.define("Com.DateSelect",{modules:["Params","DataConfig","Langs","Events"],events:["onSelect","onChange"],params:{container:!1,input:cm.Node("input",{type:"text"}),format:"cm._config.dateFormat",startYear:1950,endYear:(new Date).getFullYear()+10,renderSelectsInBody:!0,langs:{Day:"Day",Month:"Month",Year:"Year",months:["January","February","March","April","May","June","July","August","September","October","November","December"]}}},function(a){var b=this,c={},d={},e={day:"00",month:"00",year:"0000"};b.previous=cm.clone(e),b.selected=cm.clone(e);var f=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataConfig(b.params.node),g(),i(b.params.input.value)},g=function(){c.container=cm.Node("div",{"class":"com-dateselect"},c.hidden=cm.Node("input",{type:"hidden"}),cm.Node("div",{"class":"pt__toolbar bottom"},cm.Node("div",{"class":"inner clear"},cm.Node("ul",{"class":"group"},c.year=cm.Node("li",{"class":"is-field small"}),c.month=cm.Node("li",{"class":"is-field medium"}),c.day=cm.Node("li",{"class":"is-field x-small"}))))),h(),b.params.input.getAttribute("name")&&c.hidden.setAttribute("name",b.params.input.getAttribute("name")),b.params.container?b.params.container.appendChild(c.container):b.params.input.parentNode&&cm.insertBefore(c.container,b.params.input),cm.remove(b.params.input)},h=function(){var a,e;for(a=[{value:"00",text:b.lang("Day")}],e=1;31>=e;e++)a.push({value:cm.addLeadZero(e),text:e});for(d.day=new Com.Select({container:c.day,options:a,renderInBody:b.params.renderSelectsInBody,events:{onChange:function(a,c){b.previous=cm.clone(b.selected),b.selected.day=c,j(!0)}}}),a=[{value:"00",text:b.lang("Month")}],cm.forEach(b.lang("months"),function(b,c){a.push({value:cm.addLeadZero(parseInt(c+1)),text:b})}),d.month=new Com.Select({container:c.month,options:a,renderInBody:b.params.renderSelectsInBody,events:{onChange:function(a,c){b.previous=cm.clone(b.selected),b.selected.month=c,j(!0)}}}),a=[{value:"0000",text:b.lang("Year")}],e=b.params.endYear;e>=b.params.startYear;e--)a.push({value:e,text:e});d.year=new Com.Select({container:c.year,options:a,renderInBody:b.params.renderSelectsInBody,events:{onChange:function(a,c){b.previous=cm.clone(b.selected),b.selected.year=c,j(!0)}}})},i=function(a,c){b.previous=cm.clone(b.selected),a&&a!=l(e)?a instanceof Date?b.selected=k(cm.parseDate(a)):b.selected=k(a):b.selected=cm.clone(e),d.day.set(b.selected.day,!1),d.month.set(b.selected.month,!1),d.year.set(b.selected.year,!1),j(c)},j=function(a){c.hidden.value=l(b.selected),a&&(b.triggerEvent("onSelect",l(b.selected)),l(b.selected)!=l(b.previous)&&b.triggerEvent("onChange",l(b.selected)))},k=function(a,c){var d={},e={"%Y":"YYYY","%m":"mm","%d":"dd"},f={YYYY:function(a){d.year=a},mm:function(a){d.month=a},dd:function(a){d.day=a}},g=0;return c=c||b.params.format,cm.forEach(e,function(a,b){c=c.replace(b,a)}),cm.forEach(f,function(b,d){for(g=c.indexOf(d);-1!=g;)b(a.substr(g,d.length)),g=c.indexOf(d,g+1)}),d},l=function(a,c){var d=c||b.params.format,e=function(a){return{"%Y":function(){return a.year},"%m":function(){return a.month},"%d":function(){return a.day}}};return cm.forEach(e(a),function(a,b){d=d.replace(b,a)}),d};b.get=function(a){return a=a||b.params.format,l(b.selected,a)},b.getDate=function(){return b.selected},b.set=function(a){return i(a,!0),b},f()}),Com.Elements.Datepicker={},Com.GetDatepicker=function(a){return Com.Elements.Datepicker[a]||null},cm.define("Com.Datepicker",{modules:["Params","Events","DataConfig","Langs","Stack"],events:["onRender","onSelect","onChange","onClear","onFocus","onBlur"],params:{container:!1,input:cm.Node("input",{type:"text"}),name:"",renderInBody:!0,format:"cm._config.dateFormat",displayFormat:"cm._config.displayDateFormat",isDateTime:!1,dateTimeFormat:"cm._config.dateTimeFormat",displayDateTimeFormat:"cm._config.displayDateTimeFormat",minutesInterval:1,startYear:1950,endYear:"current + 10",startWeekDay:0,showTodayButton:!0,showClearButton:!1,showTitleTooltip:!0,showPlaceholder:!0,title:"",placeholder:"",menuMargin:4,value:0,disabled:!1,icons:{datepicker:"icon default linked",clear:"icon default linked"},langs:{daysAbbr:["S","M","T","W","T","F","S"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],"Clear date":"Clear date",Today:"Today",Now:"Now",Time:"Time:"},"Com.Tooltip":{targetEvent:"click",hideOnReClick:!0,className:"com__datepicker__tooltip",top:"cm._config.tooltipTop"}}},function(params){var that=this,nodes={},components={};that.date=null,that.value=null,that.previousValue=null,that.format=null,that.displayFormat=null,that.disabled=!1;var init=function(){that.setParams(params),that.convertEvents(that.params.events),that.getDataConfig(that.params.input),validateParams(),render(),setLogic(),that.addToStack(nodes.container),that.params.value?that.set(that.params.value,that.format,!1):that.set(that.params.input.value,that.format,!1),that.triggerEvent("onRender",that.value)},validateParams=function(){cm.isNode(that.params.input)&&(that.params.placeholder=that.params.input.getAttribute("placeholder")||that.params.placeholder,that.params.title=that.params.input.getAttribute("title")||that.params.title,
that.params.disabled=that.params.input.disabled||that.params.disabled,that.params.name=that.params.input.getAttribute("name")||that.params.name),"now"==that.params.value&&(that.params.value=new Date),/current/.test(that.params.startYear)&&(that.params.startYear=eval(cm.strReplace(that.params.startYear,{current:(new Date).getFullYear()}))),/current/.test(that.params.endYear)&&(that.params.endYear=eval(cm.strReplace(that.params.endYear,{current:(new Date).getFullYear()}))),that.format=that.params.isDateTime?that.params.dateTimeFormat:that.params.format,that.displayFormat=that.params.isDateTime?that.params.displayDateTimeFormat:that.params.displayFormat,that.disabled=that.params.disabled},render=function(){nodes.container=cm.Node("div",{"class":"com__datepicker-input"},nodes.hidden=cm.Node("input",{type:"hidden"}),nodes.target=cm.Node("div",{"class":"form-field has-icon-right"},nodes.input=cm.Node("input",{type:"text",readOnly:"true"}),nodes.icon=cm.Node("div",{"class":that.params.icons.datepicker})),nodes.menuContainer=cm.Node("div",{"class":"form"},nodes.calendarContainer=cm.Node("div",{"class":"calendar-holder"}))),that.params.showTitleTooltip&&!cm.isEmpty(that.params.title)&&(nodes.container.title=that.params.title),that.params.input.id&&(nodes.container.id=that.params.input.id),that.params.name&&nodes.hidden.setAttribute("name",that.params.name),that.params.showPlaceholder&&!cm.isEmpty(that.params.placeholder)&&nodes.input.setAttribute("placeholder",that.params.placeholder),that.params.showClearButton&&(cm.addClass(nodes.container,"has-clear-button"),nodes.container.appendChild(nodes.clearButton=cm.Node("div",{"class":that.params.icons.clear,title:that.lang("Clear date")}))),that.params.showTodayButton&&nodes.menuContainer.appendChild(nodes.todayButton=cm.Node("div",{"class":"button today is-wide"},that.lang(that.params.isDateTime?"Now":"Today"))),that.params.isDateTime&&(nodes.timeHolder=cm.Node("div",{"class":"time-holder"},cm.Node("dl",{"class":"form-box"},cm.Node("dt",that.lang("Time")),nodes.timeContainer=cm.Node("dd"))),cm.insertAfter(nodes.timeHolder,nodes.calendarContainer)),that.params.container?that.params.container.appendChild(nodes.container):that.params.input.parentNode&&cm.insertBefore(nodes.container,that.params.input),cm.remove(that.params.input)},setLogic=function(){cm.addEvent(nodes.input,"keydown",function(a){a=cm.getEvent(a),cm.preventDefault(a),8==a.keyCode&&(that.clear(),components.menu.hide(!1))}),that.params.showClearButton&&cm.addEvent(nodes.clearButton,"click",function(){that.clear(),components.menu.hide(!1)}),that.params.showTodayButton&&cm.addEvent(nodes.todayButton,"click",function(){that.set(new Date),components.menu.hide(!1)}),components.menu=new Com.Tooltip(cm.merge(that.params["Com.Tooltip"],{container:that.params.renderInBody?document.body:nodes.container,content:nodes.menuContainer,target:nodes.target,events:{onShowStart:show,onHideStart:hide}})),components.calendar=new Com.Calendar({container:nodes.calendarContainer,renderSelectsInBody:!1,className:"com__datepicker-calendar",startYear:that.params.startYear,endYear:that.params.endYear,startWeekDay:that.params.startWeekDay,langs:that.params.langs,renderMonthOnInit:!1,events:{onMonthRender:function(){that.date&&components.calendar.selectDay(that.date)},onDayClick:function(a,b){that.date||(that.date=new Date),components.calendar.unSelectDay(that.date),that.date.setDate(b.day),components.calendar.selectDay(that.date),set(!0),that.params.isDateTime||components.menu.hide(!1)}}}),that.params.isDateTime&&(components.time=new Com.TimeSelect({container:nodes.timeContainer,renderSelectsInBody:!1,minutesInterval:that.params.minutesInterval}).onChange(function(){that.date||(that.date=new Date),components.calendar.set(that.date.getFullYear(),that.date.getMonth(),!1),components.calendar.selectDay(that.date),set(!0)})),that.disabled?that.disable():that.enable()},show=function(){that.date&&components.calendar.set(that.date.getFullYear(),that.date.getMonth()),components.calendar.renderMonth(),cm.addClass(nodes.container,"active"),that.triggerEvent("onFocus",that.value)},hide=function(){nodes.input.blur(),cm.removeClass(nodes.container,"active"),that.triggerEvent("onBlur",that.value)},set=function(a){that.previousValue=that.value,that.date?(that.date.setFullYear(components.calendar.getFullYear()),that.date.setMonth(components.calendar.getMonth()),that.params.isDateTime&&(that.date.setHours(components.time.getHours()),that.date.setMinutes(components.time.getMinutes()),that.date.setSeconds(0)),that.value=cm.dateFormat(that.date,that.format,that.lang()),nodes.input.value=cm.dateFormat(that.date,that.displayFormat,that.lang()),nodes.hidden.value=that.value):(that.value=cm.dateFormat(!1,that.format,that.lang()),nodes.input.value="",nodes.hidden.value=cm.dateFormat(!1,that.format,that.lang())),a&&(that.triggerEvent("onSelect",that.value),onChange())},onChange=function(){(!that.previousValue||!that.value&&that.previousValue||that.value!=that.previousValue)&&that.triggerEvent("onChange",that.value)};that.get=function(a){return a="undefined"!=typeof a?a:that.format,cm.dateFormat(that.date,a,that.lang())},that.getDate=function(){return that.date},that.getFullYear=function(){return that.date?that.date.getFullYear():null},that.getMonth=function(){return that.date?that.date.getMonth():null},that.getDay=function(){return that.date?that.date.getDate():null},that.getHours=function(){return that.date?that.date.getHours():null},that.getMinutes=function(){return that.date?that.date.getMinutes():null},that.set=function(a,b,c){return b="undefined"!=typeof b?b:that.format,c="undefined"!=typeof c?c:!0,cm.isEmpty(a)||"string"==typeof a&&new RegExp(cm.dateFormat(!1,b,that.lang())).test(a)?(that.clear(),that):("object"==typeof a?that.date=a:that.date=cm.parseDate(a,b),components.calendar.set(that.date.getFullYear(),that.date.getMonth(),!1),that.params.isDateTime&&components.time.set(that.date,null,!1),set(c),that)},that.clear=function(a){return a="undefined"!=typeof a?a:!0,that.date=null,components.calendar.clear(!1),that.params.isDateTime&&components.time.clear(!1),set(!1),a&&(that.triggerEvent("onClear",that.value),onChange()),that},that.disable=function(){return that.disabled=!0,cm.addClass(nodes.container,"disabled"),nodes.input.disabled=!0,components.menu.disable(),that},that.enable=function(){return that.disabled=!1,cm.removeClass(nodes.container,"disabled"),nodes.input.disabled=!1,components.menu.enable(),that},that.getNodes=function(a){return nodes[a]||nodes},init()}),cm.define("Com.Dialog",{modules:["Params","Events","Langs","DataConfig","Stack"],events:["onRender","onOpenStart","onOpen","onCloseStart","onClose"],params:{container:"document.body",name:"",size:"auto",width:700,height:"auto",minHeight:0,maxHeight:"auto",position:"fixed",indentY:24,indentX:24,theme:"theme-default",className:"",content:cm.Node("div"),title:"",buttons:!1,titleOverflow:!1,titleReserve:!0,closeButtonOutside:!1,closeButton:!0,closeTitle:!0,closeOnBackground:!1,openTime:"cm._config.animDuration",autoOpen:!0,appendOnRender:!1,removeOnClose:!0,scroll:!0,documentScroll:!1,icons:{closeInside:"icon default linked",closeOutside:"icon default linked"},langs:{closeTitle:"Close",close:""}}},function(a){var b,c,d=this,e={},f={};d.isOpen=!1,d.isFocus=!1;var g=function(){d.setParams(a),d.convertEvents(d.params.events),d.getDataConfig(d.params.content),h(),i(),d.addToStack(e.container),d.triggerEvent("onRender"),d.params.autoOpen&&n()},h=function(){"fullscreen"==d.params.size&&(d.params.width="100%",d.params.height="100%",d.params.indentX=0,d.params.indentY=0)},i=function(){e.container=cm.Node("div",{"class":"com__dialog"},e.bg=cm.Node("div",{"class":"bg"}),e.window=cm.Node("div",{"class":"window"},e.windowInner=cm.Node("div",{"class":"inner"}))),d.params.appendOnRender&&d.params.container.appendChild(e.container),e.container.style.position=d.params.position,e.window.style.width=d.params.width+"px",!cm.isEmpty(d.params.theme)&&cm.addClass(e.container,d.params.theme),!cm.isEmpty(d.params.className)&&cm.addClass(e.container,d.params.className),"fullscreen"==d.params.size&&cm.addClass(e.container,"is-fullscreen"),d.params.titleReserve&&cm.addClass(e.container,"is-title-reserve"),d.params.closeButtonOutside&&(e.bg.appendChild(e.closeOutside=cm.Node("div",{"class":d.params.icons.closeOutside},d.lang("close"))),d.params.closeTitle&&(e.closeOutside.title=d.lang("closeTitle")),cm.addEvent(e.closeOutside,"click",o)),d.params.closeButton&&(cm.addClass(e.container,"has-close-inside"),e.window.appendChild(e.closeInside=cm.Node("div",{"class":d.params.icons.closeInside},d.lang("close"))),d.params.closeTitle&&(e.closeInside.title=d.lang("closeTitle")),cm.addEvent(e.closeInside,"click",o)),d.params.closeOnBackground&&(cm.addClass(e.container,"has-close-background"),cm.addEvent(e.bg,"click",o),d.params.closeTitle&&(e.bg.title=d.lang("closeTitle"))),j(d.params.title),k(d.params.content),l(d.params.buttons),f.container=new cm.Animation(e.container),cm.addEvent(e.container,"mouseover",function(a){var b=cm.getEventTarget(a);cm.isParent(e.container,b,!0)&&(d.isFocus=!0)}),cm.addEvent(e.container,"mouseout",function(a){var b=cm.getRelatedTarget(a);cm.isParent(e.container,b,!0)||(d.isFocus=!1)})},j=function(a){cm.isEmpty(a)||(cm.remove(e.title),e.title=cm.Node("div",{"class":"title"},a),d.params.titleOverflow&&cm.addClass(e.title,"cm__text-overflow"),cm.insertFirst(e.title,e.windowInner))},k=function(a){e.descr||(e.descr=cm.Node("div",{"class":"descr"},e.scroll=cm.Node("div",{"class":"scroll"},e.inner=cm.Node("div",{"class":"inner com__dialog__inner"}))),d.params.scroll||cm.addClass(e.scroll,"is-no-scroll"),e.title?cm.insertAfter(e.descr,e.title):e.buttons?cm.insertBefore(e.descr,e.buttons):cm.insertLast(e.descr,e.windowInner)),cm.isNode(a)&&cm.clearNode(e.inner).appendChild(a)},l=function(a){cm.isNode(a)&&(cm.remove(e.buttons),e.buttons=cm.Node("div",{"class":"buttons"},a),cm.insertLast(e.buttons,e.windowInner))},m=function(){var a,c,f,g,h,i,j,k=e.container.offsetHeight-2*d.params.indentY,l=e.container.offsetWidth-2*d.params.indentX,m=e.window.offsetHeight,n=e.window.offsetWidth,o=e.inner.offsetHeight;c=k-(e.title&&e.title.offsetHeight||0)-(e.buttons&&e.buttons.offsetHeight||0)-cm.getIndentY(e.windowInner)-cm.getIndentY(e.descr),f=k-c,a=l,"auto"==d.params.maxHeight?g=c:/%/.test(d.params.maxHeight)?g=k/100*parseFloat(d.params.maxHeight)-f:(/px/.test(d.params.maxHeight)&&(d.params.maxHeight=parseFloat(d.params.maxHeight)),g=d.params.maxHeight-f),"auto"==d.params.minHeight?h=0:/%/.test(d.params.minHeight)?h=k/100*parseFloat(d.params.minHeight)-f:(/px/.test(d.params.minHeight)&&(d.params.minHeight=parseFloat(d.params.minHeight)),h=d.params.minHeight-f),"auto"==d.params.height?i=h>o?h:o>g?g:o:/%/.test(d.params.height)?i=k/100*parseFloat(d.params.height)-f:(/px/.test(d.params.height)&&(d.params.height=parseFloat(d.params.height)),i=d.params.height-f),i=Math.min(Math.max(i,0),c),/%/.test(d.params.width)?j=l/100*parseFloat(d.params.width):(/px/.test(d.params.width)&&(d.params.width=parseFloat(d.params.width)),j=d.params.width),j=Math.min(j,a),(m!=i+f||b!=o)&&(b=o,i>=o?cm.removeClass(e.scroll,"is-scroll"):d.params.scroll&&cm.addClass(e.scroll,"is-scroll"),e.scroll.style.height=[i,"px"].join("")),n!=j&&(e.window.style.width=[j,"px"].join(""))},n=function(){d.isOpen||(d.isOpen=!0,cm.inDOM(e.container)||d.params.container.appendChild(e.container),e.container.style.display="block",c=setInterval(m,5),d.params.documentScroll||cm.addClass(cm.getDocumentHtml(),"cm__scroll--none"),cm.addEvent(window,"keydown",q),f.container.go({style:{opacity:"1"},duration:d.params.openTime,onStop:function(){d.triggerEvent("onOpen")}}),d.triggerEvent("onOpenStart"))},o=function(){d.isOpen&&(d.isOpen=!1,c&&clearInterval(c),cm.removeEvent(window,"keydown",q),d.params.documentScroll||cm.removeClass(cm.getDocumentHtml(),"cm__scroll--none"),f.container.go({style:{opacity:"0"},duration:d.params.openTime,onStop:function(){e.container.style.display="none",d.triggerEvent("onClose"),d.params.removeOnClose&&p()}}),d.triggerEvent("onCloseStart"))},p=function(){c&&clearInterval(c),cm.remove(e.container)},q=function(a){a=cm.getEvent(a),27==a.keyCode&&d.isFocus&&o()};d.set=function(a,b,c){return j(a),k(b),l(c),d},d.setTitle=function(a){return j(a),d},d.setContent=function(a){return k(a),d},d.setButtons=function(a){return l(a),d},d.open=function(){return n(),d},d.close=function(){return o(),d},d.setWidth=function(a){return d.params.width=a,d},d.setHeight=function(a){return d.params.height=a,d},d.setMinHeight=function(a){return d.params.minHeight=a,d},d.setMaxHeight=function(a){return d.params.maxHeight=a,d},d.remove=function(){return p(),d},d.getNodes=function(a){return e[a]||e},g()}),cm.define("Com.Draganddrop",{modules:["Params","Events"],events:["onRender","onInit","onDragStart","onDrop","onRemove","onReplace"],params:{container:cm.Node("div"),chassisTag:"div",draggableContainer:"document.body",scroll:!0,scrollNode:window,scrollSpeed:1,renderTemporaryAria:!1,useCSSAnimation:!0,useGracefulDegradation:!0,dropDuration:400,moveDuration:200,direction:"both",limit:!1,highlightAreas:!0,highlightChassis:!1,animateRemove:!0,removeNode:!0,classes:{area:null}}},function(a){var b,c,d,e,f,g,h,i=this,j={},k={},l=[],m=[],n=[],o=[],p=!1,q=!1,r=!1,s=function(){var b;t(),i.setParams(a),i.convertEvents(i.params.events),i.params.container&&(i.params.useGracefulDegradation&&(cm.is("IE")&&cm.isVersion()<9||cm.isMobile())&&(q=!0),k.scroll=new cm.Animation(i.params.scrollNode),i.params.renderTemporaryAria&&(j.temporaryArea=cm.Node("div"),u(j.temporaryArea,{isTemporary:!0})),b=cm.getByAttr("data-com-draganddrop","area",i.params.container),cm.forEach(b,function(a){u(a,{})}),i.triggerEvent("onInit",{}),i.triggerEvent("onRender",{}))},t=function(){i.params.dropDuration=cm.getTransitionDurationFromRule(".pt__dnd-helper__drop-duration"),i.params.moveDuration=cm.getTransitionDurationFromRule(".pt__dnd-helper__move-duration")},u=function(a,b){if(!cm.inArray(m,a)){var c,d=cm.merge({node:a,styleObject:cm.getStyleObject(a),type:"area",isLocked:!1,isTemporary:!1,isSystem:!1,isRemoveZone:!1,draggableInChildNodes:!0,cloneDraggable:!1,items:[],chassis:[],dimensions:{}},b);cm.addClass(d.node,"pt__dnd-area"),cm.addClass(d.node,i.params.classes.area),d.isLocked?cm.addClass(d.node,"is-locked"):cm.addClass(d.node,"is-available"),d.draggableInChildNodes?(c=d.node.childNodes,cm.forEach(c,function(a){a.tagName&&"draggable"==a.getAttribute("data-com-draganddrop")&&d.items.push(v(a,d,{}))})):(c=cm.getByAttr("data-com-draganddrop","draggable",d.node),cm.forEach(c,function(a){d.items.push(v(a,d,{}))})),m.push(d.node),l.push(d)}},v=function(a,b,c){var d=cm.merge({node:a,styleObject:cm.getStyleObject(a),type:"item",chassis:{top:null,bottom:null},dimensions:{offsetX:0,offsetY:0}},c);return d.area=b,d.anim=new cm.Animation(d.node),w(d),n.push(d),d},w=function(a){var b;a.drag=cm.getByAttr("data-com-draganddrop","drag",a.node)[0],a["drag-bottom"]=cm.getByAttr("data-com-draganddrop","drag-bottom",a.node)[0],b=a.drag||a.node,cm.addEvent(b,"mousedown",function(b){x(b,a)}),a["drag-bottom"]&&cm.addEvent(a["drag-bottom"],"mousedown",function(b){x(b,a)})},x=function(a,h){if(!c){cm.preventDefault(a),cm.hideSpecialTags();var j,k,m=cm._clientPosition.x,n=cm._clientPosition.y;(cm.isTouch||!(cm.is("IE")&&cm.isVersion()<9&&1!=a.button||!cm.is("IE")&&a.button))&&(b=cm.getPageSize(),i.triggerEvent("onDragStart",{item:h,node:h.node,from:h.area}),o=l.filter(function(a){return cm.isParent(h.node,a.node)||a.isLocked?!1:!0}),i.params.highlightAreas&&R(),J(h),h.dimensions.offsetX=m-h.dimensions.absoluteX1,h.dimensions.offsetY=n-h.dimensions.absoluteY1,c=h.area.cloneDraggable?A(h):h,c.node.style.top=0,c.node.style.left=0,c.node.style.width=[c.dimensions.width,"px"].join(""),cm.setCSSTranslate(c.node,[c.dimensions.absoluteX1,"px"].join(""),[c.dimensions.absoluteY1,"px"].join("")),D(c),i.params.draggableContainer&&"selfParent"!=i.params.draggableContainer&&i.params.draggableContainer.appendChild(c.node),cm.addClass(c.node,"pt__dnd-helper"),cm.addClass(c.node,"is-active",!0),L(),F(),cm.forEach(c.area.items,function(a){m>=a.dimensions.absoluteX1&&m<a.dimensions.absoluteX2&&n>=a.dimensions.absoluteY1&&n<=a.dimensions.absoluteY2&&(j=a,k=n-j.dimensions.absoluteY1<j.dimensions.absoluteHeight/2?"top":"bottom")}),!j&&c.area.items.length&&(n<c.area.dimensions.y1?(j=c.area.items[0],k="top"):(j=c.area.items[c.area.items.length-1],k="bottom")),g=j?j.chassis[k]:c.area.chassis[0],g&&(cm.addClass(g.node,"is-active"),i.params.highlightChassis&&cm.addClass(g.node,"is-highlight"),g.node.style.height=[c.dimensions.absoluteHeight,"px"].join("")),f=c.area,d=j,e=k,cm.addClass(f.node,"is-active"),cm.addClass(document.body,"pt__dnd-body"),cm.addEvent(window,"mousemove",y),cm.addEvent(window,"mouseup",z))}},y=function(a){cm.preventDefault(a);var j,k,l,m,n,p=cm._clientPosition.x,q=cm._clientPosition.y,r=q-c.dimensions.offsetY,s=p-c.dimensions.offsetX;switch(i.params.direction){case"both":j=[s,"px"].join(""),k=[r,"px"].join("");break;case"vertical":j=[c.dimensions.absoluteX1,"px"].join(""),k=i.params.limit?r<c.area.dimensions.y1?[c.area.dimensions.y1,"px"].join(""):r>c.area.dimensions.y2?[c.area.dimensions.y2,"px"].join(""):[r,"px"].join(""):[r,"px"].join("");break;case"horizontal":j=[s,"px"].join(""),k=[c.dimensions.absoluteY1,"px"].join("")}cm.setCSSTranslate(c.node,j,k),i.params.scroll&&S(q+48>b.winHeight?1:0>q-48?-1:0),P(),cm.forEach(o,function(a){p>=a.dimensions.x1&&p<a.dimensions.x2&&q>=a.dimensions.y1&&q<=a.dimensions.y2&&(l?(a.dimensions.width<l.dimensions.width||a.dimensions.height<l.dimensions.height)&&(l=a):l=a)}),l?cm.forEach(l.items,function(a){p>=a.dimensions.absoluteX1&&p<a.dimensions.absoluteX2&&q>=a.dimensions.absoluteY1&&q<=a.dimensions.absoluteY2&&(m=a,n=q-m.dimensions.absoluteY1<m.dimensions.absoluteHeight/2?"top":"bottom")}):l=f,!m&&l.items.length&&(q<l.dimensions.innerY1?(m=l.items[0],n="top"):(m=l.items[l.items.length-1],n="bottom")),g&&cm.removeClass(g.node,"is-active is-highlight"),d&&m&&d.chassis[e]!=m.chassis[n]?(I(d.chassis[e],0,i.params.moveDuration),g=m.chassis[n]):!d&&m?(I(f.chassis[0],0,i.params.moveDuration),g=m.chassis[n]):d&&!m?(I(d.chassis[e],0,i.params.moveDuration),g=l.chassis[0]):d||m||f==l||(I(f.chassis[0],0,i.params.moveDuration),g=l.chassis[0]),g&&(cm.addClass(g.node,"is-active"),i.params.highlightChassis&&cm.addClass(g.node,"is-highlight"),I(g,c.dimensions.absoluteHeight,i.params.moveDuration)),f&&f!=l&&(cm.removeClass(f.node,"is-active"),h=f),f=l,d=m,e=n,h&&h.isTemporary&&f.isRemoveZone||cm.addClass(f.node,"is-active")},z=function(a){var b;cm.removeClass(document.body,"pt__dnd-body"),cm.removeEvent(window,"mousemove",y),cm.removeEvent(window,"mouseup",z),J(c),c.node.style.width=[f.dimensions.innerWidth-c.dimensions.margin.left-c.dimensions.margin.right,"px"].join(""),b=c.node.offsetHeight+c.dimensions.margin.top+c.dimensions.margin.bottom,c.node.style.width=[c.dimensions.width,"px"].join(""),d?(b!=d.chassis[e].node.offsetHeight&&I(d.chassis[e],b,i.params.dropDuration),B(c,f,{target:d.node,append:"top"==e?"before":"after",index:f.items.indexOf(d)+("top"==e?0:1),top:["top"==e?d.dimensions.absoluteY1:d.dimensions.absoluteY2,"px"].join(""),onStop:E})):f.isRemoveZone||f.isTemporary?C(c,{onStop:E}):(I(f.chassis[0],b,i.params.dropDuration),B(c,f,{onStop:E})),g&&cm.removeClass(g.node,"is-active is-highlight"),f&&cm.removeClass(f.node,"is-active"),i.params.highlightAreas&&R(),cm.showSpecialTags()},A=function(a){var b=a.node.cloneNode(!0),c=i.params.renderTemporaryAria?l[0]:a.area,d=v(b,c,{});return d.dimensions=cm.clone(a.dimensions),c.items.push(d),d},B=function(a,b,d){d=cm.merge({target:b.node,append:"child",index:0,width:[b.dimensions.innerWidth,"px"].join(""),top:[b.dimensions.innerY1-a.dimensions.margin.top,"px"].join(""),left:[b.dimensions.innerX1-a.dimensions.margin.left,"px"].join(""),onStart:function(){},onStop:function(){}},d),d.onStart(),cm.addClass(a.node,"is-drop",!0),a.node.style.width=d.width,cm.setCSSTranslate(a.node,d.left,d.top),setTimeout(function(){switch(d.append){case"child":cm.appendChild(a.node,d.target);break;case"before":cm.insertBefore(a.node,d.target);break;case"after":cm.insertAfter(a.node,d.target);break;case"first":cm.insertFirst(a.node,d.target)}cm.removeClass(a.node,"pt__dnd-helper is-drop is-active",!0),a.node.style.left="auto",a.node.style.top="auto",a.node.style.width="auto",cm.setCSSTranslate(c.node,"auto","auto"),b.items.splice(d.index,0,a),i.triggerEvent("onDrop",{item:a,node:a.node,to:b,from:a.area,index:d.index}),a.area=b,d.onStop()},i.params.dropDuration)},C=function(a,b){var d,e,f,g=function(){i.params.removeNode&&cm.remove(f),n=n.filter(function(b){return b!=a}),D(a),b.noEvent||i.triggerEvent("onRemove",{item:a,node:a.node,from:a.area}),b.onStop()};b=cm.merge({isCurrent:a===c,isInDOM:cm.inDOM(a.node),onStart:function(){},onStop:function(){}},b),b.onStart(),b.isInDOM&&i.params.animateRemove?(b.isCurrent?(f=a.node,e=a.anim,d={left:[-(a.dimensions.absoluteWidth+50),"px"].join(""),opacity:0}):(f=cm.wrap(cm.Node("div",{"class":"pt__dnd-removable"}),a.node),e=new cm.Animation(f),d={height:"0px",opacity:0}),e.go({duration:i.params.dropDuration,anim:"smooth",style:d,onStop:g})):(f=a.node,g())},D=function(a){a.area.items=a.area.items.filter(function(b){return b!=a})},E=function(){H(),c=!1,d=!1,f=!1,h=!1},F=function(){var a;cm.forEach(l,function(b){b.isLocked||(b.items.length||(a=G(),cm.appendChild(a.node,b.node),b.chassis.push(a)),cm.forEach(b.items,function(c,d){0===d&&(a=G(),cm.insertBefore(a.node,c.node),b.chassis.push(a)),a=G(),cm.insertAfter(a.node,c.node),b.chassis.push(a),c.chassis.top=b.chassis[d],c.chassis.bottom=b.chassis[d+1]}))})},G=function(){var a=cm.Node(i.params.chassisTag,{"class":"pt__dnd-chassis"});return{node:a,anim:new cm.Animation(a),isShow:!1}},H=function(){cm.forEach(l,function(a){cm.forEach(a.chassis,function(a){cm.remove(a.node)}),a.chassis=[]})},I=function(a,b,c){var d;b=[b,"px"].join(""),i.params.useCSSAnimation||q?(!q&&(d=cm.getSupportedStyle("transition-duration"))&&(a.node.style[d]=[c,"ms"].join("")),a.node.style.height=b):a.anim.go({style:{height:b},anim:"smooth",duration:c})},J=function(a){a.dimensions=cm.extend(a.dimensions,cm.getFullRect(a.node,a.styleObject))},K=function(a){cm.forEach(a,J)},L=function(){K(l),cm.forEach(l,function(a){K(a.items)})},M=function(a){a.dimensions.y1=cm.getRealY(a.node),a.dimensions.y2=a.dimensions.y1+a.dimensions.height,a.dimensions.innerY1=a.dimensions.y1+a.dimensions.padding.top,a.dimensions.innerY2=a.dimensions.innerY1+a.dimensions.innerHeight,a.dimensions.absoluteY1=a.dimensions.y1-a.dimensions.margin.top,a.dimensions.absoluteY2=a.dimensions.y2+a.dimensions.margin.bottom},N=function(a){cm.forEach(a,M)},O=function(){var a=0;g&&(cm.addClass(g.node,"is-immediately"),a=g.node.offsetHeight,g.node.style.height=0),N(l),cm.forEach(l,function(a){N(a.items)}),g&&a&&(g.node.style.height=[a,"px"].join(""),function(a){setTimeout(function(){cm.removeClass(a.node,"is-immediately")},5)}(g))},P=function(){var a=Q();a[0].dimensions.y1!=cm.getRealY(a[0].node)&&O()},Q=function(){return l.filter(function(a){return a.isTemporary||a.isSystem?!1:!0})},R=function(){o&&(r?(r=!1,cm.forEach(o,function(a){cm.removeClass(a.node,"is-highlight")})):(r=!0,cm.forEach(o,function(a){cm.addClass(a.node,"is-highlight")})))},S=function(a){var c,d,e={};0==a?(p=!1,k.scroll.stop()):0>a&&!p?(p=!0,d=cm.getScrollTop(i.params.scrollNode)*i.params.scrollSpeed,cm.isWindow(i.params.scrollNode)?e.docScrollTop=0:e.scrollTop=0,k.scroll.go({style:e,duration:d,onStop:function(){p=!1}})):a>0&&!p&&(p=!0,c=cm.getScrollHeight(i.params.scrollNode)-b.winHeight,cm.isWindow(i.params.scrollNode)?e.docScrollTop=c:e.scrollTop=c,d=c*i.params.scrollSpeed,k.scroll.go({style:e,duration:d,onStop:function(){p=!1}}))};i.getArea=function(a){var b;return cm.forEach(l,function(c){c.node===a&&(b=c)}),b},i.registerArea=function(a,b){return cm.isNode(a)&&a.tagName&&u(a,b||{}),i},i.removeArea=function(a,b){return cm.isNode(a)&&cm.inArray(m,a)&&(m=m.filter(function(b){return b!=a}),l=l.filter(function(b){return b.node!=a})),i},i.getDraggable=function(a){var b;return cm.forEach(n,function(c){c.node===a&&(b=c)}),b},i.getDraggableList=function(){return n},i.registerDraggable=function(a,b,c){var d,e,f,g,h,j=[];return d=i.getDraggable(a),d?w(d):cm.inArray(m,b)&&(a.setAttribute("data-com-draganddrop","draggable"),e=i.getArea(b),e.draggableInChildNodes?(h=e.node.childNodes,cm.forEach(h,function(a){a.tagName&&"draggable"==a.getAttribute("data-com-draganddrop")&&j.push(a)})):j=cm.getByAttr("data-com-draganddrop","draggable",e.node),g=j.indexOf(a),f=v(a,e,c||{}),e.items.splice(g,0,f)),i},i.replaceDraggable=function(a,b,c){var d,e;if(cm.forEach(n,function(b){b.node===a&&(d=b)}),d){var f=d.area,g=f.items.indexOf(d),h=cm.wrap(cm.Node("div",{"class":"pt__dnd-removable",style:"height: 0px;"}),b),j=new cm.Animation(h);cm.insertAfter(h,a),C(d,c),j.go({style:{height:[cm.getRealHeight(h,"offset",0),"px"].join(""),opacity:1},duration:300,anim:"simple",onStop:function(){cm.insertAfter(b,h),cm.remove(h),e=v(b,f),f.items.splice(g,0,e),i.triggerEvent("onReplace",{item:e,node:e.node,to:e.to})}})}return i},i.removeDraggable=function(a,b){var c;return cm.forEach(n,function(b){b.node===a&&(c=b)}),c&&C(c,b||{}),i},i.getOrderingNodes=function(){var a,b=[],c=Q();return cm.forEach(c,function(c){a={area:c.node,items:[]},cm.forEach(c.items,function(b){a.items.push(b.node)}),b.push(a)}),1==c.length?a.items:b},i.getOrderingIDs=function(){var a,b={},c=Q();return cm.forEach(c,function(c){a={},cm.forEach(c.items,function(b,c){if(!b.id)throw new Error('Attribute "data-id" not specified on item node.');a[b.id]=c}),b[c.id]=a}),1==c.length?a:b},s()}),cm.define("Com.Draggable",{modules:["Params","Events","Langs","DataConfig"],events:["onRender","onStart","onMove","onStop","onSet"],params:{node:cm.Node("div"),target:!1,limiter:!1,minY:!1,direction:"both",alignNode:!1}},function(a){var b=this;b.startX=0,b.startY=0,b.nodeStartX=0,b.nodeStartY=0,b.isDrag=!1,b.dimensions={target:{}};var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataConfig(b.params.node),d(),e(),b.triggerEvent("onRender")},d=function(){b.params.target||(b.params.target=b.params.node)},e=function(){b.getDimensions(),cm.addEvent(b.params.target,"mousedown",f)},f=function(a){b.isDrag||(b.isDrag=!0,cm.preventDefault(a),cm.hideSpecialTags(),b.startX=cm._clientPosition.x,b.startY=cm._clientPosition.y,(cm.isTouch||!(cm.is("IE")&&cm.isVersion()<9&&1!=a.button||!cm.is("IE")&&a.button))&&(b.getDimensions(),b.nodeStartX=cm.getStyle(b.params.node,"left",!0),b.nodeStartY=cm.getStyle(b.params.node,"top",!0),i(b.startX,b.startY),cm.addEvent(window,"mousemove",g),cm.addEvent(window,"mouseup",h),b.triggerEvent("onStart")))},g=function(a){cm.preventDefault(a),i(cm._clientPosition.x,cm._clientPosition.y),b.triggerEvent("onMove")},h=function(){b.isDrag=!1,cm.removeEvent(window,"mousemove",g),cm.removeEvent(window,"mouseup",h),cm.showSpecialTags(),b.triggerEvent("onStop")},i=function(a,c){var d=a,e=c;b.params.node===b.params.target?(d+=b.nodeStartX-b.startX,e+=b.nodeStartY-b.startY):(d-=b.dimensions.target.absoluteX1,e-=b.dimensions.target.absoluteY1),b.setPosition(d,e,!0)};b.getDimensions=function(){return b.dimensions.target=cm.getFullRect(b.params.target),b.dimensions.node=cm.getFullRect(b.params.node),b.dimensions.limiter=cm.getFullRect(b.params.limiter),b.dimensions},b.setPosition=function(a,c,d){var e,f;switch(d="undefined"==typeof d?!0:d,b.params.limiter&&(0>c?c=0:c>b.dimensions.limiter.absoluteHeight&&(c=b.dimensions.limiter.absoluteHeight),0>a?a=0:a>b.dimensions.limiter.absoluteWidth&&(a=b.dimensions.limiter.absoluteWidth)),!isNaN(b.params.minY)&&c<b.params.minY&&(c=b.params.minY),e=c,f=a,b.params.alignNode&&(e-=b.dimensions.node.absoluteHeight/2,f-=b.dimensions.node.absoluteWidth/2),b.params.direction){case"vertical":b.params.node.style.top=[e,"px"].join("");break;case"horizontal":b.params.node.style.left=[f,"px"].join("");break;default:b.params.node.style.top=[e,"px"].join(""),b.params.node.style.left=[f,"px"].join("")}return d&&b.triggerEvent("onSet",{posY:c,posX:a,nodePosY:e,nodePosX:f}),b},c()}),cm.define("Com.Gallery",{modules:["Params","Events","Langs","DataConfig","DataNodes"],events:["onRender","onSet","onChange","onItemLoad","onItemSet"],params:{container:cm.Node("div"),node:cm.Node("div"),data:[],duration:500,showCaption:!0,showArrowTitles:!1,autoplay:!0,zoom:!0,icons:{prev:"icon default prev",next:"icon default next",zoom:"icon cm-i default zoom"},"Com.Zoom":{autoOpen:!1,removeOnClose:!0,documentScroll:!0}}},function(a){var b=this,c=[],d={};b.components={},b.current=null,b.previous=null,b.isProcess=!1,b.nodes={items:[]};var e=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node,b.params.nodesDataMarker,!1),b.getDataConfig(b.params.node),f(),cm.forEach(b.nodes.items,h),cm.forEach(b.params.data,i),g(),b.triggerEvent("onRender")},f=function(){b.nodes.container=cm.Node("div",{"class":"com__gallery"},b.nodes.holder=cm.Node("div",{"class":"holder"}),b.nodes.bar=cm.Node("div",{"class":"com__gallery-controls is-full"},cm.Node("div",{"class":"inner"},b.nodes.prev=cm.Node("div",{"class":"bar-arrow prev"},cm.Node("div",{"class":b.params.icons.prev})),b.nodes.next=cm.Node("div",{"class":"bar-arrow next"},cm.Node("div",{"class":b.params.icons.next})),b.nodes.zoom=cm.Node("div",{"class":"bar-zoom"},cm.Node("div",{"class":b.params.icons.zoom})))),b.nodes.loader=cm.Node("div",{"class":"loader"},cm.Node("div",{"class":"bg"}),cm.Node("div",{"class":"icon small loader centered"}))),b.params.showArrowTitles&&(b.nodes.next.setAttribute("title",b.lang("Next")),b.nodes.prev.setAttribute("title",b.lang("Previous"))),b.params.zoom?cm.getConstructor("Com.Zoom",function(a){b.components.zoom=new a(b.params["Com.Zoom"]),cm.addEvent(b.nodes.zoom,"click",r)}):cm.remove(b.nodes.zoom),cm.addEvent(b.nodes.next,"click",p),cm.addEvent(b.nodes.prev,"click",q),d.loader=new cm.Animation(b.nodes.loader),b.params.container.appendChild(b.nodes.container)},g=function(){c.length<2?(b.nodes.next.style.display="none",b.nodes.prev.style.display="none"):(b.nodes.next.style.display="",b.nodes.prev.style.display="")},h=function(a){a.link||(a.link=cm.Node("a")),a=cm.merge({src:a.link.getAttribute("href")||"",title:a.link.getAttribute("title")||""},a),i(a)},i=function(a){a=cm.merge({index:c.length,isLoad:!1,type:"image",nodes:{},src:"",title:""},a),a.type=/(\.jpg|\.png|\.gif|\.jpeg|\.bmp|\.tga)$/gi.test(a.src)?"image":"iframe",a.link||(a.link=cm.Node("a")),a.nodes.container=cm.Node("div",{"class":"pt__image is-centered"},a.nodes.inner=cm.Node("div",{"class":"inner"})),"image"==a.type?a.nodes.inner.appendChild(a.nodes.content=cm.Node("img",{"class":"descr",alt:a.title,title:a.title})):a.nodes.inner.appendChild(a.nodes.content=cm.Node("iframe",{"class":"descr"})),b.params.showCaption&&!cm.isEmpty(a.title&&"image"==a.type)&&a.nodes.inner.appendChild(cm.Node("div",{"class":"title"},cm.Node("div",{"class":"inner"},a.title))),a.anim=new cm.Animation(a.nodes.container),cm.addEvent(a.link,"click",function(b){b=cm.getEvent(b),cm.preventDefault(b),j(a.index)},!0,!0),c.push(a)},j=function(a){var d,e;b.isProcess||(b.isProcess=!0,d=c[a],e=c[b.current],b.triggerEvent("onSet",{current:d,previous:e}),a!=b.current?(b.triggerEvent("onChange",{current:d,previous:e}),"image"==d.type?k(a,d,e):l(a,d,e)):b.isProcess=!1)},k=function(a,c,d){cm.replaceClass(b.nodes.bar,"is-partial","is-full"),c.isLoad?o(a,c,d):m(a,c,d)},l=function(a,c,d){cm.replaceClass(b.nodes.bar,"is-full","is-partial"),b.nodes.holder.appendChild(c.nodes.container),m(a,c,d)},m=function(a,c,e){b.nodes.loader.style.display="block",d.loader.go({style:{opacity:1},anim:"smooth",duration:b.params.duration}),cm.addEvent(c.nodes.content,"load",function(){c.isLoad=!0,n(),o(a,c,e)}),cm.addEvent(c.nodes.content,"error",function(){
c.isLoad=!1,n(),o(a,c,e)}),c.nodes.content.src=c.src},n=function(){d.loader.go({style:{opacity:0},anim:"smooth",duration:b.params.duration,onStop:function(){b.nodes.loader.style.display="none"}})},o=function(a,c,d){b.previous=b.current,b.current=a,b.triggerEvent("onItemLoad",c),d&&(d.nodes.container.style.zIndex=1,c.nodes.container.style.zIndex=2),"image"==c.type&&b.nodes.holder.appendChild(c.nodes.container),c.anim.go({style:{opacity:1},anim:"smooth",duration:b.params.duration,onStop:function(){d&&(cm.setOpacity(d.nodes.container,0),cm.remove(d.nodes.container)),b.triggerEvent("onItemSet",c),b.isProcess=!1}})},p=function(){j(b.current==c.length-1?0:b.current+1)},q=function(){j(0==b.current?c.length-1:b.current-1)},r=function(){b.components.zoom.set(c[b.current].src).open()};b.set=function(a){return!isNaN(a)&&c[a]&&j(a),b},b.next=function(){return p(),b},b.prev=function(){return q(),b},b.getCount=function(){return c.length},b.stop=function(){return b.isProcess=!1,b},b.collect=function(a){var c;return cm.isNode(a)&&(c=cm.getNodes(a),c.items&&(cm.forEach(c.items,h),g())),b},e()}),cm.define("Com.GalleryLayout",{modules:["Params","Events","DataConfig","DataNodes"],events:["onRender","onChange"],params:{node:cm.Node("div"),barDirection:"horizontal",hasBar:!0,"Com.Gallery":{},"Com.Scroll":{step:25,time:25}}},function(a){var b=this,c={},d=[];b.nodes={inner:cm.Node("div"),"preview-inner":cm.Node("div"),"bar-inner":cm.Node("div"),"bar-items":[]};var e=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node,b.params.nodesDataMarker,!1),b.getDataConfig(b.params.node),g(),f()},f=function(){c.scroll=new Com.Scroll(cm.merge(b.params["Com.Scroll"],{nodes:b.nodes.ComScroll})),c.gallery=new Com.Gallery(cm.merge(b.params["Com.Gallery"],{container:b.nodes["preview-inner"],data:d})).addEvent("onChange",h).set(0),b.triggerEvent("onRender")},g=function(){cm.forEach(b.nodes["bar-items"],function(a){a.title=a.link?a.link.getAttribute("title")||"":"",a.src=a.link?a.link.getAttribute("href")||"":"",d.push(a)})},h=function(a,d){var e,f,g=d.current;b.params.hasBar&&(d.previous&&cm.removeClass(d.previous.container,"active"),cm.addClass(g.container,"active"),"vertical"==b.params.barDirection?(f=g.container.offsetTop-b.nodes.inner.offsetHeight/2+g.container.offsetHeight/2,c.scroll.scrollY(f)):(e=g.container.offsetLeft-b.nodes.inner.offsetWidth/2+g.container.offsetWidth/2,c.scroll.scrollX(e))),b.triggerEvent("onChange",d)};e()}),cm.define("Com.GalleryPopup",{modules:["Params","DataConfig","Events","Stack"],events:["onOpen","onClose","onChange"],params:{node:cm.Node("div"),name:"",size:"fullscreen",aspectRatio:"auto",theme:"theme-black",showCounter:!0,showTitle:!0,data:[],openOnSelfClick:!1,"Com.Dialog":{width:"700",autoOpen:!1,titleOverflow:!0,closeOnBackground:!0,className:"com__gallery-popup"},"Com.Gallery":{showCaption:!1}}},function(a){var b=this,c={},d={},e=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataConfig(b.params.node),b.addToStack(b.params.node),f(),g(),h()},f=function(){b.params["Com.Dialog"].theme=b.params.theme,b.params["Com.Dialog"].size=b.params.size,"fullscreen"==b.params.size&&(b.params["Com.Dialog"].documentScroll=!1)},g=function(){c.container=cm.Node("div",{"class":"com__gallery-preview bottom"},c.galleryContainer=cm.Node("div",{"class":"inner"})),"auto"!=b.params.aspectRatio&&cm.addClass(c.container,["cm__aspect",b.params.aspectRatio].join("-"))},h=function(){cm.getConstructor("Com.Dialog",function(a){d.dialog=new a(cm.merge(b.params["Com.Dialog"],{content:c.container})).addEvent("onOpen",function(){cm.addEvent(window,"keydown",j),b.triggerEvent("onOpen")}).addEvent("onClose",function(){d.gallery.stop(),cm.removeEvent(window,"keydown",j),b.triggerEvent("onClose")})}),cm.getConstructor("Com.Gallery",function(a){d.gallery=new a(cm.merge(b.params["Com.Gallery"],{node:b.params.node,container:c.galleryContainer,data:b.params.data})).addEvent("onSet",d.dialog.open).addEvent("onChange",i)}),b.params.openOnSelfClick&&cm.addEvent(b.params.node,"click",b.open)},i=function(a,c){var e;b.params.showCounter&&(e=[c.current.index+1,a.getCount()].join("/")),b.params.showTitle&&(b.params.showCounter?cm.isEmpty(c.current.title)||(e=[e,c.current.title].join(" - ")):e=c.current.title),(b.params.showCounter||b.params.showTitle)&&d.dialog.setTitle(e),b.triggerEvent("onChange",c)},j=function(a){switch(a=cm.getEvent(a),a.keyCode){case 37:d.dialog.isFocus&&d.gallery.prev();break;case 39:d.dialog.isFocus&&d.gallery.next()}};b.open=function(){return b.set(0),b},b.close=function(){return d.dialog.close(),b},b.set=function(a){return d.gallery.set(a),b},b.next=function(){return d.gallery.next(),b},b.prev=function(){return d.gallery.prev(),b},b.collect=function(a){return d.gallery.collect(a),b},e()}),cm.define("Com.Glossary",{modules:["Params","Events","DataConfig","DataNodes"],require:["Com.Tooltip"],events:["onRender"],params:{node:cm.Node("div"),showTitle:!0,"Com.Tooltip":{className:"com__glossary__tooltip",targetEvent:"hover"}}},function(a){var b=this;b.components={},b.nodes={container:cm.Node("div"),title:cm.Node("div"),content:cm.Node("div")};var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d()},d=function(){b.components.tooltip=new Com.Tooltip(cm.merge(b.params["Com.Tooltip"],{target:b.nodes.container,content:b.nodes.content,title:b.params.showTitle?b.nodes.title.cloneNode(!0):""})),b.triggerEvent("onRender",{})};c()}),cm.define("Com.Gridlist",{modules:["Params","Events","Langs","DataConfig"],events:["onSort","onCheckAll","onUnCheckAll","onCheck","onUnCheck","onRenderStart","onRenderEnd"],params:{node:cm.Node("div"),container:!1,data:[],cols:[],sort:!0,sortBy:"id",orderBy:"ASC",childsBy:!1,pagination:!0,perPage:25,showCounter:!1,className:"",dateFormat:"cm._config.dateTimeFormat",visibleDateFormat:"cm._config.dateTimeFormat",langs:{counter:"Count: ",check_all:"Check all",uncheck_all:"Uncheck all",empty:"Items does not found"},icons:{arrow:{desc:"icon arrow desc",asc:"icon arrow asc"}},statuses:["active","success","danger","warning"],"Com.Pagination":{renderStructure:!0,animateSwitch:!0,animatePrevious:!0}}},function(a){var b,c,d=this,e=[];d.nodes={},d.components={},d.isCheckedAll=!1;var f=function(){d.setParams(a),d.convertEvents(d.params.events),d.getDataConfig(d.params.node),g(),h()},g=function(){d.params.container||(d.params.container=d.params.node),d.params["Com.Pagination"].count=d.params.data.length,d.params["Com.Pagination"].perPage=d.params.perPage},h=function(){d.params.container.appendChild(d.nodes.container=cm.Node("div",{"class":"com__gridlist"})),!cm.isEmpty(d.params.className)&&cm.addClass(d.nodes.container,d.params.className),d.params.showCounter&&d.nodes.container.appendChild(cm.Node("div",{"class":"pt__gridlist__counter"},d.lang("counter")+d.params.data.length)),d.params.sort&&m(d.params.sortBy),d.params.data.length?d.params.pagination?d.components.pagination=new Com.Pagination(cm.merge(d.params["Com.Pagination"],{container:d.nodes.container,events:{onPageRender:function(a,b){i(b.page,b.container)}}})):i(1,d.nodes.container):d.nodes.container.appendChild(cm.Node("div",{"class":"cm__empty"},d.lang("empty")))},i=function(a,b){var c,f;d.params.pagination||cm.remove(d.nodes.table),d.triggerEvent("onRenderStart",{container:b,page:a}),d.nodes.table=cm.Node("div",{"class":"pt__gridlist"},cm.Node("table",cm.Node("thead",d.nodes.title=cm.Node("tr")),d.nodes.content=cm.Node("tbody"))),cm.forEach(d.params.cols,j),d.params.pagination?(f=d.params.perPage*a,c=f-d.params.perPage):(f=d.params.data.length,c=0);for(var g=c,h=Math.min(f,d.params.data.length);h>g;g++)k(e,d.params.data[g],g);b.appendChild(d.nodes.table),d.triggerEvent("onRenderEnd",{container:b,page:a,rows:e})},j=function(a,e){if(a=d.params.cols[e]=cm.merge({width:"auto",access:!0,type:"text",key:"",title:"",sort:d.params.sort,textOverflow:!1,"class":"",target:"_blank",showTitle:!1,titleText:"",altText:"",urlKey:!1,actions:[],onClick:!1,onRender:!1},a),a.nodes={},a.access){switch(d.nodes.title.appendChild(a.nodes.container=cm.Node("th",{width:a.width},a.nodes.inner=cm.Node("div",{"class":"inner"}))),a.type){case"checkbox":cm.addClass(a.nodes.container,"control"),a.nodes.inner.appendChild(a.nodes.checkbox=cm.Node("input",{type:"checkbox",title:d.lang("check_all")})),a.nodes.checkbox.checked=d.isCheckedAll,cm.addEvent(a.nodes.checkbox,"click",function(){1==d.isCheckedAll?d.unCheckAll():d.checkAll()}),d.nodes.checkbox=a.nodes.checkbox;break;default:a.nodes.inner.appendChild(cm.Node("span",a.title))}!/icon|empty|actions|checkbox/.test(a.type)&&a.sort&&(cm.addClass(a.nodes.container,"sort"),a.key==b&&a.nodes.inner.appendChild(cm.Node("div",{"class":d.params.icons.arrow[c.toLowerCase()]})),cm.addEvent(a.nodes.inner,"click",function(){m(a.key),d.params.pagination?d.components.pagination.rebuild():i(1,d.nodes.container)}))}},k=function(a,b,c){var f={index:c,data:b,childs:[],isChecked:b._checked||!1,status:b._status||!1,nodes:{cols:[]}};d.nodes.content.appendChild(f.nodes.container=cm.Node("tr")),cm.forEach(d.params.cols,function(a){l(a,f)}),d.params.childsBy&&cm.forEach(b[d.params.childsBy],function(a,b){k(f.childs,a,b)}),e.push(f)},l=function(a,b){var c,e,f,g={};if(a.access){switch(c=cm.isEmpty(b.data[a.key])?"":b.data[a.key],e=cm.isEmpty(a.titleText)?c:a.titleText,b.nodes.container.appendChild(g.container=cm.Node("td")),a.textOverflow?(g.inner=cm.Node("div",{"class":"inner"}),g.container.appendChild(g.inner)):g.inner=g.container,a.type){case"number":g.inner.innerHTML=cm.splitNumber(c);break;case"date":d.params.dateFormat!=d.params.visibleDateFormat?g.inner.innerHTML=cm.dateFormat(cm.parseDate(c,d.params.dateFormat),d.params.visibleDateFormat):g.inner.innerHTML=c;break;case"icon":g.inner.appendChild(g.node=cm.Node("div",{"class":a["class"]})),cm.addClass(g.node,"icon linked inline");break;case"url":c=cm.decode(c),f=a.urlKey&&b.data[a.urlKey]?cm.decode(b.data[a.urlKey]):c,g.inner.appendChild(g.node=cm.Node("a",{target:a.target,href:f},cm.isEmpty(a.altText)?c:a.altText));break;case"checkbox":cm.addClass(g.container,"control"),g.inner.appendChild(g.node=cm.Node("input",{type:"checkbox"})),b.nodes.checkbox=g.node,b.isChecked&&n(b,!1),cm.addEvent(g.node,"click",function(){b.isChecked?o(b,!0):n(b,!0)});break;case"actions":g.actions=[],g.inner.appendChild(g.node=cm.Node("div",{"class":["pt__links",a["class"]].join(" ")},g.actionsList=cm.Node("ul"))),cm.forEach(a.actions,function(a){var c;a=cm.merge({label:"",attr:{},events:{}},a),cm.forEach(b.data,function(b,c){a.attr=cm.replaceDeep(a.attr,new RegExp([cm.strWrap(c,"%"),cm.strWrap(c,"%25")].join("|"),"g"),b)}),g.actionsList.appendChild(cm.Node("li",c=cm.Node("a",a.attr,a.label))),cm.forEach(a.events,function(a,b){cm.addEvent(c,b,a)}),g.actions.push(c)});break;case"empty":break;default:g.inner.innerHTML=c}b.status&&p(b,b.status),a.showTitle&&(g.node?g.node.title=e:g.inner.title=e),a.onClick&&cm.addEvent(g.node||g.inner,"click",function(c){c=cm.getEvent(c),cm.preventDefault(c),a.onClick(d,b)}),a.onRender&&a.onRender(d,{nodes:g,col:a,row:b}),b.nodes.cols.push(g)}},m=function(a){b=a,c=c?"ASC"==c?"DESC":"ASC":d.params.orderBy;var e,f,g,h,i,j;cm.forEach(d.params.cols,function(b){b.key==a&&(e=b)}),d.params.data.sort&&d.params.data.sort(function(b,k){switch(f=b[a],g=k[a],e.type){case"html":return h=cm.getTextNodesStr(cm.strToHTML(f)),i=cm.getTextNodesStr(cm.strToHTML(g)),j=i>h?-1:h>i?1:0,"ASC"==c?j:-1*j;case"date":return h=cm.parseDate(f,d.params.dateFormat),i=cm.parseDate(g,d.params.dateFormat),"ASC"==c?h-i:i-h;case"number":return j=f-g,"ASC"==c?j:-1*j;default:return h=f?f.toLowerCase():"",i=g?g.toLowerCase():"",j=i>h?-1:h>i?1:0,"ASC"==c?j:-1*j}}),d.triggerEvent("onSort",{sortBy:b,orderBy:c,data:d.params.data})},n=function(a,b){a.nodes.checkbox&&(a.nodes.checkbox.checked=!0),a.isChecked=!0,a.data._checked=!0,a.status&&cm.removeClass(a.nodes.container,a.status),cm.addClass(a.nodes.container,"active"),b&&d.triggerEvent("onCheck",a)},o=function(a,b){a.nodes.checkbox&&(a.nodes.checkbox.checked=!1),a.isChecked=!1,a.data._checked=!1,cm.removeClass(a.nodes.container,"active"),a.status&&cm.addClass(a.nodes.container,a.status),b&&d.triggerEvent("onUnCheck",a)},p=function(a,b){a.status=b,a.data._status=b,cm.removeClass(a.nodes.container,d.params.statuses.join(" ")),a.isChecked?cm.addClass(a.nodes.container,"active"):cm.inArray(d.params.statuses,b)&&cm.addClass(a.nodes.container,b)},q=function(a){a.status=null,a.data._status=null,cm.removeClass(a.nodes.container,d.params.statuses.join(" "))};d.check=function(a){return d.params.data[a]&&(d.params.data[a]._checked=!0),cm.forEach(e,function(b){b.index==a&&n(b,!0)}),d},d.unCheck=function(a){return d.params.data[a]&&(d.params.data[a]._checked=!1),cm.forEach(e,function(b){b.index==a&&o(b,!0)}),d},d.checkAll=function(){return d.isCheckedAll=!0,d.nodes.checkbox.checked=!0,cm.forEach(d.params.data,function(a){a._checked=!0}),cm.forEach(e,function(a){n(a)}),d.triggerEvent("onCheckAll",d.params.data),d},d.unCheckAll=function(){return d.isCheckedAll=!1,d.nodes.checkbox.checked=!1,cm.forEach(d.params.data,function(a){a._checked=!1}),cm.forEach(e,function(a){o(a)}),d.triggerEvent("onUnCheckAll",d.params.data),d},d.getChecked=function(){var a=[];return cm.forEach(e,function(b){b.isChecked&&a.push(b)}),a},d.getCheckedData=function(){var a=[];return cm.forEach(d.params.data,function(b){b._checked&&a.push(b)}),a},d.setRowStatus=function(a,b){return cm.forEach(e,function(c){c.index==a&&p(c,b)}),d},d.clearRowStatus=function(a){return cm.forEach(e,function(b){b.index==a&&q(b)}),d},f()}),cm.define("Com.GridlistHelper",{modules:["Params","Events","Langs","DataConfig","DataNodes","Stack"],events:["onRender","onColumnsChange","onColumnsResize"],params:{node:cm.Node("div"),name:"",isEditMode:!0,columns:{showDrag:!1,ajax:{type:"json",method:"post",url:"",params:""}}}},function(a){var b=this;b.nodes={container:cm.node("div"),thead:cm.node("thead"),items:[]},b.components={},b.isEditMode=!1;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d(),e(),b.addToStack(b.nodes.container),b.triggerEvent("onRender")},d=function(){b.nodes.container=b.params.node,b.isEditMode=b.params.isEditMode},e=function(){b.nodes.thead=b.nodes.container.getElementsByTagName("thead")[0]||b.nodes.thead,b.nodes.items=b.nodes.thead.getElementsByTagName("th"),cm.getConstructor("Com.ColumnsHelper",function(a){b.components.columns=new a(cm.merge(b.params.columns,{isEditMode:!1,node:b.nodes.container,items:b.nodes.items,events:{onDragStart:function(){cm.addClass(b.nodes.container,"is-active")},onDragStop:function(){cm.removeClass(b.nodes.container,"is-active")},onChange:function(a,c){b.triggerEvent("onColumnsChange",c)},onResize:function(a,c){b.triggerEvent("onColumnsResize",c)}}}))}),b.isEditMode&&b.enableEditMode()};b.enableEditMode=function(){return b.isEditMode=!0,cm.addClass(b.nodes.container,"is-editable"),b.components.columns&&b.components.columns.enableEditMode(),b},b.disableEditMode=function(){return b.isEditMode=!1,cm.removeClass(b.nodes.container,"is-editable"),b.components.columns&&b.components.columns.disableEditMode(),b},c()}),cm.define("Com.HelpBubble",{modules:["Params","Events","Langs","DataConfig","DataNodes","Stack"],events:["onRender"],params:{node:cm.Node("div"),name:"",renderStructure:!1,container:!1,content:cm.node("span"),"Com.Tooltip":{className:"com__help-bubble__tooltip"}}},function(a){var b=this;b.nodes={container:cm.node("span"),button:cm.node("span"),content:cm.node("span")},b.components={};var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d(),b.addToStack(b.nodes.container),b.triggerEvent("onRender")},d=function(){b.params.renderStructure&&(b.nodes.container=cm.node("span",{"class":"com__help-bubble"},b.nodes.button=cm.node("span",{"class":"icon default linked"}),b.nodes.content=cm.node("span",{"class":"com__help-bubble__content"},b.params.content)),b.params.container&&b.params.container.appendChild(b.nodes.container)),cm.getConstructor("Com.Tooltip",function(a){b.components.tooltip=new a(b.params["Com.Tooltip"]),b.components.tooltip.setTarget(b.nodes.button).setContent(b.nodes.content)})};b.set=function(a){return cm.isNode(a)&&(cm.clearNode(b.nodes.content),b.nodes.content.appendChild(a)),b},c()}),cm.define("Com.ImageBox",{modules:["Params","Events","DataConfig","DataNodes","Stack"],events:["onRender"],params:{node:cm.Node("div"),name:"",animated:!1,effect:"none",zoom:!1,scrollNode:window,"Com.GalleryPopup":{}}},function(a){var b=this,c={},d={};b.nodes={items:[]},b.components={},b.processed=!1;var e=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataConfig(b.params.node),b.getDataNodes(b.params.node),f(),g(),b.addToStack(b.params.node),b.triggerEvent("onRender")},f=function(){b.params["Com.GalleryPopup"].node=b.params.node},g=function(){b.params.animated&&(cm.addClass(b.params.node,"cm-animate"),cm.addClass(b.params.node,["pre",b.params.effect].join("-")),cm.addEvent(b.params.scrollNode,"scroll",h),h()),b.params.zoom&&cm.getConstructor("Com.GalleryPopup",function(a){b.components.popup=new a(b.params["Com.GalleryPopup"])}),cm.customEvent.add(b.params.node,"redraw",function(){b.redraw()})},h=function(){b.processed||(k(),l(),c.height<d.winHeight?c.top>=0&&c.bottom<=d.winHeight&&i():(c.top<0&&c.bottom>=d.winHeight/2||c.bottom>d.winHeight&&c.top<=d.winHeight/2)&&i())},i=function(){b.processed=!0,cm.addClass(b.params.node,["animated",b.params.effect].join(" "))},j=function(){b.processed=!1,cm.removeClass(b.params.node,["animated",b.params.effect].join(" "))},k=function(){c=cm.getRect(b.params.node)},l=function(){d=cm.getPageSize()};b.redraw=function(){return b.params.animated&&(j(),h()),b},e()}),cm.define("Com.MultiField",{modules:["Params","Events","DataConfig","DataNodes","Stack","Langs"],events:["onRender","onItemAdd","onItemRemove","onItemProcess","onItemSort","onItemIndexChange"],params:{node:cm.Node("div"),name:"",renderStructure:!1,container:!1,renderItems:0,maxItems:0,template:null,templateAttributeReplace:!1,templateAttribute:"name",sortable:!0,duration:200,langs:{add:"Add",remove:"Remove"},icons:{drag:"icon drag linked",add:"icon add linked",remove:"icon remove linked"},"Com.Sortable":{process:!1}}},function(a){var b=this,c=0,d=!0;b.nodes={container:cm.node("div"),content:cm.node("ul"),toolbar:cm.node("li"),add:cm.node("div"),items:[]},b.components={},b.items=[];var e=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),f(),g(),b.addToStack(b.nodes.container),b.triggerEvent("onRender")},f=function(){b.params.sortable&&(cm.getConstructor("Com.Sortable",function(a){b.components.sortable=new a(b.params["Com.Sortable"])}),b.components.sortable||(b.params.sortable=!1))},g=function(){b.params.renderStructure&&(b.nodes.container=cm.node("div",{"class":"com__multifield"},b.nodes.content=cm.node("div",{"class":"com__multifield__content"}),b.nodes.toolbar=cm.node("div",{"class":"com__multifield__toolbar"},cm.node("div",{"class":"com__multifield__item"},b.nodes.add=cm.node("div",{"class":b.params.icons.add,title:b.lang("add")})))),b.params.container&&b.params.container.appendChild(b.nodes.container)),cm.addEvent(b.nodes.add,"click",function(a){cm.preventDefault(a),h()}),b.params.sortable&&(b.components.sortable.addEvent("onSort",function(a,c){var d=b.items.find(function(a){return a.container===c.node});d&&k(d,c.index)}),b.components.sortable.addGroup(b.nodes.content)),cm.forEach(b.nodes.items,i),cm.forEach(Math.max(b.params.renderItems-b.items.length,0),h)},h=function(){if(0==b.params.maxItems||b.items.length<b.params.maxItems){var a={isVisible:!1};a.container=cm.node("div",{"class":"com__multifield__item","data-node":"items:[]:container"},a.field=cm.node("div",{"class":"field","data-node":"field"}),a.remove=cm.node("div",{"class":b.params.icons.remove,title:b.lang("remove"),"data-node":"remove"})),cm.isNode(b.params.template)?cm.appendChild(b.params.template,a.field):cm.isEmpty(b.params.template)||cm.appendChild(cm.strToHTML(b.params.template),a.field),b.params.sortable&&(a.drag=cm.node("div",{"class":b.params.icons.drag,"data-node":"drag"}),cm.insertFirst(a.drag,a.container)),b.nodes.content.appendChild(a.container),i(a),b.triggerEvent("onItemAdd",a)}},i=function(a){b.params.sortable?b.components.sortable.addItem(a.container,b.nodes.content):cm.remove(a.drag),cm.addEvent(a.remove,"click",function(b){cm.preventDefault(b),j(a)}),b.items.push(a),l(),o(a),n(),b.triggerEvent("onItemProcess",a)},j=function(a){b.params.sortable&&b.components.sortable.removeItem(a.container),b.items.splice(b.items.indexOf(a),1),l(),o(a,function(){cm.remove(a.container)}),n(),b.triggerEvent("onItemRemove",a)},k=function(a,c){b.items.splice(b.items.indexOf(a),1),b.items.splice(c,0,a),l(),b.triggerEvent("onItemSort",a)},l=function(){cm.forEach(b.items,function(a,c){a.index!=c&&(a.index=c,b.params.templateAttributeReplace&&cm.processDataAttributes(a.field,b.params.templateAttribute,{"%index%":c}),b.triggerEvent("onItemIndexChange",a))})},m=function(a){return!!b.items.find(function(b){return b===a})},n=function(){c||(c=b.nodes.toolbar.offsetHeight),b.params.maxItems>0&&b.items.length==b.params.maxItems?d&&(d=!1,b.nodes.toolbar.style.overflow="hidden",cm.transition(b.nodes.toolbar,{properties:{height:"0px",opacity:0},duration:b.params.duration,easing:"ease-in-out"})):d||(d=!0,b.nodes.toolbar.style.overflow="hidden",cm.transition(b.nodes.toolbar,{properties:{height:[c,"px"].join(""),opacity:1},duration:b.params.duration,easing:"ease-in-out",clear:!0,onStop:function(){b.nodes.toolbar.style.overflow=""}}))},o=function(a,c){c="function"==typeof c?c:function(){},a.height||(a.height=a.container.offsetHeight),"undefined"==typeof a.isVisible?a.isVisible=!0:a.isVisible?(a.isVisible=!1,a.container.style.overflow="hidden",cm.transition(a.container,{properties:{height:"0px",opacity:0},duration:b.params.duration,easing:"ease-in-out",onStop:c})):(a.isVisible=!0,a.container.style.overflow="hidden",a.container.style.height="0px",a.container.style.opacity=0,cm.transition(a.container,{properties:{height:[a.height,"px"].join(""),opacity:1},duration:b.params.duration,easing:"ease-in-out",clear:!0,onStop:function(){a.container.style.overflow="",c()}}))};b.addItem=function(){return h(),b},b.removeItem=function(a){return"number"==typeof a&&b.items[a]?j(b.items[a]):m(a)&&j(a),b},b.getItem=function(a){return b.items[a]?b.items[a]:null},b.getItems=function(){return b.items},e()}),cm.define("Com.OldBrowserAlert",{modules:["Params","Events","Langs","Storage","Stack"],events:["onRender"],params:{name:"default",remember:!0,versions:{IE:10,FF:31,Chrome:40,Safari:6,Opera:26},langs:{title:"Thank you for visiting our site!",descr:"It seems that you are using an outdated browser <b>(%browser% %version%)</b>. As a result, we cannot provide you with the best user experience while visiting our site. Please upgrade your <b>%browser%</b> to version <b>%minimum_version%</b> or above, or use another standards based browser such as Firefox, Chrome or Safari, by clicking on the icons below.","continue":"Skip for now"}}},function(a){var b=this,c=Com.UA.get();b.nodes={},b.compoennts={};var d=function(){b.setParams(a),b.convertEvents(b.params.events),b.addToStack(),e(),b.triggerEvent("onRender")},e=function(){cm.forEach(b.params.versions,function(a,d){Com.UA.is(d)&&Com.UA.isVersion()<a&&(b.params.langs.descr=b.lang("descr",{"%browser%":c.full_name,"%version%":c.full_version,"%minimum_version%":a}),(!b.params.remember||b.params.remember&&!b.storageRead("isShow"))&&f())})},f=function(){b.nodes.container=cm.Node("div",{"class":"com__oldbrowser-alert"},cm.Node("div",{"class":"b-descr"},cm.Node("p",{innerHTML:b.lang("descr")})),cm.Node("ul",{"class":"b-browsers"},cm.Node("li",cm.Node("a",{"class":"icon linked chrome",title:"Google Chrome",href:"http://www.google.com/chrome/",target:"_blank"})),cm.Node("li",cm.Node("a",{"class":"icon linked firefox",title:"Mozilla Firefox",href:"http://www.mozilla.com/",target:"_blank"})),cm.Node("li",cm.Node("a",{"class":"icon linked safari",title:"Apple Safari",href:"http://www.apple.com/safari/",target:"_blank"})),cm.Node("li",cm.Node("a",{"class":"icon linked msie",title:"Microsoft Internet Explorer",href:"http://ie.microsoft.com/",target:"_blank"}))),cm.Node("div",{"class":"form"},cm.Node("div",{"class":"btn-wrap pull-center"},b.nodes.button=cm.Node("input",{type:"button",value:b.lang("continue")})))),cm.getConstructor("Com.Dialog",function(a){b.compoennts.dialog=new a({title:b.lang("title"),content:b.nodes.container,autoOpen:!1,width:500,events:{onClose:function(){b.params.remember&&b.storageWrite("isShow",!0)}}}),cm.addEvent(b.nodes.button,"click",b.compoennts.dialog.close),b.compoennts.dialog.open()})};d()}),cm.define("Com.Overlay",{modules:["Params","Events","Langs","Stack"],events:["onRender","onOpenStart","onOpen","onCloseStart","onClose"],params:{name:"",container:"document.body",theme:"default",position:"fixed",showSpinner:!0,showContent:!0,autoOpen:!0,removeOnClose:!0,duration:500}},function(a){var b=this,c=["transparent","default","light","dark"];b.nodes={},b.isOpen=!1,b.isShowSpinner=!1,b.isShowContent=!1;var d=function(){e(),b.setParams(a),b.convertEvents(b.params.events),f(),g(),b.addToStack(b.nodes.container),b.triggerEvent("onRender"),b.params.autoOpen&&b.open()},e=function(){b.params.duration=cm.getTransitionDurationFromRule(".pt__overlay-helper__duration")},f=function(){b.params.position=cm.inArray(["static","relative","absolute","fixed"],b.params.position)?b.params.position:"fixed"},g=function(){b.nodes.container=cm.Node("div",{"class":"com__overlay pt__overlay"},b.nodes.spinner=cm.Node("div",{"class":"overlay__spinner"}),b.nodes.content=cm.Node("div",{"class":"overlay__content"})),b.nodes.container.style.position=b.params.position,b.params.showSpinner&&b.showSpinner(),b.params.showContent&&b.showContent(),b.setTheme(b.params.theme)};b.open=function(){return b.isOpen||(b.isOpen=!0,cm.inDOM(b.nodes.container)||b.params.container.appendChild(b.nodes.container),b.triggerEvent("onOpenStart"),cm.addClass(b.nodes.container,"is-open",!0),setTimeout(function(){b.triggerEvent("onOpen")},b.params.duration)),b},b.close=function(){return b.isOpen&&(b.isOpen=!1,b.triggerEvent("onCloseStart"),cm.removeClass(b.nodes.container,"is-open"),setTimeout(function(){b.params.removeOnClose&&cm.remove(b.nodes.container),b.triggerEvent("onClose")},b.params.duration)),b},b.toggle=function(){b.isOpen?b.hide():b.show()},b.remove=function(){return b.isOpen?(b.close(),b.params.removeOnClose||setTimeout(function(){cm.remove(b.nodes.container)},b.params.duration)):cm.remove(b.nodes.container),b},b.setTheme=function(a){return cm.inArray(c,a)&&(cm.addClass(b.nodes.container,["theme",a].join("-")),cm.forEach(c,function(c){c!=a&&cm.removeClass(b.nodes.container,["theme",c].join("-"))})),b},b.showSpinner=function(){return b.isShowSpinner=!0,cm.addClass(b.nodes.spinner,"is-show"),b},b.hideSpinner=function(){return b.isShowSpinner=!1,cm.removeClass(b.nodes.spinner,"is-show"),b},b.setContent=function(a){return cm.isNode(a)&&b.nodes.content.appendChild(a),b},b.showContent=function(){return b.isShowContent=!0,cm.addClass(b.nodes.content,"is-show"),b},b.hideContent=function(){return b.isShowContent=!1,cm.removeClass(b.nodes.content,"is-show"),b},b.embed=function(a){return cm.isNode(a)&&(b.params.container=a,a.appendChild(b.nodes.container)),b},b.getNodes=function(a){return b.nodes[a]||b.nodes},d()}),cm.define("Com.Pagination",{modules:["Params","Events","Langs","DataConfig","DataNodes","Callbacks","Stack"],events:["onRender","onStart","onAbort","onError","onPageRender","onPageRenderEnd","onPageSwitched","onEnd"],params:{node:cm.Node("div"),name:"",renderStructure:!1,container:!1,scrollNode:window,data:[],count:0,perPage:0,startPage:1,startPageToken:"",pageCount:0,showLoader:!0,loaderDelay:300,barPosition:"bottom",barAlign:"left",barCountLR:3,barCountM:1,switchManually:!1,animateSwitch:!1,animateDuration:300,animatePrevious:!1,pageTag:"div",pageAttributes:{"class":"com__pagination__page"},responseCountKey:"count",responseKey:"data",responseHTML:!1,ajax:{type:"json",method:"get",url:"",params:""},"Com.Overlay":{position:"absolute",autoOpen:!1,removeOnClose:!0},langs:{prev:"Previous",next:"Next"}}},function(a){var b=this;b.nodes={container:cm.Node("div"),content:cm.Node("div"),pages:cm.Node("div"),bar:[]},b.components={},b.animations={},b.pages={},b.ajaxHandler=null,b.loaderDelay=null,b.isAjax=!1,b.isProcess=!1,b.isRendering=!1,b.page=null,b.pageToken=null,b.currentPage=null,b.previousPage=null,b.pageCount=0;var c=function(){d(),b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),b.callbacksProcess(),e(),f(),b.addToStack(b.nodes.container),b.triggerEvent("onRender"),g(b.params.startPage)},d=function(){b.params.animateDuration=cm.getTransitionDurationFromRule(".com__pagination-helper__duration")},e=function(){cm.isEmpty(b.params.ajax.url)?(cm.isEmpty(b.params.data)||(b.params.count=b.params.data.length),b.params.showLoader=!1):b.isAjax=!0,0==b.params.pageCount?b.pageCount=Math.ceil(b.params.count/b.params.perPage):b.pageCount=b.params.pageCount,b.setToken(b.params.startPage,b.params.startPageToken),b.params["Com.Overlay"].container=b.nodes.content},f=function(){b.params.renderStructure&&(b.nodes.container=cm.Node("div",{"class":"com__pagination"},b.nodes.content=cm.Node("div",{"class":"com__pagination__content"},b.nodes.pages=cm.Node("div",{"class":"com__pagination__pages"}))),/top|both/.test(b.params.barPosition)&&b.nodes.bar.push(b.callbacks.renderBar(b,{align:b.params.barAlign,position:"top"})),/bottom|both/.test(b.params.barPosition)&&b.nodes.bar.push(b.callbacks.renderBar(b,{align:b.params.barAlign,position:"bottom"})),b.params.container&&b.params.container.appendChild(b.nodes.container)),cm.getConstructor("Com.Overlay",function(a){b.components.loader=new a(b.params["Com.Overlay"])}),b.params.animateSwitch&&cm.addClass(b.nodes.container,"is-animated"),b.animations.content=new cm.Animation(b.nodes.content)},g=function(a){var c;b.isProcess&&b.abort(),b.pageCount&&!(a<=b.pageCount)||b.isProcess||b.isRendering||(b.page=a,b.pageToken=b.pages[b.page]?b.pages[b.page].token:"",b.callbacks.rebuildBars(b),b.currentPage&&a==b.currentPage||(b.pages[b.page]&&b.pages[b.page].isRendered?b.callbacks.cached(b,b.pages[b.page].data):b.isAjax?(c=cm.clone(b.params.ajax),b.ajaxHandler=b.callbacks.request(b,c)):b.callbacks.data(b,b.params.data)))};b.callbacks.prepare=function(a,b){return b.url=cm.strReplace(b.url,{"%perPage%":a.params.perPage,"%page%":a.page,"%token%":a.pageToken}),b.params=cm.objectReplace(b.params,{"%perPage%":a.params.perPage,"%page%":a.page,"%token%":a.pageToken}),b},b.callbacks.request=function(a,b){return b=a.callbacks.prepare(a,b),cm.ajax(cm.merge(b,{onStart:function(){a.callbacks.start(a)},onSuccess:function(c){a.callbacks.response(a,b,c)},onError:function(){a.callbacks.error(a,b)},onAbort:function(){a.callbacks.abort(a,b)},onEnd:function(){a.callbacks.end(a)}}))},b.callbacks.filter=function(a,b,c){var d=[],e=cm.objectSelector(a.params.responseKey,c),f=cm.objectSelector(a.params.responseCountKey,c);return e&&!cm.isEmpty(e)&&(d=e),f&&a.setCount(f),d},b.callbacks.response=function(a,b,c){a.setPage(),c&&(c=a.callbacks.filter(a,b,c)),a.callbacks.render(a,c)},b.callbacks.error=function(a,b){a.triggerEvent("onError")},b.callbacks.abort=function(a,b){a.triggerEvent("onAbort")},b.callbacks.data=function(a,b){var c,d,e,f;a.callbacks.start(a),a.setPage(),cm.isEmpty(b)?a.callbacks.render(a,b):0==a.params.perPage?a.callbacks.render(a,b):a.params.perPage>0&&(c=b.length,d=(a.page-1)*a.params.perPage,e=a.page*a.params.perPage,c>d&&(f=b.slice(d,Math.min(e,c)),a.callbacks.render(a,f))),a.callbacks.end(a);
},b.callbacks.cached=function(a,b){a.callbacks.start(a),a.setPage(),a.callbacks.render(a,b),a.callbacks.end(a)},b.callbacks.renderContainer=function(a,b){return cm.Node(a.params.pageTag,a.params.pageAttributes)},b.callbacks.render=function(a,b){a.isRendering=!0;var c={page:a.page,token:a.pageToken,pages:a.nodes.pages,container:cm.Node(a.params.pageTag),data:b,isVisible:!0,isRendered:!0};c.container=a.callbacks.renderContainer(a,c),a.pages[a.page]=c,a.triggerEvent("onPageRender",c),a.callbacks.renderPage(a,c),a.nodes.pages.appendChild(c.container),cm.addClass(c.container,"is-visible",!0),a.triggerEvent("onPageRenderEnd",c),a.params.switchManually||a.callbacks.switchPage(a,c)},b.callbacks.renderPage=function(a,b){var c;if(a.params.responseHTML&&(c=cm.strToHTML(b.data),!cm.isEmpty(c)))if(cm.isNode(c))b.container.appendChild(c);else for(;c.length;)cm.isNode(c[0])?b.container.appendChild(c[0]):cm.remove(c[0])},b.callbacks.switchPage=function(a,b){var c=cm.getRect(a.nodes.content),d=cm.getRect(b.container);a.previousPage&&a.callbacks.hidePage(a,a.pages[a.previousPage]),a.params.animateSwitch?(a.nodes.content.style.overflow="hidden",a.nodes.content.style.height=[c.height,"px"].join(""),a.animations.content.go({style:{height:[d.height,"px"].join("")},duration:a.params.animateDuration,anim:"smooth",onStop:function(){a.nodes.content.style.overflow="visible",a.nodes.content.style.height="auto",a.isRendering=!1,a.triggerEvent("onPageSwitched",b)}})):(a.isRendering=!1,a.triggerEvent("onPageSwitched",b))},b.callbacks.hidePage=function(a,b){b.isVisible=!1,a.params.animateSwitch?a.params.animatePrevious?(cm.removeClass(b.container,"is-visible"),setTimeout(function(){cm.remove(b.container)},a.params.animateDuration)):setTimeout(function(){cm.remove(b.container),cm.removeClass(b.container,"is-visible")},a.params.animateDuration):(cm.remove(b.container),cm.removeClass(b.container,"is-visible"))},b.callbacks.renderBar=function(a,b){b=cm.merge({align:"left",position:"bottom"},b);var c={};switch(c.container=cm.Node("div",{"class":"com__pagination__bar"},c.items=cm.Node("ul")),cm.addClass(c.container,["pull",b.align].join("-")),b.position){case"top":cm.insertFirst(c.container,a.nodes.container);break;case"bottom":cm.insertLast(c.container,a.nodes.container)}return c},b.callbacks.rebuildBars=function(a){cm.forEach(a.nodes.bar,function(b){a.callbacks.rebuildBar(a,b)})},b.callbacks.rebuildBar=function(a,b){cm.clearNode(b.items),a.pageCount<2?cm.addClass(b.container,"is-hidden"):(cm.removeClass(b.container,"is-hidden"),a.callbacks.renderBarItems(a,b))},b.callbacks.renderBarItems=function(a,b){var c=!1;a.callbacks.renderBarArrow(a,b,{text:"<",title:a.lang("prev"),className:"prev",callback:a.prev}),cm.forEach(a.pageCount,function(d){++d,d==a.page?(a.callbacks.renderBarItem(a,b,{page:d,isActive:!0}),c=!0):d<=a.params.barCountLR||a.currentPage&&d>=a.page-a.params.barCountM&&d<=a.page+a.params.barCountM||d>a.pageCount-a.params.barCountLR?(c=!0,a.callbacks.renderBarItem(a,b,{page:d,isActive:!1})):c&&(c=!1,a.callbacks.renderBarPoints(a,b,{}))}),a.callbacks.renderBarArrow(a,b,{text:">",title:a.lang("next"),className:"next",callback:a.next})},b.callbacks.renderBarArrow=function(a,b,c){c=cm.merge({text:"",title:"",className:"",callback:function(){}},c),c.container=cm.Node("li",{"class":c.className},c.link=cm.Node("a",{title:c.title},c.text)),cm.addEvent(c.link,"click",function(a){a=cm.getEvent(a),cm.preventDefault(a),c.callback()}),b.items.appendChild(c.container)},b.callbacks.renderBarPoints=function(a,b,c){c=cm.merge({text:"...",className:"points"},c),c.container=cm.Node("li",{"class":c.className},c.text),b.items.appendChild(c.container)},b.callbacks.renderBarItem=function(a,b,c){c=cm.merge({page:null,isActive:!1},c),c.container=cm.Node("li",c.link=cm.Node("a",c.page)),c.isActive&&cm.addClass(c.container,"active"),cm.addEvent(c.link,"click",function(b){b=cm.getEvent(b),cm.preventDefault(b),a.set(c.page)}),b.items.appendChild(c.container)},b.callbacks.start=function(a){a.isProcess=!0,a.params.showLoader&&(a.loaderDelay=setTimeout(function(){a.components.loader&&!a.components.loader.isOpen&&a.components.loader.open()},a.params.loaderDelay)),a.triggerEvent("onStart")},b.callbacks.end=function(a){a.isProcess=!1,a.params.showLoader&&(a.loaderDelay&&clearTimeout(a.loaderDelay),a.components.loader&&a.components.loader.isOpen&&a.components.loader.close()),a.triggerEvent("onEnd")},b.set=function(a){return g(a),b},b.next=function(){return g(b.pageCount==b.currentPage?1:b.currentPage+1),b},b.prev=function(){return g(b.currentPage-1||b.pageCount),b},b.rebuild=function(a){b.isProcess&&b.abort(),b.currentPage&&cm.remove(b.pages[b.currentPage].container),b.pages={},b.isAjax=!1,b.currentPage=null,b.previousPage=null,b.setParams(a),e(),g(b.params.startPage)},b.setToken=function(a,c){return b.pages[a]||(b.pages[a]={}),b.pages[a].token=c,b},b.setCount=function(a){return a&&(a=parseInt(a.toString()))&&a!=b.params.count&&(b.params.count=a,0==b.params.pageCount?b.pageCount=Math.ceil(b.params.count/b.params.perPage):b.pageCount=b.params.pageCount,b.callbacks.rebuildBars(b)),b},b.setPage=function(){return b.previousPage=b.currentPage,b.currentPage=b.page,b},b.abort=function(){return b.ajaxHandler&&b.ajaxHandler.abort&&b.ajaxHandler.abort(),b},b.isParent=function(a,c){return cm.isParent(b.nodes.container,a,c)},c()}),cm.define("Com.Palette",{modules:["Params","Events","Langs","DataConfig","Storage","Stack"],require:["Com.Draggable","tinycolor"],events:["onRender","onDraw","onSet","onSelect","onChange"],params:{name:"",container:cm.node("div"),value:"transparent",defaultValue:"rgb(255, 255, 255)",setOnInit:!0,langs:{"new":"new",previous:"previous",select:"Select",hue:"Hue",opacity:"Opacity",hex:"HEX"}}},function(a){var b,c,d,e=this;e.nodes={},e.componnets={},e.value=null,e.previousValue=null;var f=function(){e.setParams(a),e.convertEvents(e.params.events),e.getDataConfig(e.params.node),g(),h(),e.addToStack(e.nodes.container),e.triggerEvent("onRender"),e.params.setOnInit&&e.set(e.params.value,!1)},g=function(){e.nodes.container=cm.node("div",{"class":"com__palette"},e.nodes.inner=cm.node("div",{"class":"inner"},cm.node("div",{"class":"b-palette"},e.nodes.paletteZone=cm.node("div",{"class":"inner"},e.nodes.paletteDrag=cm.node("div",{"class":"drag"}),e.nodes.paletteCanvas=cm.node("canvas",{width:"100%",height:"100%"}))),cm.node("div",{"class":"b-range",title:e.lang("hue")},e.nodes.rangeZone=cm.node("div",{"class":"inner"},e.nodes.rangeDrag=cm.node("div",{"class":"drag"}),e.nodes.rangeCanvas=cm.node("canvas",{width:"100%",height:"100%"}))),cm.node("div",{"class":"b-range b-opacity",title:e.lang("opacity")},e.nodes.opacityZone=cm.node("div",{"class":"inner"},e.nodes.opacityDrag=cm.node("div",{"class":"drag"}),e.nodes.opacityCanvas=cm.node("canvas",{width:"100%",height:"100%"}))),cm.node("div",{"class":"b-stuff"},cm.node("div",{"class":"inner"},cm.node("div",{"class":"b-preview-color"},cm.node("div",{"class":"b-title"},e.lang("new")),cm.node("div",{"class":"b-colors"},e.nodes.previewNew=cm.node("div",{"class":"b-color"}),e.nodes.previewPrev=cm.node("div",{"class":"b-color"})),cm.node("div",{"class":"b-title"},e.lang("previous"))),cm.node("div",{"class":"b-bottom"},cm.node("div",{"class":"b-preview-inputs"},e.nodes.inputHEX=cm.node("input",{type:"text",maxlength:7,title:e.lang("hex")})),cm.node("div",{"class":"b-buttons"},e.nodes.buttonSelect=cm.node("div",{"class":"button button-primary is-wide"},e.lang("select")))))))),c=e.nodes.paletteCanvas.getContext("2d"),b=e.nodes.rangeCanvas.getContext("2d"),d=e.nodes.opacityCanvas.getContext("2d"),w(),cm.addEvent(e.nodes.inputHEX,"input",l),cm.addEvent(e.nodes.inputHEX,"keypress",m),cm.addEvent(e.nodes.buttonSelect,"click",n),e.params.container.appendChild(e.nodes.container)},h=function(){e.componnets.paletteDrag=new Com.Draggable({target:e.nodes.paletteZone,node:e.nodes.paletteDrag,limiter:e.nodes.paletteZone,events:{onSet:function(a,b){var c=a.getDimensions();e.value.v=cm.toFixed((100-100/c.limiter.absoluteHeight*b.posY)/100,2),e.value.s=cm.toFixed(100/c.limiter.absoluteWidth*b.posX/100,2),0==e.value.a&&(e.value.a=1,k()),y(),p()}}}),e.componnets.rangeDrag=new Com.Draggable({target:e.nodes.rangeZone,node:e.nodes.rangeDrag,limiter:e.nodes.rangeZone,direction:"vertical",events:{onSet:function(a,b){var c=a.getDimensions();e.value.h=Math.floor(360-3.6*(100/c.limiter.absoluteHeight*b.posY)),0==e.value.a&&(e.value.a=1,k()),x(),y(),p()}}}),e.componnets.opacityDrag=new Com.Draggable({target:e.nodes.opacityZone,node:e.nodes.opacityDrag,limiter:e.nodes.opacityZone,direction:"vertical",events:{onSet:function(a,b){var c=a.getDimensions();e.value.a=cm.toFixed((100-100/c.limiter.absoluteHeight*b.posY)/100,2),p()}}})},i=function(){var a,b=e.componnets.rangeDrag.getDimensions();a=0==e.value.h?0:360==e.value.h?b.limiter.absoluteHeight:b.limiter.absoluteHeight-b.limiter.absoluteHeight/100*(100/360*e.value.h),e.componnets.rangeDrag.setPosition(0,a,!1)},j=function(){var a,b,c=e.componnets.paletteDrag.getDimensions();a=c.limiter.absoluteHeight-c.limiter.absoluteHeight/100*(100*e.value.v),b=c.limiter.absoluteWidth/100*(100*e.value.s),e.componnets.paletteDrag.setPosition(b,a,!1)},k=function(){var a,b=e.componnets.opacityDrag.getDimensions();a=b.limiter.absoluteHeight-b.limiter.absoluteHeight/100*(100*e.value.a),e.componnets.opacityDrag.setPosition(0,a,!1)},l=function(){var a=e.nodes.inputHEX.value;/^#/.test(a)?o(a,!0,{setInput:!1}):e.nodes.inputHEX.value="#"+a},m=function(a){var b;a=cm.getEvent(a),13==a.keyCode&&(b=e.nodes.inputHEX.value,o(b,!0),n())},n=function(){q(),e.triggerEvent("onSelect",e.value),v()},o=function(a,b,c){cm.isEmpty(a)?a=e.params.defaultValue:"transparent"==a&&(a={h:360,s:0,v:1,a:0}),e.value=tinycolor(a).toHsv(),e.redraw(!0,c),b&&e.triggerEvent("onSet",e.value)},p=function(){s(),u(),r(),e.triggerEvent("onSet",e.value)},q=function(){e.value?e.previousValue=cm.clone(e.value):cm.isEmpty(e.params.value)?e.previousValue=tinycolor(e.params.defaultValue).toHsv():e.previousValue=tinycolor(e.params.value).toHsv(),t()},r=function(){var a=tinycolor(cm.clone(e.value));a.isDark()?cm.replaceClass(e.nodes.paletteDrag,"is-light","is-dark"):cm.replaceClass(e.nodes.paletteDrag,"is-dark","is-light")},s=function(){var a=tinycolor(cm.clone(e.value));e.nodes.previewNew.style.backgroundColor=a.toHslString()},t=function(){var a=tinycolor(cm.clone(e.previousValue));e.nodes.previewPrev.style.backgroundColor=a.toHslString()},u=function(){var a=tinycolor(cm.clone(e.value));e.nodes.inputHEX.value=a.toHexString()},v=function(){JSON.stringify(e.value)===JSON.stringify(e.previousValue)&&e.triggerEvent("onChange",e.value)},w=function(){var a=b.createLinearGradient(0,0,0,100);a.addColorStop(0,"rgb(255, 0, 0)"),a.addColorStop(1/6,"rgb(255, 0, 255)"),a.addColorStop(2/6,"rgb(0, 0, 255)"),a.addColorStop(.5,"rgb(0, 255, 255)"),a.addColorStop(4/6,"rgb(0, 255, 0)"),a.addColorStop(5/6,"rgb(255, 255, 0)"),a.addColorStop(1,"rgb(255, 0, 0)"),b.fillStyle=a,b.fillRect(0,0,100,100)},x=function(){var a;c.rect(0,0,100,100),c.fillStyle="hsl("+e.value.h+", 100%, 50%)",c.fill(),a=c.createLinearGradient(0,0,100,0),c.fillStyle=a,a.addColorStop(0,"rgba(255, 255, 255, 1)"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),c.fillRect(0,0,100,100),a=c.createLinearGradient(0,0,0,100),c.fillStyle=a,a.addColorStop(0,"rgba(0, 0, 0, 0)"),a.addColorStop(1,"rgba(0, 0, 0, 1)"),c.fillRect(0,0,100,100)},y=function(){d.clearRect(0,0,100,100);var a=d.createLinearGradient(0,0,0,100),b=cm.clone(e.value),c=cm.clone(e.value);b.a=1,c.a=0,d.fillStyle=a,a.addColorStop(0,tinycolor(b).toRgbString()),a.addColorStop(1,tinycolor(c).toRgbString()),d.fillRect(0,0,100,100)};e.set=function(a,b,c){return b="undefined"==typeof b?!0:b,c="undefined"==typeof c?{}:c,o(a,b,c),q(),e},e.get=function(a){var b=tinycolor(cm.clone(e.value));switch(a){case"rgb":b=b.toRgbString();break;case"hsl":b=b.toHslString();break;case"hsv":case"hsb":b=b.toHsvString();break;case"hex":default:b=b.toHexString()}return b},e.getRaw=function(a){var b=tinycolor(cm.clone(e.value));switch(a){case"hsl":b=b.toHsl();break;case"hsv":case"hsb":}return b},e.redraw=function(a,b){return a="undefined"==typeof a?!0:a,b="undefined"==typeof b?{}:b,b=cm.merge({setInput:!0},b),k(),i(),j(),s(),r(),x(),y(),b.setInput&&u(),a&&e.triggerEvent("onDraw"),e},e.isLight=function(){var a=tinycolor(cm.clone(e.value));return a.isLight()},e.isDark=function(){var a=tinycolor(cm.clone(e.value));return a.isDark()},f()}),Com.Scroll=function(a){var b,c,d,e,f=this,g=cm.merge({node:cm.Node("div"),step:15,time:50,duration:300,nodes:{},events:{}},a),h={onScroll:[],onScrollStart:[],onScrollEnd:[]},i={left:cm.Node("div"),right:cm.Node("div"),up:cm.Node("div"),down:cm.Node("div"),scroll:cm.Node("div")},j=function(){u(g.events),v(g.node,"ComScroll"),k()},k=function(){b=new cm.Animation(i.scroll),i.scroll.scrollTop=0,i.scroll.scrollLeft=0,cm.addEvent(i.up,"mousedown",l),cm.addEvent(i.up,"mouseup",p),cm.addEvent(i.up,"mouseout",p),cm.addEvent(i.down,"mousedown",m),cm.addEvent(i.down,"mouseup",p),cm.addEvent(i.down,"mouseout",p),cm.addEvent(i.left,"mousedown",n),cm.addEvent(i.left,"mouseup",p),cm.addEvent(i.left,"mouseout",p),cm.addEvent(i.right,"mousedown",o),cm.addEvent(i.right,"mouseup",p),cm.addEvent(i.right,"mouseout",p)},l=function(){p(),c=setInterval(q,g.time),q()},m=function(){p(),c=setInterval(r,g.time),r()},n=function(){p(),c=setInterval(s,g.time),s()},o=function(){p(),c=setInterval(t,g.time),t()},p=function(){c&&clearInterval(c)},q=function(){d=Math.max(i.scroll.scrollTop-g.step,0),b.go({style:{scrollTop:d},duration:g.time,amim:"simple"})},r=function(){d=Math.min(i.scroll.scrollTop+g.step,i.scroll.scrollHeight-i.scroll.offsetHeight),b.go({style:{scrollTop:d},duration:g.time,amim:"simple"})},s=function(){e=Math.max(i.scroll.scrollLeft-g.step,0),b.go({style:{scrollLeft:e},duration:g.time,amim:"simple"})},t=function(){e=Math.min(i.scroll.scrollLeft+g.step,i.scroll.scrollWidth-i.scroll.offsetWidth),b.go({style:{scrollLeft:e},duration:g.time,amim:"simple"})},u=function(a){cm.forEach(a,function(a,b){h[b]&&"function"==typeof a&&h[b].push(a)})},v=function(a,b){if(a){var c={};c=b?cm.getNodes(a)[b]||{}:cm.getNodes(a),i=cm.merge(i,c)}i=cm.merge(i,g.nodes)};f.scrollY=function(a){var c=Math.max(Math.min(a,i.scroll.scrollHeight-i.scroll.offsetHeight),0);return b.go({style:{scrollTop:c},duration:g.duration,amim:"smooth"}),f},f.scrollX=function(a){var c=Math.max(Math.min(a,i.scroll.scrollWidth-i.scroll.offsetWidth),0);return b.go({style:{scrollLeft:c},duration:g.duration,amim:"smooth"}),f},f.addEvent=function(a,b){return h[a]&&"function"==typeof b&&h[a].push(b),f},f.removeEvent=function(a,b){return h[a]&&"function"==typeof b&&(h[a]=h[a].filter(function(a){return a!=b})),f},j()},cm.define("Com.ScrollPagination",{modules:["Params","Events","Langs","DataConfig","DataNodes","Callbacks","Stack"],events:["onRender","onStart","onAbort","onError","onPageRender","onPageRenderEnd","onPageShow","onPageHide","onEnd","onFinalize"],params:{node:cm.Node("div"),name:"",renderStructure:!1,container:!1,scrollNode:window,scrollIndent:"Math.min(%scrollHeight% / 2, 600)",data:[],perPage:0,startPage:1,startPageToken:"",pageCount:0,showButton:!0,showLoader:!0,loaderDelay:100,stopOnESC:!0,pageTag:"div",pageAttributes:{"class":"com__scroll-pagination__page"},responseKey:"data",responseHTML:!1,ajax:{type:"json",method:"get",url:"",params:""},langs:{load_more:"Load More"}}},function(params){var that=this;that.nodes={container:cm.Node("div"),scroll:null,bar:cm.Node("div"),content:cm.Node("div"),pages:cm.Node("div"),button:cm.Node("div"),loader:cm.Node("div")},that.components={},that.pages={},that.ajaxHandler=null,that.loaderDelay=null,that.isAjax=!1,that.isProcess=!1,that.isFinalize=!1,that.isButton=!1,that.page=null,that.pageToken=null,that.currentPage=null,that.previousPage=null,that.nextPage=null;var init=function(){that.setParams(params),that.convertEvents(that.params.events),that.getDataNodes(that.params.node),that.getDataConfig(that.params.node),that.callbacksProcess(),validateParams(),render(),that.addToStack(that.nodes.container),that.triggerEvent("onRender"),set()},validateParams=function(){that.nodes.scroll&&(that.params.scrollNode=that.nodes.scroll),cm.isEmpty(that.params.ajax.url)?that.params.showLoader=!1:that.isAjax=!0,that.setToken(that.params.startPage,that.params.startPageToken),that.nextPage=that.params.startPage},render=function(){that.params.renderStructure&&(that.nodes.container=cm.Node("div",{"class":"com__scroll-pagination"},that.nodes.content=cm.Node("div",{"class":"com__scroll-pagination__content"},that.nodes.pages=cm.Node("div",{"class":"com__scroll-pagination__pages"})),that.nodes.bar=cm.Node("div",{"class":"com__scroll-pagination__bar"},that.nodes.button=cm.Node("div",{"class":"button button-primary"},that.lang("load_more")),that.nodes.loader=cm.Node("div",{"class":"button button-clear has-icon has-icon has-icon-small"},cm.Node("div",{"class":"icon small loader"})))),that.params.container&&that.params.container.appendChild(that.nodes.container)),that.params.showButton?that.callbacks.showButton(that):that.callbacks.hideButton(that),cm.addEvent(that.nodes.button,"click",function(a){a=cm.getEvent(a),cm.preventDefault(a),set()}),cm.addClass(that.nodes.loader,"is-hidden"),that.params.stopOnESC&&cm.addEvent(window,"keydown",ESCHandler),cm.addScrollEvent(that.params.scrollNode,scrollHandler),cm.addEvent(window,"resize",resizeHandler)},set=function(){var a;that.isProcess||that.isFinalize||(that.page=that.nextPage,that.pageToken=that.pages[that.page]?that.pages[that.page].token:"",that.isAjax?(a=cm.clone(that.params.ajax),that.ajaxHandler=that.callbacks.request(that,a)):that.callbacks.data(that,that.params.data))},scrollHandler=function(){var scrollRect=cm.getRect(that.params.scrollNode),pagesRect=cm.getRect(that.nodes.pages),scrollIndent;that.params.showButton&&("once"!=that.params.showButton||that.params.startPage==that.currentPage)||cm.isProcess||that.isFinalize||that.isButton||(scrollIndent=eval(cm.strReplace(that.params.scrollIndent,{"%scrollHeight%":scrollRect.bottom-scrollRect.top})),pagesRect.bottom-scrollRect.bottom<=scrollIndent&&set()),cm.forEach(that.pages,function(a){that.isPageVisible(a,scrollRect)})},ESCHandler=function(a){a=cm.getEvent(a),27==a.keyCode&&(cm.isProcess||cm.isFinalize||that.callbacks.showButton(that))},resizeHandler=function(){cm.forEach(that.pages,function(a){that.isPageVisible(a)})};that.callbacks.prepare=function(a,b){return b.url=cm.strReplace(b.url,{"%perPage%":a.params.perPage,"%page%":a.page,"%token%":a.pageToken}),b.params=cm.objectReplace(b.params,{"%perPage%":a.params.perPage,"%page%":a.page,"%token%":a.pageToken}),b},that.callbacks.request=function(a,b){return b=a.callbacks.prepare(a,b),cm.ajax(cm.merge(b,{onStart:function(){a.callbacks.start(a)},onSuccess:function(c){a.callbacks.response(a,b,c)},onError:function(){a.callbacks.error(a,b)},onAbort:function(){a.callbacks.abort(a,b)},onEnd:function(){a.callbacks.end(a)}}))},that.callbacks.filter=function(a,b,c){var d=[],e=cm.objectSelector(a.params.responseKey,c);return e&&!cm.isEmpty(e)&&(d=e),d},that.callbacks.response=function(a,b,c){a.setPage(),c&&(c=a.callbacks.filter(a,b,c)),cm.isEmpty(c)?a.callbacks.finalize(a):a.callbacks.render(a,c)},that.callbacks.error=function(a,b){a.triggerEvent("onError")},that.callbacks.abort=function(a,b){a.triggerEvent("onAbort")},that.callbacks.data=function(a,b){var c,d,e,f;a.callbacks.start(a),a.setPage(),cm.isEmpty(b)?a.callbacks.render(a,b):0==a.params.perPage?(a.callbacks.render(a,b),a.callbacks.finalize(a)):a.params.perPage>0&&(c=b.length,d=(a.page-1)*a.params.perPage,e=a.page*a.params.perPage,d>=c?a.callbacks.finalize(a):(f=b.slice(d,Math.min(e,c)),a.callbacks.render(a,f)),e>=c&&a.callbacks.finalize(a)),a.callbacks.end(a)},that.callbacks.renderContainer=function(a,b){return cm.Node(a.params.pageTag,a.params.pageAttributes)},that.callbacks.render=function(a,b){var c=cm.getScrollTop(a.params.scrollNode),d={page:a.page,token:a.pageToken,pages:a.nodes.pages,container:cm.Node(a.params.pageTag),data:b,isVisible:!1};d.container=a.callbacks.renderContainer(a,d),a.pages[a.page]=d,a.triggerEvent("onPageRender",d),a.callbacks.renderPage(a,d),a.nodes.pages.appendChild(d.container),cm.setScrollTop(a.params.scrollNode,c),a.triggerEvent("onPageRenderEnd",d),a.isPageVisible(d)},that.callbacks.renderPage=function(a,b){var c;if(a.params.responseHTML&&(c=cm.strToHTML(b.data),!cm.isEmpty(c)))if(cm.isNode(c))b.container.appendChild(c);else for(;c.length;)cm.isNode(c[0])?b.container.appendChild(c[0]):cm.remove(c[0])},that.callbacks.start=function(a){a.isProcess=!0,a.params.showLoader&&(a.isButton?(cm.addClass(a.nodes.button,"is-hidden"),cm.removeClass(a.nodes.loader,"is-hidden")):a.loaderDelay=setTimeout(function(){cm.removeClass(a.nodes.loader,"is-hidden"),cm.removeClass(a.nodes.bar,"is-hidden")},a.params.loaderDelay)),a.triggerEvent("onStart")},that.callbacks.end=function(a){a.isProcess=!1,a.loaderDelay&&clearTimeout(a.loaderDelay),cm.addClass(a.nodes.loader,"is-hidden"),a.params.pageCount>0&&a.params.pageCount==a.currentPage&&a.callbacks.finalize(a),a.isFinalize||a.params.showButton!==!0&&("once"!=a.params.showButton||a.params.startPage!=a.page)?a.callbacks.hideButton(a):a.callbacks.showButton(a),a.triggerEvent("onEnd")},that.callbacks.finalize=function(a){a.isFinalize||(a.isFinalize=!0,a.callbacks.hideButton(a),a.triggerEvent("onFinalize"))},that.callbacks.showButton=function(a){a.isButton=!0,cm.removeClass(a.nodes.button,"is-hidden"),cm.removeClass(a.nodes.bar,"is-hidden")},that.callbacks.hideButton=function(a){a.isButton=!1,cm.addClass(a.nodes.button,"is-hidden"),cm.addClass(a.nodes.bar,"is-hidden")},that.set=function(){return set(),that},that.setToken=function(a,b){return that.pages[a]||(that.pages[a]={}),that.pages[a].token=b,that},that.setPage=function(){return that.previousPage=that.currentPage,that.currentPage=that.nextPage,that.nextPage++,that},that.isPageVisible=function(a,b){if(a.container){b="undefined"==typeof b?cm.getRect(that.params.scrollNode):b;var c=cm.getRect(a.container);return c.top>=b.top&&c.top<=b.bottom||c.top<b.top&&c.bottom>=b.top?a.isVisible||(a.isVisible=!0,cm.removeClass(a.container,"is-hidden"),cm.triggerEvent("onPageShow",a)):a.isVisible&&(a.isVisible=!1,cm.addClass(a.container,"is-hidden"),cm.triggerEvent("onPageHide",a)),a.isVisible}return!1},that.abort=function(){return that.ajaxHandler&&that.ajaxHandler.abort&&that.ajaxHandler.abort(),that},that.isParent=function(a,b){return cm.isParent(that.nodes.container,a,b)},init()}),Com.Elements.Selects={},Com.GetSelect=function(a){return Com.Elements.Selects[a]||null},cm.define("Com.Select",{modules:["Params","Events","DataConfig","Stack"],events:["onRender","onSelect","onChange","onFocus","onBlur"],params:{container:!1,select:cm.Node("select"),name:"",renderInBody:!0,multiple:!1,placeholder:"",showTitleTag:!0,title:!1,options:[],selected:0,disabled:!1,icons:{arrow:"icon default linked"},"Com.Tooltip":{targetEvent:"click",hideOnReClick:!0,className:"com__select__tooltip",width:"targetWidth",top:"cm._config.tooltipTop"}}},function(a){var b,c,d,e=this,f={menu:{}},g={},h={},i=[],j=[];e.disabled=!1;var k=function(){e.setParams(a),e.convertEvents(e.params.events),e.getDataConfig(e.params.select),l(),m(),p(),e.params.multiple?(d=[],e.params.selected&&cm.isArray(e.params.selected)?cm.forEach(e.params.selected,function(a){h[a]&&v(h[a],!0)}):cm.forEach(e.params.select.options,function(a){a.selected&&v(h[a.value])})):e.params.selected&&h[e.params.selected]?v(h[e.params.selected]):h[e.params.select.value]?v(h[e.params.select.value]):b&&v(i[0]),e.triggerEvent("onRender",d)},l=function(){cm.isNode(e.params.select)&&(e.params.placeholder=e.params.select.getAttribute("placeholder")||e.params.placeholder,e.params.multiple=e.params.select.multiple,e.params.title=e.params.select.getAttribute("title")||e.params.title,e.params.name=e.params.select.getAttribute("name")||e.params.name,e.params.disabled=e.params.select.disabled||e.params.disabled),e.disabled=e.params.disabled},m=function(){var a;e.params.multiple?o():n(),e.addToStack(f.container),e.params.select.className&&cm.addClass(f.container,e.params.select.className),e.params.showTitleTag&&e.params.title&&(f.container.title=e.params.title),(a=e.params.select.getAttribute("tabindex"))&&f.container.setAttribute("tabindex",a),e.params.select.id&&(f.container.id=e.params.select.id),cm.forEach(e.params.select.attributes,function(a){/^data-/.test(a.name)&&"data-element"!=a.name&&f.container.setAttribute(a.name,a.value)}),e.params.name&&f.hidden.setAttribute("name",e.params.name),cm.isEmpty(e.params.placeholder)||f.items.appendChild(f.placeholder=cm.Node("li",{"class":"title"},e.params.placeholder)),q(),cm.forEach(e.params.options,function(a){s(a.value,a.text)}),e.params.container?e.params.container.appendChild(f.container):e.params.select.parentNode&&cm.insertBefore(f.container,e.params.select),cm.remove(e.params.select)},n=function(){f.container=cm.Node("div",{"class":"com__select"},f.hidden=cm.Node("select",{"class":"display-none"}),f.target=cm.Node("div",{"class":"form-field has-icon-right"},f.arrow=cm.Node("div",{"class":e.params.icons.arrow}),f.text=cm.Node("input",{type:"text",readOnly:"true"})),f.scroll=cm.Node("div",{"class":"pt__listing-items"},f.items=cm.Node("ul")))},o=function(){f.container=cm.Node("div",{"class":"com__select-multi"},f.hidden=cm.Node("select",{"class":"display-none",multiple:!0}),f.inner=cm.Node("div",{"class":"inner"},f.scroll=cm.Node("div",{"class":"pt__listing-items"},f.items=cm.Node("ul"))))},p=function(){e.params.multiple||(cm.addEvent(f.container,"keydown",function(a){if(a=cm.getEvent(a),b){var c,e=h[d],f=i.indexOf(e);switch(a.keyCode){case 38:c=f-1>=0?i[f-1]:i[b-1];break;case 40:c=b>f+1?i[f+1]:i[0];break;case 13:g.menu.hide()}c&&(v(c,!0),C(c))}}),cm.addEvent(f.container,"focus",function(){cm.addEvent(document.body,"keydown",D)}),cm.addEvent(f.container,"blur",function(){cm.removeEvent(document.body,"keydown",D)}),g.menu=new Com.Tooltip(cm.merge(e.params["Com.Tooltip"],{container:e.params.renderInBody?document.body:f.container,content:f.scroll,target:f.target,events:{onShowStart:A,onHideStart:B}})),f.menu=g.menu.getNodes()),e.disabled?e.disable():e.enable()},q=function(){var a,b,c=e.params.select.childNodes;cm.forEach(c,function(c){cm.isElementNode(c)&&("optgroup"==c.tagName.toLowerCase()?(a=c.querySelectorAll("option"),b=[],cm.forEach(a,function(a){b.push({value:a.value,text:a.innerHTML})}),r(c.getAttribute("label"),b)):"option"==c.tagName.toLowerCase()&&s(c.value,c.innerHTML))})},r=function(a,b){var c={name:a,options:b};c.optgroup=cm.Node("optgroup",{label:a}),c.container=cm.Node("li",{"class":"group"},c.items=cm.Node("ul",{"class":"pt__listing-items"})),cm.isEmpty(a)||cm.insertFirst(cm.Node("div",{"class":"title",innerHTML:a}),c.container),cm.forEach(b,function(a){s(a.value,a.text,c)}),f.items.appendChild(c.container),f.hidden.appendChild(c.optgroup),j.push(c)},s=function(a,c,d){h[a]&&u(h[a]);var j={selected:!1,value:a,text:c,group:d};j.node=cm.Node("li",cm.Node("a",{innerHTML:c})),j.option=cm.Node("option",{value:a,innerHTML:c}),cm.addEvent(j.node,"click",function(){e.disabled||v(j,!0),!e.params.multiple&&g.menu.hide(!1)}),d?(d.items.appendChild(j.node),d.optgroup.appendChild(j.option)):(f.items.appendChild(j.node),f.hidden.appendChild(j.option)),i.push(h[a]=j),b=i.length},t=function(a,b){var c="undefined"!=typeof a.value?a.value:a.text;a.text=b,a.node.innerHTML=b,a.option.innerHTML=b,e.params.multiple||c!==d||(f.text.value=cm.decode(b))},u=function(a){var c="undefined"!=typeof a.value?a.value:a.text;cm.remove(a.node),cm.remove(a.option),i=i.filter(function(b){return a!=b}),b=i.length,delete h[a.value],e.params.multiple?d=d.filter(function(a){return c!=a}):c===d&&(b?v(i[0],!0):(d=null,f.text.value=""))},v=function(a,b){a&&(e.params.multiple?w(a):x(a)),b&&(e.triggerEvent("onSelect",d),z())},w=function(a){var b="undefined"!=typeof a.value?a.value:a.text;a.selected?y(a):(d.push(b),a.option.selected=!0,a.selected=!0,cm.addClass(a.node,"active"))},x=function(a){c=d,d="undefined"!=typeof a.value?a.value:a.text,i.forEach(function(a){cm.removeClass(a.node,"active")}),a.group?f.text.value=[cm.decode(a.group.name),cm.decode(a.text)].join(" > "):f.text.value=cm.decode(a.text),a.option.selected=!0,f.hidden.value=d,cm.addClass(a.node,"active")},y=function(a){var b="undefined"!=typeof a.value?a.value:a.text;d=d.filter(function(a){return b!=a}),a.option.selected=!1,a.selected=!1,cm.removeClass(a.node,"active")},z=function(){(e.params.multiple||d!=c)&&e.triggerEvent("onChange",d)},A=function(){b?(cm.addClass(f.container,"active"),f.text.focus(),d&&h[d]&&C(h[d])):g.menu.hide(),e.triggerEvent("onFocus",d)},B=function(){f.text.blur(),cm.removeClass(f.container,"active"),e.triggerEvent("onBlur",d)},C=function(a){f.menu.content.scrollTop=a.node.offsetTop-f.menu.content.offsetTop},D=function(a){a=cm.getEvent(a),(38==a.keyCode||40==a.keyCode)&&cm.preventDefault(a)};e.get=function(){return d},e.set=function(a,b){return b="undefined"==typeof b?!0:b,"undefined"!=typeof a&&(cm.isArray(a)?(cm.forEach(a,function(a){h[a]&&v(h[a])}),b&&(e.triggerEvent("onSelect",d),e.triggerEvent("onChange",d))):h[a]&&v(h[a],b)),e},e.selectAll=function(){return e.params.multiple&&(cm.forEach(h,y),cm.forEach(h,w),e.triggerEvent("onSelect",d),z()),e},e.deselectAll=function(){return e.params.multiple&&(cm.forEach(h,y),e.triggerEvent("onSelect",d),z()),e},e.addOption=function(a,b){return s(a,b),e},e.addOptions=function(a){return cm.forEach(a,function(a){s(a.value,a.text)}),e},e.editOption=function(a,b){return"undefined"!=typeof a&&h[a]&&t(h[a],b),e},e.removeOption=function(a){return"undefined"!=typeof a&&h[a]&&u(h[a]),e},e.removeOptionsAll=function(){return cm.forEach(h,function(a){u(a)}),e},e.getOption=function(a){return"undefined"!=typeof a&&h[a]?h[a]:null},e.getOptions=function(a){var b=[];return cm.forEach(a,function(a){h[a]&&b.push(h[a])}),b},e.getOptionsAll=e.getAllOptions=function(){var a=[];return cm.forEach(i,function(b){a.push({text:b.text,value:b.value})}),a},e.disable=function(){return e.disabled=!0,cm.addClass(f.container,"disabled"),cm.addClass(f.scroll,"disabled"),e.params.multiple||(f.text.disabled=!0,g.menu.disable()),e},e.enable=function(){return e.disabled=!1,cm.removeClass(f.container,"disabled"),cm.removeClass(f.scroll,"disabled"),e.params.multiple||(f.text.disabled=!1,g.menu.enable()),e},e.getNodes=function(a){return f[a]||f},k()}),cm.define("Com.Slider",{modules:["Params","Events","DataConfig","DataNodes","Stack"],events:["onRender","onChangeStart","onChange","onPause","onStart"],params:{node:cm.Node("div"),name:"",time:500,delay:4e3,slideshow:!0,direction:"forward",pauseOnHover:!0,fadePrevious:!1,buttons:!0,numericButtons:!1,arrows:!0,effect:"fade",transition:"smooth",height:"auto",minHeight:48,hasBar:!1,barDirection:"horizontal",editMode:!1,"Com.Scroll":{step:25,time:25}}},function(a){var b,c,d=this,e={};d.nodes={container:cm.Node("div"),inner:cm.Node("div"),slides:cm.Node("div"),slidesInner:cm.Node("ul"),next:cm.Node("div"),prev:cm.Node("div"),buttons:cm.Node("ul"),items:[],"layout-inner":cm.Node("div"),"bar-inner":cm.Node("div"),"bar-items":[]},d.anim={},d.items=[],d.itemsLength=0,d.effect=null,d.direction="next",d.current=null,d.previous=null,d.paused=!1,d.pausedOutside=!1,d.isProcess=!1;var f=function(){g(),d.setParams(a),d.convertEvents(d.params.events),d.getDataNodes(d.params.node),d.getDataConfig(d.params.node),h(),i(),j(),d.setEffect(d.params.effect),d.params.editMode&&d.enableEditMode(),d.addToStack(d.params.node),d.triggerEvent("onRender")},g=function(){d.params.time=cm.getTransitionDurationFromRule(".com__slider-helper__duration")},h=function(){cm.isNode(d.params.node)&&(d.params.name=d.params.node.getAttribute("name")||d.params.name),d.params.direction={forward:1,backward:1,random:1}[d.params.direction]?d.params.direction:"forward",d.params.effect=Com.SliderEffects[d.params.effect]?d.params.effect:"fade",
d.params.transition={smooth:1,simple:1,acceleration:1,inhibition:1}[d.params.transition]?d.params.transition:"smooth",d.params.height={auto:1,max:1,slide:1}[d.params.height]?d.params.height:"auto",d.params.minHeight&&isNaN(d.params.minHeight)&&(c=x(d.params.minHeight),d.params.minHeight=parseFloat(d.params.minHeight))},i=function(){var a=cm.getSupportedStyle("transition");cm.forEach(d.nodes.items,n),d.params.arrows&&(cm.addEvent(d.nodes.next,"click",d.next),cm.addEvent(d.nodes.prev,"click",d.prev)),(!d.params.arrows||d.itemsLength<2)&&(d.nodes.next.style.display="none",d.nodes.prev.style.display="none"),d.params.buttons&&cm.forEach(d.items,q),(!d.params.buttons||d.itemsLength<2)&&(d.nodes.buttons.style.display="none"),d.nodes.inner.style[a]=[d.params.time,"ms"].join(""),/max|slide/.test(d.params.height)&&cm.addClass(d.nodes.container,"is-adaptive-content"),d.params.slideshow&&d.params.pauseOnHover&&(cm.addEvent(d.nodes.container,"mouseover",function(a){a=cm.getEvent(a);var b=cm.getObjToEvent(a);cm.isParent(d.nodes.container,b,!0)||u()}),cm.addEvent(d.nodes.container,"mouseout",function(a){a=cm.getEvent(a);var b=cm.getObjToEvent(a);cm.isParent(d.nodes.container,b,!0)||t()})),d.anim.slides=new cm.Animation(d.nodes.slides),d.anim.slidesInner=new cm.Animation(d.nodes.slidesInner),cm.addEvent(window,"resize",function(){d.redraw()}),cm.customEvent.add(d.params.node,"redraw",function(){d.redraw()})},j=function(){d.params.hasBar&&(d.nodes.ComScroll=cm.getNodes(d.params.node).ComScroll,e.scroll=new Com.Scroll(cm.merge(d.params["Com.Scroll"],{nodes:d.nodes.ComScroll})))},k=function(){switch(d.params.height){case"max":l();break;case"slide":m()}},l=function(){var a=0;cm.forEach(d.items,function(b){a=Math.max(a,cm.getRealHeight(b.nodes.container,"offsetRelative")),b.nodes.inner&&(a=Math.max(a,cm.getRealHeight(b.nodes.inner,"offsetRelative")))}),a="%"==c?Math.max(a,d.nodes.inner.offsetWidth/100*d.params.minHeight):Math.max(a,d.params.minHeight),a!=d.nodes.inner.offsetHeight&&(d.nodes.inner.style.height=[a,"px"].join(""))},m=function(){var a,b=0;null!==d.current&&(a=d.items[d.current],b=Math.max(b,cm.getRealHeight(a.nodes.container,"offsetRelative")),a.nodes.inner&&(b=Math.max(b,cm.getRealHeight(a.nodes.inner,"offsetRelative")))),b="%"==c?Math.max(b,d.nodes.inner.offsetWidth/100*d.params.minHeight):Math.max(b,d.params.minHeight),b!=d.nodes.inner.offsetHeight&&(d.nodes.inner.style.height=[b,"px"].join(""))},n=function(a,b){a={index:b,nodes:a},d.params.hasBar&&(a.bar=d.nodes["bar-items"][b],a.bar.title=a.bar.link?a.bar.link.getAttribute("title")||"":"",a.bar.src=a.bar.link?a.bar.link.getAttribute("href")||"":""),o(a)},o=function(a){a=cm.merge({index:d.items.length,nodes:{container:cm.Node("li"),inner:null}},a),d.params.hasBar&&cm.addEvent(a.bar.link,"click",function(b){b=cm.getEvent(b),cm.preventDefault(b),r(a.index)}),a.anim=new cm.Animation(a.nodes.container),d.items.push(a),d.itemsLength=d.items.length},p=function(){d.nodes.slidesInner.scrollLeft=0,cm.forEach(d.items,function(a){a.nodes.container.style.display="",a.nodes.container.style.opacity="",a.nodes.container.style.left="",a.nodes.container.style.zIndex=""})},q=function(a){d.nodes.buttons.appendChild(a.nodes.button=cm.Node("li")),d.params.numericButtons&&(a.nodes.button.innerHTML=a.index+1),cm.addEvent(a.nodes.button,"click",function(){d.direction="next",r(a.index)})},r=function(a){if(!d.isProcess){d.isProcess=!0,d.params.slideshow&&v();var b=d.items[a],c=d.items[d.current];d.previous=d.current,d.current=a,d.triggerEvent("onChangeStart",{current:b,previous:c}),c&&d.params.buttons&&cm.removeClass(c.nodes.button,"active"),d.params.buttons&&cm.addClass(b.nodes.button,"active"),d.params.hasBar&&s(b,c),Com.SliderEffects[d.effect](d,b,c,function(){d.isProcess=!1,d.triggerEvent("onChange",{current:b,previous:c}),cm.customEvent.trigger(b.nodes.container,"redraw",{type:"child",self:!1})}),k()}},s=function(a,b){var c,f;b&&cm.removeClass(b.bar.container,"active"),cm.addClass(a.bar.container,"active"),"vertical"==d.params.barDirection?(f=a.bar.container.offsetTop-d.nodes["layout-inner"].offsetHeight/2+a.bar.container.offsetHeight/2,e.scroll.scrollY(f)):(c=a.bar.container.offsetLeft-d.nodes["layout-inner"].offsetWidth/2+a.bar.container.offsetWidth/2,e.scroll.scrollX(c))},t=function(){d.paused&&!d.pausedOutside&&(d.paused=!1,b=setTimeout(function(){switch(d.params.direction){case"random":r(cm.rand(0,d.items.length-1));break;case"backward":d.prev();break;case"forward":d.next()}},d.params.delay),d.triggerEvent("onStart"))},u=function(){d.paused||(d.paused=!0,b&&clearTimeout(b),d.triggerEvent("onPause"))},v=function(){d.paused||d.pausedOutside||(u(),t())},w=function(){k()},x=function(a){var b=a.match(/\d+(\D*)/);return b?b[1]:""};d.redraw=function(){return w(),d},d.set=function(a){return d.items[a]&&r(a),d},d.get=function(a){return d.items[a]?d.items[a]:null},d.next=function(){d.direction="next";var a=d.current+1==d.items.length?0:d.current+1;return r(a),d},d.prev=function(){d.direction="prev";var a=0==d.current?d.items.length-1:d.current-1;return r(a),d},d.pause=function(){return d.pausedOutside=!0,u(),d},d.start=function(){return d.pausedOutside=!1,t(),d},d.enableEditMode=function(){d.pause(),cm.addClass(d.nodes.container,"is-edit-mode"),d.setEffect("edit")},d.disableEditMode=function(){d.start(),cm.removeClass(d.nodes.container,"is-edit-mode"),d.restoreEffect()},d.setEffect=function(a){return cm.removeClass(d.nodes.slides,["effect",d.effect].join("-")),p(),d.effect=Com.SliderEffects[a]?a:"fade",cm.addClass(d.nodes.slides,["effect",d.effect].join("-")),d.items[0]&&r(0),k(),d},d.restoreEffect=function(){return d.setEffect(d.params.effect),d},f()}),Com.SliderEffects={},Com.SliderEffects.none=function(a,b,c,d){a.itemsLength>1&&c&&b!=c&&(c.nodes.container.style.display="none",c.nodes.container.style.zIndex=1,b.nodes.container.style.zIndex=2,b.nodes.container.style.display="block"),d()},Com.SliderEffects.edit=function(a,b,c,d){a.itemsLength>1&&c&&b!=c&&(c.nodes.container.style.display="none",c.nodes.container.style.zIndex=1,b.nodes.container.style.zIndex=2,b.nodes.container.style.opacity=1,b.nodes.container.style.display="block",b.nodes.container.style.left=0),d()},Com.SliderEffects.fade=function(a,b,c,d){var e=function(a){a.nodes.container.style.display="none",cm.setOpacity(a.nodes.container,0)};a.itemsLength>1&&c&&b!=c?(c.nodes.container.style.zIndex=1,a.params.fadePrevious?c.anim.go({style:{opacity:0},duration:a.params.time,anim:a.params.transition,onStop:function(){e(c)}}):setTimeout(function(){e(c)},a.params.time),b.nodes.container.style.zIndex=2,b.nodes.container.style.display="block",b.anim.go({style:{opacity:1},duration:a.params.time,anim:a.params.transition,onStop:d})):d()},Com.SliderEffects["fade-out"]=function(a,b,c,d){var e=function(a){a.nodes.container.style.display="none",cm.setOpacity(a.nodes.container,0)};a.itemsLength>1&&c&&b!=c?(c.nodes.container.style.zIndex=1,c.anim.go({style:{opacity:0},duration:a.params.time,anim:a.params.transition,onStop:function(){e(c)}}),b.nodes.container.style.zIndex=2,b.nodes.container.style.display="block",b.anim.go({style:{opacity:1},duration:a.params.time,anim:a.params.transition,onStop:d})):d()},Com.SliderEffects.push=function(a,b,c,d){var e=b.nodes.container.offsetLeft;a.anim.slidesInner.go({style:{scrollLeft:e},duration:a.params.time,anim:a.params.transition,onStop:d})},Com.SliderEffects.pull=function(a,b,c,d){if(a.itemsLength>1&&c&&b!=c){var e="next"==a.direction?"-100%":"100%";c.nodes.container.style.zIndex=1,c.anim.go({style:{left:e},duration:a.params.time,anim:a.params.transition,onStop:function(){c.nodes.container.style.display="none",c.nodes.container.style.left="100%"}}),b.nodes.container.style.zIndex=2,b.nodes.container.style.display="block","next"==a.direction?b.nodes.container.style.left="100%":"prev"==a.direction&&(b.nodes.container.style.left="-100%"),b.anim.go({style:{left:"0%"},duration:a.params.time,anim:a.params.transition,onStop:d})}else d()},Com.SliderEffects["pull-overlap"]=function(a,b,c,d){a.itemsLength>1&&c&&b!=c?(c.nodes.container.style.zIndex=1,setTimeout(function(){c.nodes.container.style.display="none",c.nodes.container.style.left="100%"},a.params.time),b.nodes.container.style.zIndex=2,b.nodes.container.style.display="block","next"==a.direction?b.nodes.container.style.left="100%":"prev"==a.direction&&(b.nodes.container.style.left="-100%"),b.anim.go({style:{left:"0%"},duration:a.params.time,anim:a.params.transition,onStop:d})):d()},Com.SliderEffects["pull-parallax"]=function(a,b,c,d){if(a.itemsLength>1&&c&&b!=c){var e="next"==a.direction?"-50%":"50%";c.nodes.container.style.zIndex=1,c.anim.go({style:{left:e},duration:a.params.time,anim:a.params.transition,onStop:function(){c.nodes.container.style.display="none",c.nodes.container.style.left="100%"}}),b.nodes.container.style.zIndex=2,b.nodes.container.style.display="block","next"==a.direction?b.nodes.container.style.left="100%":"prev"==a.direction&&(b.nodes.container.style.left="-100%"),b.anim.go({style:{left:"0%"},duration:a.params.time,anim:a.params.transition,onStop:d})}else d()},cm.define("Com.Sortable",{modules:["Params","Events","DataConfig","DataNodes"],events:["onRender","onRemove","onSort"],params:{node:cm.Node("div"),process:!0,"Com.Draganddrop":{draggableContainer:"selfParent",direction:"vertical",limit:!0,scroll:!1,animateRemove:!1,removeNode:!1}}},function(a){var b=this;b.components={},b.nodes={groups:[]};var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d()},d=function(){b.components.dd=new Com.Draganddrop(cm.merge(b.params["Com.Draganddrop"],{draggableContainer:b.params.draggableContainer,direction:b.params.direction,limit:b.params.limit})).addEvent("onRemove",e).addEvent("onDrop",f),b.params.process&&cm.forEach(b.nodes.groups,g),b.triggerEvent("onRender")},e=function(a,c){b.triggerEvent("onRemove",c)},f=function(a,c){b.triggerEvent("onSort",c)},g=function(a){a.container&&(b.addGroup(a.container),a.items&&cm.forEach(a.items,function(b){h(b,a)}))},h=function(a,c){b.addItem(a.container,c.container),a.groups&&cm.forEach(a.groups,g)};b.addGroup=function(a){return b.components.dd.registerArea(a),b},b.removeGroup=function(a){return b.components.dd.removeArea(a),b},b.addItem=function(a,c){var d=cm.getNodes(a);return d.items[0].drag&&d.items[0].drag.setAttribute("data-com-draganddrop","drag"),b.components.dd.registerDraggable(a,c),b},b.removeItem=function(a){return b.components.dd.removeDraggable(a),b},c()}),cm.define("Com.Spacer",{modules:["Params","Events","DataConfig","Stack"],required:["Com.Draggable"],events:["onRender","onChange","onResize"],params:{node:cm.Node("div"),name:"","Com.Draggable":{direction:"vertical",minY:24}}},function(a){var b=this;b.components={},b.nodes={},b.value=0;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataConfig(b.params.node),d(),e(),f(),j(b.params.node.style.height,!1),b.addToStack(b.params.node),b.triggerEvent("onRender")},d=function(){cm.isNode(b.params.node)&&(b.params.name=b.params.node.getAttribute("name")||b.params.name)},e=function(){b.nodes.dragContainer=cm.Node("div",{"class":"com__spacer__chassis"},b.nodes.drag=cm.Node("div",{"class":"pt__drag is-vertical"},cm.Node("div",{"class":"line"}),cm.Node("div",{"class":"drag"},cm.Node("div",{"class":"icon draggable"})))),b.nodes.rulerContainer=cm.Node("div",{"class":"com__spacer__ruler"},b.nodes.ruler=cm.Node("div",{"class":"pt__ruler is-vertical is-small"},cm.Node("div",{"class":"line line-top"}),b.nodes.rulerCounter=cm.Node("div",{"class":"counter"}),cm.Node("div",{"class":"line line-bottom"}))),b.params.node.appendChild(b.nodes.dragContainer),b.params.node.appendChild(b.nodes.rulerContainer),cm.addEvent(window,"resize",function(){b.redraw()}),cm.customEvent.add(b.params.node,"redraw",function(){b.redraw()})},f=function(){b.components.draggable=new Com.Draggable(cm.merge(b.params["Com.Draggable"],{node:b.nodes.dragContainer,events:{onStart:g,onSet:function(a,c){b.value=c.posY,h()},onStop:i}}))},g=function(){cm.addClass(document.body,"pt__drag__body--vertical"),cm.addClass(b.params.node,"is-active"),cm.addClass(b.nodes.drag,"is-active"),cm.addClass(b.nodes.ruler,"is-active")},h=function(){b.params.node.style.height=[b.value,"px"].join(""),k(),b.triggerEvent("onChange",{height:b.value})},i=function(){cm.removeClass(document.body,"pt__drag__body--vertical"),cm.removeClass(b.params.node,"is-active"),cm.removeClass(b.nodes.drag,"is-active"),cm.removeClass(b.nodes.ruler,"is-active"),b.triggerEvent("onResize",{height:b.value})},j=function(a,c){b.value=a,l(a),k(),c&&(b.triggerEvent("onChange",{height:b.value}),b.triggerEvent("onResize",{height:b.value}))},k=function(){b.nodes.rulerCounter.innerHTML=[b.value," px"].join("")},l=function(a){b.params.node.style.height=[a,"px"].join(""),b.nodes.dragContainer.style.top=[b.params.node.offsetHeight,"px"].join("")};b.redraw=function(){return l(b.value),b},b.set=function(a,c){return c="undefined"!=typeof c?c:!0,isNaN(a)||j(a,c),b},b.get=function(){return b.value},c()}),Com.Elements.Tabset={},Com.GetTabset=function(a){return Com.Elements.Tabset[a]||null},cm.define("Com.Tabset",{modules:["Params","Events","DataConfig","DataNodes","Stack","Structure"],events:["onRender","onTabShowStart","onTabShow","onTabHideStart","onTabHide"],params:{node:cm.Node("div"),container:!1,name:"",toggleOnHashChange:!0,renderOnInit:!0,active:null,className:"",tabsPosition:"top",tabsFlexible:!1,tabsWidth:256,showTabs:!0,showTabsTitle:!0,switchManually:!1,animateSwitch:!0,animateDuration:300,calculateMaxHeight:!1,tabs:[],icons:{menu:"icon default linked"}}},function(a){var b,c,d=this;d.nodes={tabs:[]},d.anim={},d.tabs={},d.tabsListing=[],d.active=!1,d.previous=!1,d.isProcess=!1;var e=function(){f(),d.setParams(a),d.convertEvents(d.params.events),d.getDataNodes(d.params.node,d.params.nodesDataMarker,!1),d.getDataConfig(d.params.node),g(),i(),d.params.renderOnInit&&h()},f=function(){var a;d.params.animateDuration=cm.getTransitionDurationFromRule(".com__tabset-helper__duration"),(a=cm.getCSSRule(".com__tabset-helper__column-width")[0])&&(d.params.tabsWidth=cm.styleToNumber(a.style.width))},g=function(){cm.inArray(["top","right","bottom","left"],d.params.tabsPosition)||(d.params.tabsPosition="top"),"number"==typeof d.params.tabsWidth&&(d.params.tabsWidth=[d.params.tabsWidth,"px"].join(""))},h=function(){var a=d.params.active;d.params.toggleOnHashChange?(p(),a&&d.tabs[a]?m(a):q()):(a=r(a))&&m(a)},i=function(){d.nodes.container=cm.Node("div",{"class":"com__tabset"},d.nodes.content=cm.Node("div",{"class":"com__tabset__content"},d.nodes.contentUL=cm.Node("ul"))),d.nodes.headerTitle=cm.Node("div",{"class":"com__tabset__head-title"},d.nodes.headerTitleText=cm.Node("div",{"class":"com__tabset__head-text"}),cm.Node("div",{"class":"com__tabset__head-menu pt__menu"},cm.Node("div",{"class":d.params.icons.menu}),d.nodes.headerMenuUL=cm.Node("ul",{"class":"pt__menu-dropdown"}))),d.nodes.headerTabs=cm.Node("div",{"class":"com__tabset__head-tabs"},d.nodes.headerUL=cm.Node("ul")),d.params.animateSwitch&&cm.addClass(d.nodes.content,"is-animated"),/left|right/.test(d.params.tabsPosition)&&(d.nodes.headerTabs.style.width=d.params.tabsWidth,d.nodes.content.style.width=["calc(100% - ",d.params.tabsWidth,")"].join("")),d.params.showTabs&&(cm.insertBefore(d.nodes.headerTitle,d.nodes.content),/bottom|right/.test(d.params.tabsPosition)?cm.insertAfter(d.nodes.headerTabs,d.nodes.content):cm.insertBefore(d.nodes.headerTabs,d.nodes.content)),d.anim.contentUL=new cm.Animation(d.nodes.contentUL),cm.forEach(d.nodes.tabs,function(a){j(cm.merge({content:a.container},d.getNodeDataConfig(a.container)))}),cm.forEach(d.params.tabs,function(a){j(a)}),cm.addClass(d.nodes.container,["is-tabs",d.params.tabsPosition].join("-")),d.params.tabsFlexible&&cm.addClass(d.nodes.container,"is-tabs-flexible"),cm.isEmpty(d.params.className)||cm.addClass(d.nodes.container,d.params.className),d.params.node.id&&(d.nodes.container.id=d.params.node.id),d.appendStructure(d.nodes.container),cm.remove(d.params.node),Part.Menu&&Part.Menu(),cm.addEvent(window,"resize",t),d.addToStack(d.nodes.container),d.triggerEvent("onRender")},j=function(a){d.tabs[a.id]&&l(d.tabs[a.id]),a=cm.merge({id:"",title:"",content:cm.Node("li"),isHide:!0,onShowStart:function(a,b){},onShow:function(a,b){},onHideStart:function(a,b){},onHide:function(a,b){}},a),a.tab=k(a),a.menu=k(a),cm.removeClass(a.content,"active"),d.nodes.headerUL.appendChild(a.tab.container),d.nodes.headerMenuUL.appendChild(a.menu.container),d.nodes.contentUL.appendChild(a.content),d.tabsListing.push(a),d.tabs[a.id]=a},k=function(a){var b={};return b.container=cm.Node("li",b.a=cm.Node("a",a.title)),d.params.showTabsTitle&&b.a.setAttribute("title",a.title),d.params.toggleOnHashChange?cm.addEvent(b.a,"click",function(b){b=cm.getEvent(b),cm.preventDefault(b),d.active!=a.id&&(window.location.href=[window.location.href.split("#")[0],a.id].join("#"))}):cm.addEvent(b.a,"click",function(b){b=cm.getEvent(b),cm.preventDefault(b),m(a.id)}),b},l=function(a){a.id===d.active&&d.tabsListing[0]&&m(d.tabsListing[0]),cm.remove(a.tab.container),cm.remove(a.menu.container),cm.remove(a.content),d.tabsListing=d.tabsListing.filter(function(b){return a.id!=b.id}),delete d.tabs[a.id]},m=function(a){d.isProcess||a==d.active||(d.isProcess=!0,d.active&&d.tabs[d.active]&&(d.previous=d.active,d.tabs[d.active].isHide=!0,d.tabs[d.active].onHideStart(d,d.tabs[d.active]),d.triggerEvent("onTabHideStart",d.tabs[d.active]),cm.removeClass(d.tabs[d.active].tab.container,"active"),cm.removeClass(d.tabs[d.active].menu.container,"active"),cm.removeClass(d.tabs[d.active].content,"active"),d.tabs[d.active].onHide(d,d.tabs[d.active]),d.triggerEvent("onTabHide",d.tabs[d.active])),d.active=a,d.tabs[d.active].isHide=!1,d.tabs[d.active].onShowStart(d,d.tabs[d.active]),d.triggerEvent("onTabShowStart",d.tabs[d.active]),d.tabs[d.active].content.style.display="block",cm.addClass(d.tabs[d.active].tab.container,"active"),cm.addClass(d.tabs[d.active].menu.container,"active"),cm.addClass(d.tabs[d.active].content,"active",!0),d.nodes.headerTitleText.innerHTML=d.tabs[d.active].title,d.params.switchManually||(d.previous&&d.params.animateSwitch&&!d.params.calculateMaxHeight?o():(d.params.calculateMaxHeight&&s(),d.previous&&(d.tabs[d.previous].content.style.display="none"),n())))},n=function(){d.tabs[d.active].onShow(d,d.tabs[d.active]),d.triggerEvent("onTabShow",d.tabs[d.active]),d.isProcess=!1,cm.customEvent.trigger(d.tabs[d.active].content,"redraw",{type:"child",self:!1})},o=function(){var a=0,b=0;d.previous&&(a=cm.getRealHeight(d.tabs[d.previous].content,"offsetRelative")),d.active&&(b=cm.getRealHeight(d.tabs[d.active].content,"offsetRelative")),d.nodes.contentUL.style.overflow="hidden",d.nodes.contentUL.style.height=[a,"px"].join(""),d.anim.contentUL.go({style:{height:[b,"px"].join("")},duration:d.params.animateDuration,anim:"smooth",onStop:function(){d.previous&&(d.tabs[d.previous].content.style.display="none"),d.nodes.contentUL.style.overflow="visible",d.nodes.contentUL.style.height="auto",n()}})},p=function(){var a;"onhashchange"in window&&!cm.is("IE7")?cm.addEvent(window,"hashchange",q):(a=window.location.hash,b=setInterval(function(){a!=window.location.hash&&(a=window.location.hash,q())},25))},q=function(){var a=window.location.hash.replace("#","");(a=r(a))&&m(a)},r=function(a){return cm.isEmpty(d.tabsListing)||cm.isEmpty(d.tabs)?null:a&&d.tabs[a]?a:d.tabsListing[0].id},s=function(){var a=0;cm.forEach(d.tabs,function(b){a=Math.max(a,cm.getRealHeight(b.content,"offsetRelative"))}),a!=d.nodes.contentUL.offsetHeight&&(d.nodes.contentUL.style.height=[a,"px"].join(""))},t=function(){d.params.calculateMaxHeight&&s()};d.render=function(){return h(),d},d.set=function(a){return a&&d.tabs[a]&&m(a),d},d.get=function(a){return a&&d.tabs[a]?d.tabs[a]:null},d.getTabs=function(){return d.tabs},d.addTab=function(a){return a&&a.id&&j(a),d},d.removeTab=function(a){return a&&d.tabs[a]&&l(d.tabs[a]),d},d.setEvents=function(a){return a&&(d.tabs=cm.merge(d.tabs,a)),d},d.remove=function(){return cm.removeEvent(window,"hashchange",q),cm.removeEvent(window,"resize",t),b&&clearInterval(b),c&&clearInterval(c),cm.remove(d.nodes.container),d},d.getNodes=function(a){return d.nodes[a]||d.nodes},e()}),cm.define("Com.TabsetHelper",{modules:["Params","Events","DataConfig","DataNodes","Stack"],events:["onRender","onTabShowStart","onTabShow","onTabHideStart","onTabHide","onLabelClick"],params:{node:cm.Node("div"),name:"",active:null,setFirstTabImmediately:!0}},function(a){var b=this;b.nodes={container:cm.Node("div"),labels:[],tabs:[]},b.current=!1,b.previous=!1,b.tabs={};var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d(),b.addToStack(b.params.node),b.triggerEvent("onRender"),b.params.active&&b.tabs[b.params.active]&&i(b.params.active,!0)},d=function(){cm.forEach(b.nodes.tabs,function(a){e(a)}),cm.forEach(b.nodes.labels,function(a){f(a)})},e=function(a,c){c=cm.merge(cm.merge({id:""},b.getNodeDataConfig(a.container)),c),c.container=a.container,g(c)},f=function(a,c){c=cm.merge(cm.merge({id:""},b.getNodeDataConfig(a.container)),c),c.container=a.container,h(c)},g=function(a){var c;a=cm.merge({id:"",container:cm.Node("li")},a),cm.isEmpty(a.id)||(c=b.tabs[a.id])||(b.tabs[a.id]={id:a.id,tab:a.container,config:a})},h=function(a){var c;a=cm.merge({id:"",container:cm.Node("li")},a),!cm.isEmpty(a.id)&&(c=b.tabs[a.id])&&(c.label=a.container,c.config=cm.merge(c.config,a),cm.addEvent(c.label,"click",function(){b.triggerEvent("onLabelClick",c),i(c.id)}))},i=function(a,c){b.current!=a&&(j(c),b.current=a,c&&b.triggerEvent("onTabShowStart",b.tabs[b.current]),!b.previous&&b.params.setFirstTabImmediately&&(cm.addClass(b.tabs[b.current].tab,"is-immediately"),cm.addClass(b.tabs[b.current].label,"is-immediately"),setTimeout(function(){cm.removeClass(b.tabs[b.current].tab,"is-immediately"),cm.removeClass(b.tabs[b.current].label,"is-immediately")},5)),cm.addClass(b.tabs[b.current].tab,"active"),cm.addClass(b.tabs[b.current].label,"active"),c&&b.triggerEvent("onTabShow",b.tabs[b.current]))},j=function(a){b.current&&b.tabs[b.current]&&(b.previous=b.current,a&&b.triggerEvent("onTabHideStart",b.tabs[b.current]),cm.removeClass(b.tabs[b.current].tab,"active"),cm.removeClass(b.tabs[b.current].label,"active"),a&&b.triggerEvent("onTabHide",b.tabs[b.current]),b.current=null)};b.set=function(a,c){return c="undefined"!=typeof c?c:!0,a&&b.tabs[a]&&i(a,c),b},b.unset=function(a){return a="undefined"!=typeof a?a:!0,j(a),b.previous=null,b},b.get=function(){return b.current},b.addTab=function(a,c,d){return cm.isNode(a)&&e(a,d),cm.isNode(c)&&f(c,d),b},b.addTabs=function(a,c){return a=cm.isArray(a)?a:[],c=cm.isArray(c)?c:[],cm.forEach(a,function(a){e(a)}),cm.forEach(c,function(a){f(a)}),b},b.getTab=function(a){return a&&b.tabs[a]?b.tabs[a]:null},c()}),cm.define("Com.TagsInput",{modules:["Params","Events","Langs","DataConfig","Stack"],require:["Com.Autocomplete"],events:["onRender","onAdd","onRemove","onChange","onOpen","onClose"],params:{container:!1,input:cm.Node("input",{type:"text"}),name:"",data:[],maxSingleTagLength:255,autocomplete:{clearOnEmpty:!1},icons:{add:"icon default linked",remove:"icon default linked"},langs:{tags:"Tags",add:"Add Tag",remove:"Remove Tag"}}},function(a){var b=this,c={},d=[],e={},f=!1;b.components={},b.isAutocomplete=!1;var g=function(){var d;h(),b.setParams(a),b.convertEvents(b.params.events),b.getDataConfig(b.params.input),i(),j(),b.addToStack(c.container),b.triggerEvent("onRender"),d=b.params.data.concat(b.params.input.value.split(",")),cm.forEach(d,function(a){o(a)})},h=function(){b.isAutocomplete=!(!cm.isEmpty(a.autocomplete)&&!b.getNodeDataConfig(b.params.input).autocomplete)},i=function(){c.container=cm.Node("div",{"class":"com__tags-input"},c.hidden=cm.Node("input",{type:"hidden"}),c.inner=cm.Node("div",{"class":"inner"})),k(),b.params.input.getAttribute("name")&&c.hidden.setAttribute("name",b.params.input.getAttribute("name")),b.params.container?b.params.container.appendChild(c.container):b.params.input.parentNode&&cm.insertBefore(c.container,b.params.input),cm.remove(b.params.input)},j=function(){cm.getConstructor("Com.Autocomplete",function(a){b.components.autocomplete=new a(cm.merge(b.params.autocomplete,{events:{onClickSelect:function(){n(!0)}}}))})},k=function(){c.inner.appendChild(c.addButtonContainer=cm.Node("div",{"class":"item"},c.addButton=cm.Node("div",{"class":b.params.icons.add,title:b.lang("add")}))),cm.addEvent(c.addButton,"click",l)},l=function(){var a={};f?n(!0):(f=!0,a.container=cm.Node("div",{"class":"item adder"},a.input=cm.Node("input",{type:"text",maxlength:b.params.maxSingleTagLength,"class":"input"})),cm.insertBefore(a.container,c.addButtonContainer),a.anim=new cm.Animation(a.container),a.anim.go({style:{width:[cm.getRealWidth(a.container),"px"].join(""),opacity:1},duration:200,anim:"smooth",onStop:function(){a.container.style.overflow="visible",a.input.focus(),b.triggerEvent("onOpen")}}),b.isAutocomplete&&(b.components.autocomplete.setTarget(a.input),b.components.autocomplete.setInput(a.input)),cm.addEvent(a.input,"keypress",function(a){a=cm.getEvent(a),(13==a.keyCode||44==a.charCode)&&(cm.preventDefault(a),n(!0),b.isAutocomplete&&b.components.autocomplete.hide()),27==a.keyCode&&(cm.preventDefault(a),n(!0),m(c.adder))}),cm.addEvent(document,"mousedown",s),c.adder=a)},m=function(a){cm.removeEvent(document,"mousedown",s),c.adder.input.blur(),b.isAutocomplete&&b.components.autocomplete.hide(),a.container.style.overflow="hidden",a.anim.go({style:{width:"0px",opacity:0},duration:200,anim:"smooth",onStop:function(){cm.remove(a.container),c.adder=null,f=!1,b.triggerEvent("onClose")}})},n=function(a){var d=c.adder.input.value.split(",");cm.forEach(d,function(b){o(b,a)}),c.adder.input.value="",c.adder.input.focus(),b.isAutocomplete&&b.components.autocomplete.clear()},o=function(a,c){a=a.trim(),a&&a.length&&!/^[\s]*$/.test(a)&&!cm.inArray(d,a)&&(d.push(a),p(a),r(),c&&(b.triggerEvent("onChange",{tag:a}),b.triggerEvent("onAdd",{tag:a})))},p=function(a){var d={tag:a};d.container=cm.Node("div",{"class":"item"},cm.Node("div",{"class":"text",title:a},a),d.button=cm.Node("div",{"class":b.params.icons.remove,title:b.lang("remove")})),d.anim=new cm.Animation(d.container),f?(cm.addClass(d.container,"closed"),cm.insertBefore(d.container,c.adder.container),d.anim.go({style:{width:[cm.getRealWidth(d.container),"px"].join(""),opacity:1},duration:200,anim:"smooth",onStop:function(){cm.removeClass(d.container,"closed")}})):cm.insertBefore(d.container,c.addButtonContainer),cm.addEvent(d.button,"click",function(){f&&c.adder.input.focus(),q(d)}),e[a]=d},q=function(a){d=d.filter(function(b){return a.tag!=b}),delete e[a.tag],r(),b.triggerEvent("onChange",{tag:a.tag}),b.triggerEvent("onRemove",{tag:a.tag}),a.anim.go({style:{width:"0px",opacity:0},duration:200,anim:"smooth",onStop:function(){cm.remove(a.container),a=null}})},r=function(){c.hidden.value=d.join(",")},s=function(a){if(f){a=cm.getEvent(a);var d=cm.getEventTarget(a);cm.isParent(c.container,d,!0)||b.components.autocomplete.isOwnNode(d)||(n(!0),m(c.adder))}};b.add=function(a){var c;return c=a?cm.isArray(a)?a:a.split(","):[],cm.forEach(c,function(a){o(a,!0)}),b},b.remove=function(a){var c;return c=a?cm.isArray(a)?a:a.split(","):[],cm.forEach(c,function(a){cm.inArray(d,a)&&q(e[a])}),b},g()}),cm.define("Com.TimeSelect",{modules:["Params","Events","Langs","DataConfig"],events:["onRender","onSelect","onChange","onClear"],params:{container:!1,input:cm.Node("input",{type:"text"}),renderSelectsInBody:!0,format:"cm._config.timeFormat",showTitleTag:!0,title:!1,withHours:!0,hoursInterval:0,withMinutes:!0,minutesInterval:0,withSeconds:!1,secondsInterval:0,selected:0,langs:{separator:":",Hours:"HH",Minutes:"MM",Seconds:"SS",HoursTitle:"Hours",MinutesTitle:"Minutes",SecondsTitle:"Seconds"}}},function(a){var b=this,c={},d={};b.date=new Date,b.value=0,b.previousValue=0;var e=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataConfig(b.params.input),f(),g(),h(),b.params.selected?b.set(b.params.selected,b.params.format,!1):b.set(b.params.input.value,b.params.format,!1)},f=function(){cm.isNode(b.params.input)&&(b.params.title=b.params.input.getAttribute("title")||b.params.title),cm.isEmpty(b.params.hoursInterval)&&(b.params.hoursInterval=1),cm.isEmpty(b.params.minutesInterval)&&(b.params.minutesInterval=1),cm.isEmpty(b.params.secondsInterval)&&(b.params.secondsInterval=1)},g=function(){var a=0,d=0,e=0;if(c.container=cm.Node("div",{"class":"com__timeselect"},c.hidden=cm.Node("input",{type:"hidden"}),c.inner=cm.Node("div",{"class":"inner"})),b.params.withHours)for(c.inner.childNodes.length&&c.inner.appendChild(cm.Node("div",{"class":"sep"},b.lang("separator"))),c.inner.appendChild(cm.Node("div",{"class":"field"},c.selectHours=cm.Node("select",{placeholder:b.lang("Hours"),title:b.lang("HoursTitle")})));24>a;)c.selectHours.appendChild(cm.Node("option",{value:a},cm.addLeadZero(a))),a+=b.params.hoursInterval;if(b.params.withMinutes)for(c.inner.childNodes.length&&c.inner.appendChild(cm.Node("div",{"class":"sep"},b.lang("separator"))),c.inner.appendChild(cm.Node("div",{"class":"field"},c.selectMinutes=cm.Node("select",{placeholder:b.lang("Minutes"),title:b.lang("MinutesTitle")})));60>d;)c.selectMinutes.appendChild(cm.Node("option",{value:d},cm.addLeadZero(d))),d+=b.params.minutesInterval;if(b.params.withSeconds)for(c.inner.childNodes.length&&c.inner.appendChild(cm.Node("div",{"class":"sep"},b.lang("separator"))),c.inner.appendChild(cm.Node("div",{"class":"field"},c.selectSeconds=cm.Node("select",{placeholder:b.lang("Seconds"),title:b.lang("SecondsTitle")})));60>e;)c.selectSeconds.appendChild(cm.Node("option",{value:e},cm.addLeadZero(e))),e+=b.params.secondsInterval;b.params.showTitleTag&&b.params.title&&(c.container.title=b.params.title),b.params.input.getAttribute("name")&&c.hidden.setAttribute("name",b.params.input.getAttribute("name")),b.params.container?b.params.container.appendChild(c.container):b.params.input.parentNode&&cm.insertBefore(c.container,b.params.input),cm.remove(b.params.input)},h=function(){b.params.withHours&&(d.selectHours=new Com.Select({select:c.selectHours,renderInBody:b.params.renderSelectsInBody}).addEvent("onChange",function(){i(!0)})),b.params.withMinutes&&(d.selectMinutes=new Com.Select({select:c.selectMinutes,renderInBody:b.params.renderSelectsInBody}).addEvent("onChange",function(){i(!0)})),b.params.withSeconds&&(d.selectSeconds=new Com.Select({select:c.selectSeconds,renderInBody:b.params.renderSelectsInBody}).addEvent("onChange",function(){i(!0)})),b.triggerEvent("onRender")},i=function(a){b.previousValue=b.value,b.params.withHours&&b.date.setHours(d.selectHours.get()),b.params.withMinutes&&b.date.setMinutes(d.selectMinutes.get()),b.params.withSeconds&&b.date.setSeconds(d.selectSeconds.get()),b.value=cm.dateFormat(b.date,b.params.format),c.hidden.value=b.value,a&&(b.triggerEvent("onSelect",b.value),j())},j=function(){(!b.previousValue||!b.value&&b.previousValue||b.value!=b.previousValue)&&b.triggerEvent("onChange",b.value)};b.set=function(a,c,e){return c="undefined"!=typeof c?c:b.params.format,e="undefined"!=typeof e?e:!0,cm.isEmpty(a)||"string"==typeof a&&new RegExp(cm.dateFormat(!1,b.params.format)).test(a)?(b.clear(),b):("object"==typeof a?b.date=a:b.date=cm.parseDate(a,c),b.params.withHours&&d.selectHours.set(b.date.getHours(),!1),b.params.withMinutes&&d.selectMinutes.set(b.date.getMinutes(),!1),b.params.withSeconds&&d.selectSeconds.set(b.date.getSeconds(),!1),i(e),b)},b.get=function(){return b.value},b.getDate=function(){return b.date},b.getHours=function(){return b.date.getHours()},b.getMinutes=function(){return b.date.getMinutes()},b.getSeconds=function(){return b.date.getSeconds()},b.clear=function(a){return a="undefined"!=typeof a?a:!0,b.date.setHours(0),b.date.setMinutes(0),b.date.setSeconds(0),
b.params.withHours&&d.selectHours.set(b.date.getHours(),!1),b.params.withMinutes&&d.selectMinutes.set(b.date.getMinutes(),!1),b.params.withSeconds&&d.selectSeconds.set(b.date.getSeconds(),!1),i(!1),a&&(b.triggerEvent("onClear",b.value),j()),b},e()}),cm.define("Com.ToggleBox",{modules:["Params","Events","Langs","Structure","DataConfig","DataNodes","Storage","Stack"],events:["onRender","onShowStart","onShow","onHideStart","onHide"],params:{node:cm.Node("div"),duration:500,remember:!1,toggleTitle:!1,renderStructure:!1,container:!1,title:!1,content:!1,className:"has-title-bg is-base is-hide",eventNode:"title",langs:{show:"Show",hide:"Hide"}}},function(a){var b=this;b.nodes={container:cm.node("div"),button:cm.Node("div"),target:cm.Node("div"),title:cm.Node("div")},b.animations={},b.isCollapsed=!1,b.isProcess=!1;var c=function(){b.setParams(a),b.convertEvents(b.params.events),b.getDataNodes(b.params.node),b.getDataConfig(b.params.node),d(),e(),b.addToStack(b.nodes.container),b.triggerEvent("onRender")},d=function(){b.params.renderStructure&&(b.params.title||(b.params.title="",b.params.toggleTitle=!0))},e=function(){b.params.renderStructure?(b.nodes.container=cm.Node("dl",{"class":"com__togglebox"},b.nodes.titleContainer=cm.Node("dt",b.nodes.button=cm.Node("span",{"class":"icon default linked"}),b.nodes.title=cm.Node("span",{"class":"title"},b.params.title)),b.nodes.target=cm.Node("dd",b.nodes.content=cm.Node("div",{"class":"inner"}))),cm.addClass(b.nodes.container,b.params.className),b.appendStructure(b.nodes.container),b.params.content?b.nodes.content.appendChild(b.params.content):b.nodes.content.appendChild(b.params.node),"button"==b.params.eventNode?(cm.addClass(b.nodes.container,"has-hover-icon"),cm.addEvent(b.nodes.button,"click",b.toggle)):cm.addEvent(b.nodes.titleContainer,"click",b.toggle)):cm.addEvent(b.nodes.button,"click",b.toggle),b.animations.target=new cm.Animation(b.nodes.target),b.isCollapsed=cm.isClass(b.nodes.container,"is-hide")||!cm.isClass(b.nodes.container,"is-show"),b.params.remember&&(b.isCollapsed=b.storageRead("isCollapsed")),b.isCollapsed?b.collapse(!0):b.expand(!0)},f=function(){b.isProcess=!1,b.nodes.target.style.opacity=1,b.nodes.target.style.height="auto",b.nodes.target.style.overflow="visible",b.triggerEvent("onShow")},g=function(){b.isProcess=!1,b.nodes.target.style.opacity=0,b.nodes.target.style.height=0,b.triggerEvent("onHide")};b.toggle=function(){b.isCollapsed?b.expand():b.collapse()},b.expand=function(a){(a||b.isCollapsed)&&(b.isCollapsed=!1,b.isProcess="show",b.triggerEvent("onShowStart"),b.params.remember&&b.storageWrite("isCollapsed",!1),cm.replaceClass(b.nodes.container,"is-hide","is-show"),b.params.toggleTitle&&(b.nodes.title.innerHTML=b.lang("hide")),a?f():(b.nodes.target.style.overflow="hidden",b.nodes.target.style.opacity||(b.nodes.target.style.opacity=0),b.animations.target.go({style:{height:[cm.getRealHeight(b.nodes.target,"offset","current"),"px"].join(""),opacity:1},anim:"smooth",duration:b.params.duration,onStop:f})))},b.collapse=function(a){(a||!b.isHide)&&(b.isCollapsed=!0,b.isProcess="hide",b.triggerEvent("onHideStart"),b.params.remember&&b.storageWrite("isCollapsed",!0),cm.replaceClass(b.nodes.container,"is-show","is-hide"),b.params.toggleTitle&&(b.nodes.title.innerHTML=b.lang("show")),b.nodes.target.style.overflow="hidden",b.nodes.target.style.opacity||(b.nodes.target.style.opacity=1),a?g():b.animations.target.go({style:{height:"0px",opacity:0},anim:"smooth",duration:b.params.duration,onStop:g}))},c()}),cm.define("Com.Tooltip",{modules:["Params","Events","Langs"],events:["onRender","onShowStart","onShow","onHideStart","onHide"],params:{target:cm.Node("div"),targetEvent:"hover",hideOnReClick:!1,hideOnOut:!0,preventClickEvent:!1,top:0,left:0,width:"auto",duration:"cm._config.animDurationQuick",position:"absolute",className:"",theme:"theme-default",adaptive:!0,adaptiveX:!0,adaptiveY:!0,title:"",titleTag:"h3",content:cm.Node("div"),container:"document.body"}},function(params){var that=this,checkInt,anim;that.nodes={},that.isShow=!1,that.disabled=!1;var init=function(){that.setParams(params),that.convertEvents(that.params.events),validateParams(),render(),setMiscEvents(),that.triggerEvent("onRender")},validateParams=function(){that.params.adaptive||(that.params.adaptiveX=!1,that.params.adaptiveY=!1),that.params.position=cm.inArray(["absolute","fixed"],that.params.position)?that.params.position:"absolute"},render=function(){that.nodes.container=cm.Node("div",{"class":"com__tooltip"},that.nodes.inner=cm.Node("div",{"class":"inner"},that.nodes.content=cm.Node("div",{"class":"scroll"}))),that.nodes.container.style.position=that.params.position,!cm.isEmpty(that.params.theme)&&cm.addClass(that.nodes.container,that.params.theme),!cm.isEmpty(that.params.className)&&cm.addClass(that.nodes.container,that.params.className),renderTitle(that.params.title),renderContent(that.params.content)},renderTitle=function(a){cm.remove(that.nodes.title),cm.isEmpty(a)||(that.nodes.title=cm.Node("div",{"class":"title"},cm.Node(that.params.titleTag,a)),cm.insertFirst(that.nodes.title,that.nodes.inner))},renderContent=function(a){cm.clearNode(that.nodes.content),a&&that.nodes.content.appendChild(a)},setMiscEvents=function(){anim=new cm.Animation(that.nodes.container),that.params.preventClickEvent&&(that.params.target.onclick=function(a){cm.preventDefault(a)}),setTargetEvent()},targetEvent=function(){that.disabled||(that.isShow&&"click"==that.params.targetEvent&&that.params.hideOnReClick?hide(!1):show())},setTargetEvent=function(){switch(that.params.targetEvent){case"hover":cm.addEvent(that.params.target,"mouseover",targetEvent,!0);break;case"click":cm.addEvent(that.params.target,"click",targetEvent,!0)}},removeTargetEvent=function(){switch(that.params.targetEvent){case"hover":cm.removeEvent(that.params.target,"mouseover",targetEvent);break;case"click":cm.removeEvent(that.params.target,"click",targetEvent)}},show=function(a){if(!that.isShow){if(that.isShow=!0,that.params.container.appendChild(that.nodes.container),getPosition(),that.nodes.container.style.display="block",checkInt=setInterval(getPosition,5),anim.go({style:{opacity:1},duration:a?0:that.params.duration,onStop:function(){that.triggerEvent("onShow")}}),that.params.hideOnOut)switch(that.params.targetEvent){case"hover":cm.addEvent(document,"mouseover",bodyEvent);break;case"click":default:cm.addEvent(document,"mousedown",bodyEvent)}that.triggerEvent("onShowStart")}},hide=function(a){if(that.isShow){if(that.isShow=!1,checkInt&&clearInterval(checkInt),that.params.hideOnOut)switch(that.params.targetEvent){case"hover":cm.removeEvent(document,"mouseover",bodyEvent);break;case"click":default:cm.removeEvent(document,"mousedown",bodyEvent)}anim.go({style:{opacity:0},duration:a?0:that.params.duration,onStop:function(){that.nodes.container.style.display="none",cm.remove(that.nodes.container),that.triggerEvent("onHide")}}),that.triggerEvent("onHideStart")}},getPosition=function(){var targetWidth=that.params.target.offsetWidth,targetHeight=that.params.target.offsetHeight,selfHeight=that.nodes.container.offsetHeight,selfWidth=that.nodes.container.offsetWidth,pageSize=cm.getPageSize(),scrollTop=cm.getScrollTop(window),scrollLeft=cm.getScrollLeft(window);!function(){if("auto"!=that.params.width){var width=eval(that.params.width.toString().replace("targetWidth",targetWidth));width!=selfWidth&&(that.nodes.container.style.width=[width,"px"].join(""))}}(),function(){var top=cm.getRealY(that.params.target),topAdd=eval(that.params.top.toString().replace("targetHeight",targetHeight).replace("selfHeight",selfHeight)),left=cm.getRealX(that.params.target),leftAdd=eval(that.params.left.toString().replace("targetWidth",targetWidth).replace("selfWidth",selfWidth)),positionTop,positionLeft;positionTop=that.params.adaptiveY?Math.max(Math.min(top+topAdd+selfHeight>pageSize.winHeight?top-topAdd-selfHeight+targetHeight:top+topAdd,pageSize.winHeight-selfHeight),0):top+topAdd,positionLeft=that.params.adaptiveX?Math.max(Math.min(left+leftAdd+selfWidth>pageSize.winWidth?left-leftAdd-selfWidth+targetWidth:left+leftAdd,pageSize.winWidth-selfWidth),0):left+leftAdd,"absolute"==that.params.position&&(that.params.container==document.body?(positionTop+=scrollTop,positionLeft+=scrollLeft):(positionTop-=cm.getRealY(that.params.container),positionLeft-=cm.getRealX(that.params.container))),positionTop!=that.nodes.container.offsetTop&&(that.nodes.container.style.top=[positionTop,"px"].join("")),positionLeft!=that.nodes.container.offsetLeft&&(that.nodes.container.style.left=[positionLeft,"px"].join(""))}()},bodyEvent=function(a){if(that.isShow){a=cm.getEvent(a);var b=cm.getEventTarget(a);cm.isParent(that.nodes.container,b,!0)||cm.isParent(that.params.target,b,!0)||hide(!1)}};that.setTitle=function(a){return renderTitle(a),that},that.setContent=function(a){return renderContent(a),that},that.setTarget=function(a){return removeTargetEvent(),that.params.target=a||cm.Node("div"),setTargetEvent(),that},that.show=function(a){return show(a),that},that.hide=function(a){return hide(a),that},that.disable=function(){return that.disabled=!0,that},that.enable=function(){return that.disabled=!1,that},that.scrollToNode=function(a){return cm.isNode(a)&&cm.isParent(that.nodes.content,a)&&(that.nodes.content.scrollTop=a.offsetTop-that.nodes.content.offsetTop),that},that.isOwnNode=function(a){return cm.isParent(that.nodes.container,a,!0)},that.remove=function(){return hide(!0),removeTargetEvent(),that},that.getNodes=function(a){return that.nodes[a]||that.nodes},init()}),Com.UA={hash:{ie:"MSIE",opera:"Opera",ff:"Firefox",firefox:"Firefox",webkit:"AppleWebKit",safari:"Safari",chrome:"Chrome",steam:"Steam"},fullname:{MSIE:"Microsoft Internet Explorer",Firefox:"Mozilla Firefox",Chrome:"Google Chrome",Safari:"Apple Safari",Opera:"Opera","Opera Mini":"Opera Mini","Opera Mobile":"Opera Mobile","IE Mobile":"Internet Explorer Mobile",Steam:"Valve Steam GameOverlay"},os:{Windows:{"NT 5.0":"2000","NT 5.1":"XP","NT 5.2":"Server 2003","NT 6.0":"Vista","NT 6.1":"7","NT 6.2":"8","NT 6.3":"8.1","NT 10.0":"10"},"Mac OS":{"X 10.0":"Cheetah","X 10.1":"Puma","X 10.2":"Jaguar","X 10.3":"Panther","X 10.4":"Tiger","X 10.5":"Leopard","X 10.6":"Snow Leopard","X 10.7":"Lion","X 10.8":"Mountain Lion","X 10.9":"Mavericks","X 10.10":"Yosemite"}},str:navigator.userAgent,get:function(a){var b=this,a=a?a:b.str,c={};if(a.indexOf("IEMobile")>-1){c.browser="IE Mobile",c.hash="ie-mobile",c.engine="Trident",c.type="mobile",c.full_version=a.replace(/^(?:.+)(?:IEMobile)(?:[\s\/]{0,})([0-9\.]{1,})(?:.+)$/,"$1");var d=c.full_version.toString().split(".");c.version=d[0]+(d[1]?"."+d[1].slice(0,1):""),c.short_version=d[0]}else if(a.indexOf("MSIE")>-1||a.indexOf("Trident")>-1){c.browser="MSIE",c.hash="ie",c.engine="Trident",a.indexOf("MSIE")>-1?c.full_version=a.replace(/^(?:.+)(?:MSIE)(?:[\s\/]{0,})([0-9\.]{1,})(?:.+)$/,"$1"):c.full_version=a.replace(/^(?:.+)(?:rv:)(?:[\s\/]{0,})([0-9\.]{1,})(?:.+)$/,"$1");var d=c.full_version.toString().split(".");c.version=d[0]+(d[1]?"."+d[1].slice(0,1):""),c.short_version=d[0]}else if(a.indexOf("Opera Mobi")>-1)c.browser="Opera Mobile",c.hash="opera-mobile",c.engine="Presto",c.type="mobile",c.version=c.full_version=a.indexOf("Version")>-1?a.replace(/^(?:.+)(?:Version\/)([0-9\.]{1,})$/,"$1"):"",c.short_version=c.version.split(".")[0];else if(a.indexOf("Opera Mini")>-1){c.browser="Opera Mini",c.hash="opera-mini",c.engine="Presto",c.type="mobile",c.full_version=a.replace(/^(?:.+)(?:Opera Mini\/)([0-9\.]{0,})(?:.+)$/,"$1");var d=c.full_version.toString().split(".");c.version=d[0]+(d[1]?"."+d[1].slice(0,1):""),c.short_version=d[0]}else if(a.indexOf("Opera")>-1)c.browser="Opera",c.hash="opera",c.engine="Presto",c.version=c.full_version=a.indexOf("Version")>-1?a.replace(/^(?:.+)(?:Version\/)([0-9\.]{0,})(?:.{0,})$/,"$1"):a.replace(/^(?:Opera\/)([0-9\.]{1,})\s(?:.+)$/,"$1"),c.short_version=c.version.split(".")[0];else if(a.indexOf("OPR")>-1){c.browser="Opera",c.hash="opera",c.engine="Blink",c.full_version=a.replace(/^(?:.+)(?:OPR\/)([0-9\.]{1,})(?:.+)$/,"$1");var d=c.full_version.toString().split(".");c.version=d[0]+(d[1]?"."+d[1]:""),c.short_version=d[0]}else if(a.indexOf("Fennec")>-1){c.browser="Fennec",c.hash="fennec",c.engine="Gecko",c.type="mobile",c.full_version=a.replace(/^(?:.+)(?:Fennec)(?:[\/]{0,})([0-9\.]{0,})(?:.{0,})$/,"$1");var d=c.full_version.toString().split(".");c.version=d[0]+(d[1]?"."+d[1]:""),c.short_version=d[0]}else if(a.indexOf("Firefox")>-1){c.browser="Firefox",c.hash="firefox",c.engine="Gecko",c.full_version=a.replace(/^(?:.+)(?:Firefox)(?:[\/]{0,})([0-9\.]{0,})(?:.{0,})$/,"$1");var d=c.full_version.toString().split(".");c.version=d[0]+(d[1]?"."+d[1]:""),c.short_version=d[0]}else if(a.indexOf("Valve Steam GameOverlay")>-1){c.browser="Steam",c.hash="steam",c.engine="AppleWebKit",c.full_version=a.replace(/^(?:.+)(?:Chrome\/)([0-9\.]{1,})(?:.+)$/,"$1");var d=c.full_version.toString().split(".");c.version=d[0]+(d[1]?"."+d[1]:""),c.short_version=d[0]}else if(a.indexOf("Chrome")>-1){c.browser="Chrome",c.hash="chrome",c.engine="Blink",c.full_version=a.replace(/^(?:.+)(?:Chrome\/)([0-9\.]{1,})(?:.+)$/,"$1");var d=c.full_version.toString().split(".");c.version=d[0]+(d[1]?"."+d[1]:""),c.short_version=d[0]}else if(a.indexOf("Safari")>-1){c.browser="Safari",c.hash="safari",c.engine="AppleWebKit",c.full_version=a.indexOf("Version")>-1?a.replace(/^(?:.+)(?:Version\/)([0-9\.]{1,})(?:.+)$/,"$1"):"2";var d=c.full_version.toString().split(".");c.version=d[0]+(d[1]?"."+d[1]:""),c.short_version=d[0]}else c.version=c.browser="unknown";if(c.full_name=b.fullname[c.browser]?b.fullname[c.browser]:"unknown",c.browser_name=c.full_name+(c.version.length>0&&"unknown"!=c.version?" "+c.version:""),c.engine||(a.indexOf("AppleWebKit")>-1?c.engine="AppleWebKit":a.indexOf("Trident")>-1?c.engine="Trident":a.indexOf("Gecko")>-1?c.engine="Gecko":c.engine="unknown"),a.indexOf("Windows Phone OS")>-1)c.os="Windows Phone OS",c.os_type="mobile",c.os_version=a.replace(/^(?:.+)(?:Windows Phone OS)(?:[\s]{0,1})([a-zA-Z\s0-9\.]{0,})(?:.+)$/,"$1");else if(a.indexOf("Windows CE")>-1)c.os="Windows Mobile",c.os_type="mobile",c.os_version="";else if(a.indexOf("Windows")>-1)c.os="Windows",c.os_version=a.replace(/^(?:.+)(?:Windows)(?:[\s]{0,1})([a-zA-Z\s0-9\.]{0,})(?:.+)$/,"$1");else if(a.indexOf("Android")>-1)c.os="Android",c.os_type="mobile",c.os_version=a.replace(/^(?:.+)(?:Android)(?:[\s]{0,})([0-9\.]{0,})(?:.+)$/,"$1");else if(a.indexOf("Linux")>-1)c.os="Linux",c.os_version=a.replace(/^(?:.+)(?:Linux)(?:[\s]{0,1})([a-zA-Z0-9\.\s_]{0,})(?:.+)$/,"$1");else if(a.indexOf("iPhone")>-1)c.os="iPhone",c.os_type="mobile",c.os_version=a.replace(/^(?:.+)(?:CPU[ iPhone]{0,} OS )([a-zA-Z0-9\._]{0,})(?:.+)$/,"$1").replace(/_/gi,".");else if(a.indexOf("iPad")>-1)c.os="iPad",c.os_type="mobile",c.os_version=a.replace(/^(?:.+)(?:CPU[ iPhone]{0,} OS )([a-zA-Z0-9\._]{0,})(?:.+)$/,"$1").replace(/_/gi,".");else if(a.indexOf("Macintosh")>-1)if(c.os="Mac OS",a.indexOf("Mac OS")>-1){c.os_full_version=a.replace(/^(?:.+)(?:Mac OS )([a-zA-Z0-9\.\s_]{0,})(?:.+)$/,"$1").replace(/_/gi,"."),c.os_version=c.os_full_version.slice(0,6);var e=b.os[c.os];c.os_name=c.os+" "+c.os_version+(e&&e[c.os_version]?" "+e[c.os_version]:"")}else c.os_version="Classic";else a.indexOf("BlackBerry")>-1?(c.os="BlackBerry",c.os_type="mobile",c.os_version=a.replace(/^(?:.{0,})(?:BlackBerry)(?:[\s]{0,})([0-9\.]{0,})(?:.+)$/,"$1")):a.indexOf("FreeBSD")>-1?(c.os="FreeBSD",c.os_version=a.replace(/^(?:.+)(?:FreeBSD )([a-zA-Z0-9\.\s_]{0,})(?:.+)$/,"$1")):a.indexOf("NetBSD")>-1?(c.os="NetBSD",c.os_version=a.replace(/^(?:.+)(?:NetBSD )([a-zA-Z0-9\.\s_]{0,})(?:.+)$/,"$1")):a.indexOf("OpenBSD")>-1?(c.os="OpenBSD",c.os_version=a.replace(/^(?:.+)(?:OpenBSD )([a-zA-Z0-9\.\s_]{0,})(?:.+)$/,"$1")):a.indexOf("SunOS")>-1?(c.os="SunOS",c.os_version=a.replace(/^(?:.+)(?:SunOS )([a-zA-Z0-9\.\s_]{0,})(?:.+)$/,"$1")):c.os=c.os_version="unknown";if(!c.os_name)if("unknown"!=c.os){var e=b.os[c.os];c.os_name=c.os+(c.os_version.length>0&&"unknown"!=c.os_version?" "+(e&&e[c.os_version]?e[c.os_version]:c.os_version):"")}else c.os_name="unknown";return c},setBrowserClass:function(){var a=Com.UA.get();a.hash&&cm.addClass(document.getElementsByTagName("html")[0],[a.engine.toLowerCase(),a.hash,a.hash+a.short_version].join(" "))},setEngineClass:function(){var a=Com.UA.get();cm.addClass(document.getElementsByTagName("html")[0],a.engine.toLowerCase())},is:function(a){var b=this,c=a.replace(/[^0-9\.\,]/g,""),d=b.hash[a.replace(/[0-9\.\,\s]/g,"").toLowerCase()],e=b.get();return d==e.browser&&(c&&c.length>0?parseFloat(c)==parseFloat(e.version):!0)},isVersion:function(){var a=this,b=a.get();return parseFloat(b.version)},isMobile:function(){var a=this,b=a.get();return"mobile"==b.os_type}};var is=function(a){return cm.log('Warning. Method "is()" is deprecated. Please use "Com.UA.is()"'),Com.UA.is(a)},isVersion=function(){return cm.log('Warning. Method "isVersion()" is deprecated. Please use "Com.UA.isVersion()"'),Com.UA.isVersion()};cm.define("Com.Zoom",{modules:["Params","Events","DataConfig","Stack"],events:["onRender","onOpenStart","onOpen","onClose","onCloseStart"],params:{node:cm.Node("div"),container:"document.body",name:"",src:"",duration:"cm._config.animDuration",autoOpen:!0,removeOnClose:!0,documentScroll:!1}},function(a){var b,c,d,e,f=this;f.isOpen=!1,f.isLoad=!1,f.nodes={};var g=function(){f.setParams(a),f.convertEvents(f.params.events),f.getDataConfig(f.params.node),h(),f.addToStack(f.nodes.container),f.triggerEvent("onRender"),f.params.autoOpen&&f.open()},h=function(){f.nodes.container=cm.node("div",{"class":"com__zoom"},f.nodes.inner=cm.node("div",{"class":"inner"})),cm.addEvent(f.nodes.container,"click",f.close)},i=function(){f.nodes.image=cm.node("img"),cm.addEvent(f.nodes.image,"load",function(){f.isLoad=!0,j(),k()}),f.nodes.image.src=f.params.src,f.nodes.inner.appendChild(f.nodes.image)},j=function(){b=cm.getRect(f.nodes.image),c=cm.getRect(f.nodes.inner),d=(b.width-c.width)/c.width,e=(b.height-c.height)/c.height},k=function(){if(f.isLoad){var a=-cm._clientPosition.x*d,b=-cm._clientPosition.y*e;cm.setCSSTranslate(f.nodes.image,[a,"px"].join(""),[b,"px"].join(""))}},l=function(a){a=cm.getEvent(a),27==a.keyCode&&f.close()},m=function(){j(),k()},n=function(){k()},o=function(){cm.addEvent(window,"mousemove",n),cm.addEvent(window,"resize",m),cm.addEvent(window,"keydown",l)},p=function(){cm.removeEvent(window,"mousemove",n),cm.removeEvent(window,"resize",m),cm.removeEvent(window,"keydown",l)};f.set=function(a){return f.isLoad=!1,f.params.src=a,f},f.open=function(){return f.isOpen||(f.isOpen=!0,o(),f.params.documentScroll||cm.addClass(cm.getDocumentHtml(),"cm__scroll--none"),f.nodes.container.style.display="block",cm.inDOM(f.nodes.container)||f.params.container.appendChild(f.nodes.container),i(),cm.transition(f.nodes.container,{properties:{opacity:1},duration:f.params.duration,easing:"ease-in-out",onStop:function(){f.triggerEvent("onOpen")}}),f.triggerEvent("onOpenStart")),f},f.close=function(){return f.isOpen&&(f.isOpen=!1,p(),f.params.documentScroll||cm.removeClass(cm.getDocumentHtml(),"cm__scroll--none"),cm.transition(f.nodes.container,{properties:{opacity:0},duration:f.params.duration,easing:"ease-in-out",onStop:function(){f.nodes.container.style.display="none",f.params.removeOnClose&&cm.remove(f.nodes.container),cm.remove(f.nodes.image),f.triggerEvent("onClose")}}),f.triggerEvent("onCloseStart")),f},g()});