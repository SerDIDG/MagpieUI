<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>Gridlist</title>

    <link type="text/css" rel="stylesheet" href="../css/index.css">

    <script type="text/javascript" src="../js/common.js"></script>
    <script type="text/javascript" src="../js/useragent.js"></script>
    <script type="text/javascript" src="../js/tooltip.js"></script>
    <script type="text/javascript" src="../js/select.js"></script>
    <script type="text/javascript" src="../js/calendar.js"></script>
    <script type="text/javascript" src="../js/datepicker.js"></script>
    <script type="text/javascript" src="../js/calendar.events.js"></script>
    <script type="text/javascript" src="../js/tabset.js"></script>
    <script type="text/javascript" src="../js/dialog.js"></script>
    <script type="text/javascript" src="../js/gallery.js"></script>
    <script type="text/javascript" src="../js/collector.js"></script>
    <script type="text/javascript" src="../js/columns.js"></script>
    <script type="text/javascript" src="../js/glossary.js"></script>
    <script type="text/javascript" src="../js/draganddrop.js"></script>
    <script type="text/javascript" src="../js/toggle.box.js"></script>

    <script type="text/javascript" src="../js/components/Gridlist.js"></script>
    <script type="text/javascript" src="../js/components/Pagination.js"></script>

    <script type="text/javascript">
        cm.onload(function(){
            var element;
            // Useragent
            Com.UA.setBrowserClass();
            // Selects
            Com.SelectCollector();
            // Datepickers
            Com.DatepickerCollector();
            // Tabset
            Com.TabsetCollector();
            // Components
            new Com.Collector()
                .add('gridlist-togglebox', function(node){
                    new Com.ToggleBoxGridlist({
                        'node' : node,
                        'useLangs' : true,
                        'langs' : {
                            'showTitle' : 'Show',
                            'hideTitle' : 'Hide'
                        }
                    });
                })
                .add('gridlist', function(node){
                    // Sample data
                    var data = [
                        {'id' : '1', 'name' : '123', 'descr' : 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.', 'url' : 'http://google.com'},
                        {'id' : '2', 'name' : '6564636536', 'descr' : 'Aliquam fringilla congue quam, sed porttitor lectus.', 'url' : 'http://yandex.ru', '_checked' : true},
                        {'id' : '3', 'name' : '566464', 'descr' : 'Suspendisse commodo suscipit vulputate.', 'url' : 'http://ya.ru'},
                        {'id' : '4', 'name' : '5', 'descr' : 'Vivamus rutrum pulvinar est, nec pharetra arcu dignissim in.', 'url' : 'http://bing.com'},
                        {'id' : '5', 'name' : '8325', 'descr' : 'Maecenas eget ultrices ante.', 'url' : 'http://google.com'},
                        {'id' : '6', 'name' : '9845654', 'descr' : 'Integer arcu leo, fringilla nec lectus non, pretium lacinia nisl.', 'url' : 'http://yahoo.com'},
                        {'id' : '7', 'name' : '135436', 'descr' : 'Duis vel augue id ante lobortis blandit. Nulla sed vehicula velit.', 'url' : 'http://screensider.com'},
                        {'id' : '1', 'name' : '23542672573', 'descr' : 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.', 'url' : 'http://facebook.com'},
                        {'id' : '2', 'name' : '876326', 'descr' : 'Aliquam fringilla congue quam, sed porttitor lectus.', 'url' : 'http://twitter.com'},
                        {'id' : '3', 'name' : '564', 'descr' : 'Suspendisse commodo suscipit vulputate.', 'url' : 'http://youtube.com'},
                        {'id' : '4', 'name' : '365', 'descr' : 'Vivamus rutrum pulvinar est, nec pharetra arcu dignissim in.', 'url' : 'http://apple.com'},
                        {'id' : '5', 'name' : '21652', 'descr' : 'Maecenas eget ultrices ante.', 'url' : 'http://vk.com'},
                        {'id' : '6', 'name' : '24356287', 'descr' : 'Integer arcu leo, fringilla nec lectus non, pretium lacinia nisl.', 'url' : 'http://500px.com'},
                        {'id' : '7', 'name' : '2567523', 'descr' : 'Duis vel augue id ante lobortis blandit. Nulla sed vehicula velit.', 'url' : 'http://habr.ru'}
                    ];
                    new Com.Gridlist({
                            'container' : node,
                            'data' : data,
                            'cols' : [
                                {'type' : 'checkbox', 'width' : '24'},
                                {'key' : 'id', 'type' : 'number', 'width' : '48', 'title' : 'ID'},
                                {'key' : 'name', 'type' : 'number', 'width' : '10%', 'title' : 'Name'},
                                {'key' : 'descr', 'type' : 'text', 'width' : 'auto', 'title' : 'Description'},
                                {'key' : 'url', 'type' : 'url', 'width' : '15%', 'title' : 'Link'},
                                {'type' : 'empty', 'width' : '150', 'title' : 'Custom nodes', 'onRender' : function(gridlist, data){
                                    //cm.log(data);
                                    data['nodes']['inner'].appendChild(
                                        cm.Node('ul', {'class' : 'com-gridlist-links'},
                                            cm.Node('li',
                                                cm.Node('a', 'Add')
                                            ),
                                            cm.Node('li',
                                                cm.Node('a', 'Edit')
                                            ),
                                            cm.Node('li',
                                                cm.Node('a', 'Remove')
                                            )
                                        )
                                    );
                                }},
                                {'type' : 'icon', 'width' : '24', 'class' : 'small edit', 'showTitle' : true, 'titleText' : 'Edit', 'onClick' : function(gridlist, data){
                                    cm.log(data);
                                }},
                                {'type' : 'empty', 'width' : '100', 'title' : 'Access Denied', 'access' : false}
                            ],
                            'sortBy' : 'id',
                            'orderBy' : 'ASC',
                            'perPage' : 5
                        })
                        .addEvent('onSort', function(gridlist, data){
                            cm.log(data);
                        })
                        .addEvent('onCheck', function(gridlist, row){
                            cm.log(row);
                        });
                })
                .construct();

        });
    </script>
</head>

<body>

<div class="cm-block-padding">
    <h1>Gridlist</h1>

    <ul class="com-tabset-content-ul" id="tabset" data-tabset="true">
        <li data-tabset-id="overview" data-tabset-title="Overview">
            <h2>Initialize in Java-Script:</h2>
            <code>new Com.Gridlist(o);</code>
            <br>
            <b>Attributes:</b>
            <ul class="cm-list">
                <li><b>container</b> <i>[HTML Node]</i> - container node for gridlist, <i>default: cm.Node('div')</i>;</li>
                <li><b>data</b> <i>[Array]</i> - array of data, <i>default: []</i>:
                    <ul class="margin-none">
                        <li><b>_checked</b> <i>[Boolean]</i> - mark column as checked, using with column's <b>type</b> = <b>checkbox</b>, <i>default: undefined (false)</i>;</li>
                    </ul>
                </li>
                <li><b>cols</b> <i>[Array]</i> - array of columns, <i>default: []</i>:
                    <ul class="margin-none">
                        <li><b>width</b> <i>[String/Number]</i> - width of column, can be number or percentage or 'auto', <i>default: 'auto'</i>;</li>
                        <li><b>access</b> <i>[Boolean]</i> - toggle column rendering, if false, column will not be rendered, <i>default: true</i>;</li>
                        <li><b>type</b> <i>[String]</i> - type of column content, needs to be specified for properly sorting and displaying, <i>default: 'text'</i>:
                            <ul class="margin-none">
                                <li><b>text</b> - for text rendering;</li>
                                <li><b>number</b> - for number rendering;</li>
                                <li><b>url</b> - for links rendering;</li>
                                <li><b>date</b> - for date rendering;</li>
                                <li><b>icon</b> - for rendering icon node, sorting not available;</li>
                                <li><b>checkbox</b> - for rendering checkbox node, sorting not available;</li>
                                <li><b>empty</b> - for rendering empty content cells, sorting not available;</li>
                            </ul>
                        </li>
                        <li><b>key</b> <i>[String]</i> - key of data array, all cells of this column will be display content by this key, <i>default: empty</i>;</li>
                        <li><b>title</b> <i>[Title]</i> - table column th title, <i>default: empty</i>;</li>
                        <li><b>sort</b> <i>[Boolean]</i> - is column sortable, <i>default: dependence of class config <b>sort</b> attribute</i>;</li>
                        <li><b>textOverflow</b> <i>[Boolean]</i> - wrap cell content to single line, and overflow it, <i>default: false</i>;</li>
                        <li><b>class</b> <i>[String]</i> - css class for icon node, when column <b>type</b> is <b>icon</b>, <i>default: empty</i>;</li>
                        <li><b>target</b> <i>[String]</i> - link opening target, when column <b>type</b> is <b>url</b>, <i>default: '_blank'</i>;</li>
                        <li><b>showTitle</b> <i>[Boolean]</i> - show title on hover, by default using content of data <b>key</b>, <i>default: false</i>;</li>
                        <li><b>titleText</b> <i>[String]</i> - alternative title text on hover, prevent default, <i>default: empty</i>;</li>
                        <li><b>onClick</b> <i>[Function]</i> - on cell click event handler, when <b>type</b> is <b>icon</b> <b>url</b> <b>checkbox</b>, event will be bind on this nodes, <i>default: false</i>:
                            <ul class="margin-none">
                                <li><i>Return attributes: [Object {Gridlist}, Object {'index' : Number, 'data' : Object, 'isChecked' : Boolean, 'nodes' : Object}];</i></li>
                            </ul>
                        </li>
                        <li><b>onRender</b> <i>[Function]</i> - on cell render event handler, <i>default: false</i>:
                            <ul class="margin-none">
                                <li><i>Return attributes: [Object {Gridlist}, Object {'nodes' : Object, 'col' : Object, 'row' : Object}];</i></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><b>sort</b> <i>[Boolean]</i> - is table sortable, <i>default: true</i>;</li>
                <li><b>sortBy</b> <i>[String]</i> - which what keys needs to sort the table by default, <i>default: 'id'</i>;</li>
                <li><b>orderBy</b> <i>[String]</i> - which what ordering direction needs to sort the table by default, <i>default: 'ASC'</i>;</li>
                <li><b>pagination</b> <i>[Boolean]</i> - use pagination in gridlist, <i>default: true</i>;</li>
                <li><b>perPage</b> <i>[Number]</i> - display rows per page when gridlist using pagination, <i>default: 25</i>;</li>
                <li><b>showCounter</b> <i>[Boolean]</i> - display data's length counter at top of the table, <i>default: false</i>;</li>
                <li><b>dateFormat</b> <i>[Boolean]</i> - input date format when column's <b>type</b> is <b>date</b>, needs to properly sorting, <i>default: '%Y-%m-%d %H:%i:%s'</i>;</li>
                <li><b>langs</b> <i>[Object]</i> - object of lang strings:
                    <ul class="margin-none">
                        <li><b>counter</b> <i>[String]</i> - data's length counter title, <i>default: 'Count: '</i>;</li>
                        <li><b>check-all</b> <i>[String]</i> - table th title checkbox title on hover, <i>default: 'Check all'</i>;</li>
                        <li><b>uncheck-all</b> <i>[String]</i> - table th title checkbox title on hover, <i>default: 'Uncheck all'</i>;</li>
                    </ul>
                </li>
                <li><b>icons</b> <i>[Object]</i> - object of icons css classes:
                    <ul class="margin-none">
                        <li><b>arrows</b> <i>[Object]</i> - object of sorting arrows icons css classes:
                            <ul class="margin-none">
                                <li><i>'desc' : 'icon arrow desc'</i>;</li>
                                <li><i>'asc' : 'icon arrow asc'</i>;</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><b>events</b> <i>[Object]</i> - object of events handlers:
                    <ul class="margin-none">
                        <li><i>Available events: onSort, onCheckAll, onUnCheckAll, onCheck, onUnCheck</i>;</li>
                    </ul>
                </li>
                <li><b>Com.Pagination</b> <i>[Object]</i> - specific configuration of pagination component, <i>default: {}</i>.</li>
            </ul>
        </li>

        <li data-tabset-id="methods" data-tabset-title="Methods">
            <h2>Add event:</h2>
            <code>gridlist.addEvent(event, handler);</code>
            <p>Available events: onSort, onCheckAll, onUnCheckAll, onCheck, onUnCheck.<br>Returns a class of select.</p>

            <h2>Remove event:</h2>
            <code>gridlist.removeEvent(event, handler);</code>
            <p>Available events: onSort, onCheckAll, onUnCheckAll, onCheck, onUnCheck.<br>Returns a class of select.</p>

            <h2>Check row:</h2>
            <code>gridlist.check(index);</code>
            <p><b>index</b> <i>[Nubmer]</i> - index of row in data.<br>Trigger <b>onCheck</b> event, which returns: [Object {Gridlist}, Object {row}].<br>Returns a class of select.</p>

            <h2>Uncheck row:</h2>
            <code>gridlist.unCheck(index);</code>
            <p><b>index</b> <i>[Nubmer]</i> - index of row in data.<br>Trigger <b>onUnCheck</b> event, which returns: [Object {Gridlist}, Object {row}].<br>Returns a class of select.</p>

            <h2>Check all rows:</h2>
            <code>gridlist.checkAll();</code>
            <p>Trigger <b>onCheckAll</b> event, which returns: [Object {Gridlist}, Object {data}].<br>Returns a class of select.</p>

            <h2>Uncheck all rows:</h2>
            <code>gridlist.unCheckAll();</code>
            <p>Trigger <b>onUnCheckAll</b> event, which returns: [Object {Gridlist}, Object {data}].<br>Returns a class of select.</p>

            <h2>Get checked rows from rendered rows:</h2>
            <code>gridlist.getChecked();</code>
            <p>Returns the object of rows.</p>

            <h2>Get checked rows from data:</h2>
            <code>gridlist.getCheckedData();</code>
            <p>Returns the object of data rows.</p>
        </li>

        <li data-tabset-id="examples" data-tabset-title="Examples">
            <h2>Default:</h2>
            <div class="com-gridlist">
                <table>
                    <thead>
                        <tr>
                            <th width="20%" class="sort">
                                <div class="inner">
                                    <span>Name</span>
                                    <div class="icon arrow desc"></div>
                                </div>
                            </th>
                            <th>Description</th>
                            <th width="60">Order</th>
                            <th width="70"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Canada</td>
                            <td>Canada is a North American country consisting of ten provinces and three territories.</td>
                            <td>
                                <div class="form-icons-inside left">
                                    <div class="text">1</div>
                                    <div class="icon small arrow-priority-up linked inline hidden"></div>
                                    <div class="icon small arrow-priority-down inline linked"></div>
                                </div>
                            </td>
                            <td>
                                <div class="form-icons-inside">
                                    <div class="icon small add linked inline" title="Add"></div>
                                    <div class="icon small edit linked inline" title="Edit"></div>
                                    <div class="icon small remove linked inline" title="Remove"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Canada</td>
                            <td>Canada is a North American country consisting of ten provinces and three territories.</td>
                            <td>
                                <div class="form-icons-inside left">
                                    <div class="text">2</div>
                                    <div class="icon small arrow-priority-up inline linked"></div>
                                    <div class="icon small arrow-priority-down inline linked"></div>
                                </div>
                            </td>
                            <td>
                                <div class="form-icons-inside">
                                    <div class="icon small add linked inline" title="Add"></div>
                                    <div class="icon small edit linked inline" title="Edit"></div>
                                    <div class="icon small remove linked inline" title="Remove"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Canada</td>
                            <td>Canada is a North American country consisting of ten provinces and three territories.</td>
                            <td>
                                <div class="form-icons-inside left">
                                    <div class="text">3</div>
                                    <div class="icon small arrow-priority-up linked inline"></div>
                                    <div class="icon small arrow-priority-down linked inline hidden"></div>
                                </div>
                            </td>
                            <td>
                                <div class="form-icons-inside">
                                    <div class="icon small add linked inline" title="Add"></div>
                                    <div class="icon small edit linked inline" title="Edit"></div>
                                    <div class="icon small remove linked inline" title="Remove"></div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <hr>

            <h2>Gridlist with togglebox and elements in it:</h2>
            <div class="com-gridlist" data-element="gridlist-togglebox">
                <table>
                    <thead>
                        <tr>
                            <th width="10%">Name</th>
                            <th>Description</th>
                            <th width="9%">Progress Tracker</th>
                            <th width="6%" class="align-center">Active</th>
                            <th width="6%" class="align-center">Settings</th>
                            <th width="9%">Status</th>
                            <th width="140">Action</th>
                        </tr>
                    </thead>
                    <tbody data-gridlist-item="1">
                        <tr>
                            <td>
                                Canada
                                <span class="link" data-gridlist-for="1" data-togglebox-button="true">Show</span>
                            </td>
                            <td>Canada is a North American country consisting of ten provinces and three territories.</td>
                            <td>
                                <div class="cm-progress-bar">
                                    <div class="inner green" style="width: 85%;"></div>
                                </div>
                            </td>
                            <td class="align-center control">
                                <input type="checkbox">
                            </td>
                            <td class="align-center control">
                                <div class="icon small settings inline linked"></div>
                            </td>
                            <td>
                                Passed 85%
                                <div class="icon small done inline"></div>
                            </td>
                            <td>
                                <ul class="com-gridlist-links">
                                    <li><a href="#">Add</a></li>
                                    <li><a href="#">Edit</a></li>
                                    <li><a href="#">Remove</a></li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                    <tbody class="display-none has-padding" data-gridlist-id="1">
                        <tr>
                            <td>
                                Canada
                                <span class="link" data-gridlist-for="3" data-togglebox-button="true">Show</span>
                            </td>
                            <td>Canada is a North American country consisting of ten provinces and three territories.</td>
                            <td>
                                <div class="cm-progress-bar">
                                    <div class="inner green" style="width: 85%;"></div>
                                </div>
                            </td>
                            <td class="align-center control">
                                <input type="checkbox">
                            </td>
                            <td class="align-center control">
                                <div class="icon small settings inline linked"></div>
                            </td>
                            <td>
                                Passed 85%
                                <div class="icon small done inline"></div>
                            </td>
                            <td>
                                <ul class="com-gridlist-links">
                                    <li><a href="#">Add</a></li>
                                    <li><a href="#">Edit</a></li>
                                    <li><a href="#">Remove</a></li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                    <tbody class="display-none has-padding-two" data-gridlist-id="3" data-gridlist-parent-id="1">
                        <tr>
                            <td>Canada</td>
                            <td>Canada is a North American country consisting of ten provinces and three territories.</td>
                            <td>
                                <div class="cm-progress-bar">
                                    <div class="inner green" style="width: 85%;"></div>
                                </div>
                            </td>
                            <td class="align-center control">
                                <input type="checkbox">
                            </td>
                            <td class="align-center control">
                                <div class="icon small settings inline linked"></div>
                            </td>
                            <td>
                                Passed 85%
                                <div class="icon small done inline"></div>
                            </td>
                            <td>
                                <ul class="com-gridlist-links">
                                    <li><a href="#">Add</a></li>
                                    <li><a href="#">Edit</a></li>
                                    <li><a href="#">Remove</a></li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                    <tbody>
                        <tr>
                            <td>Canada</td>
                            <td>Canada is a North American country consisting of ten provinces and three territories.</td>
                            <td>
                                <div class="cm-progress-bar">
                                    <div class="inner orange" style="width: 40%;"></div>
                                </div>
                            </td>
                            <td class="align-center control">
                                <input type="checkbox">
                            </td>
                            <td class="align-center control">
                                <div class="icon small settings inline linked"></div>
                            </td>
                            <td>
                                Passed 85%
                                <div class="icon small done inline"></div>
                            </td>
                            <td>
                                <ul class="com-gridlist-links">
                                    <li><a href="#">Add</a></li>
                                    <li><a href="#">Edit</a></li>
                                    <li><a href="#">Remove</a></li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                    <tbody>
                        <tr>
                            <td>Canada</td>
                            <td>Canada is a North American country consisting of ten provinces and three territories.</td>
                            <td>
                                <div class="cm-progress-bar">
                                    <div class="inner red" style="width: 15%;"></div>
                                </div>
                            </td>
                            <td class="align-center control">
                                <input type="checkbox">
                            </td>
                            <td class="align-center control">
                                <div class="icon small settings inline linked"></div>
                            </td>
                            <td>
                                Passed 15%
                                <div class="icon small fail inline"></div>
                            </td>
                            <td>
                                <ul class="com-gridlist-links">
                                    <li><a href="#">Add</a></li>
                                    <li><a href="#">Edit</a></li>
                                    <li><a href="#">Remove</a></li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <hr>

            <h2>Dynamic gridlist:</h2>
            <div data-element="gridlist"></div>
        </li>
    </ul>
</div>

</body>
</html>