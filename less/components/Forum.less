/* ******* COMPONENT: FORUM ******* */

/* *** MAIN *** */

.com-forum {
}

.com-forum-cell-icon {
    width: 32px;

    .icon {
        display: block;

        &.default {
            .cm-size-large;
            .icon.large.message;
        }

        &.default-page {
            .cm-size-large;
            .icon.large.page;
            margin: 3px 0 0 0;
        }

        &.default-featured {
            .cm-size-large;
            .icon.large.page-featured;
            margin: 3px 0 0 0;
        }
    }
}

.com-forum-cell-counter {
    width: 120px;

    .line:extend(.clear all) {
        text-align: right;
    }

    .title {
        float: right;
        margin: 0 0 0 @CmIndent-XXXSmall;
    }

    .descr {
        float: right;
    }
}

.com-forum-cell-title {
    * {
        margin: 0;
    }

    h3 {
        margin: 0 0 @CmIndent-XXSmall;
    }

    .title {
        font-weight: @CmBase-Font-BoldWeight;
    }
}

.com-forum-cell-last {
    width: 20%;
}

/* *** TOPIC *** */

.com-forum-posts {
    margin: 0 0 @CmIndent-Medium;

    &.bottom {
        margin: 0;
    }

    > ul {
        margin: 0;
        padding: 0;
        list-style: none;

        > li {
            margin: @CmIndent-Medium 0 0 0;
            padding: 0;

            &:first-child {
                margin: 0;
            }
        }
    }
}

.com-forum-post {
    background: @ComForum-postBackground;
    border-radius: @Cm-borderRadius;

    .entry {
        margin: @CmIndent-XSmall 0 0;
    }

    > .inner {
        width: 100%;
        display: table;
        table-layout: fixed;

        > .l {
            width: @ComForum-postLeftColumnSize;
            position: relative;
            padding: @CmIndent-XSmall;
            display: table-cell;
            vertical-align: top;
            background: @ComForum-postTitleBackground;
            border-radius: @Cm-borderRadius;

            &:after {
                width: 0;
                height: 0;
                position: absolute;
                .mx__position(@CmIndent-XSmall, 0, auto, auto);
                display: block;
                content: '';
                border-style: solid;
                border-width: 8px 12px 8px 0;
                border-color: transparent @ComForum-postBackground transparent transparent;
            }
        }

        > .r {
            padding: @CmIndent-XSmall;
            display: table-cell;
            vertical-align: top;

            .cm-title-editable,
            .date {
                .cm__font--hint;
                color: @CmUI-FontTitleMedium-Color;
            }

            .cm-title-editable {
                margin: 0;
            }
        }
    }

    .post-share {
        .cm-line-share {
            margin: @CmIndent-Medium 0 0 0;

            &:first-child {
                margin: 0;
            }
        }
    }

    &.is-featured {
        background: @ComForum-postBackgroundFeatured;

        > .inner {
            > .l {
                &:after {
                    border-color: transparent @ComForum-postBackgroundFeatured transparent transparent;
                }
            }
        }
    }
}

/* ******* COMPONENT: FORUM: ADAPTIVE ******* */

@media only screen and (max-width : @ComForum-adaptiveFrom) {

    html.is-adaptive {
        .com-forum-post {
            > .inner {
                width: auto;
                display: block;

                > .l,
                > .r {
                    width: auto;
                    display: block;
                }

                > .l {
                    &:after {
                        display: none;
                    }
                }
            }
        }

        .com-forum-cell-counter {
            .line {
                text-align: left;
            }

            .title {
                float: left;
                margin: 0 @CmIndent-XXXSmall 0 0;
            }
            
            .descr {
                float: left;
            }
        }
    }

}