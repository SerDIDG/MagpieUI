/* ******* COLLAPSIBLE LAYOUT ******* */

.com-collapsible-layout {
    @width-hide: 24px + (@CmIndent-XSmall * 2);

    position: absolute;
    .mx__position(0,0,0,0);

    > .sidebar {
        width: @ComCollapsibleLayout-sidebarWidth;
        height: 100%;
        position: relative;
        z-index: 2;
        overflow: hidden;
        background: #ffffff;
        box-shadow: @Cm-ui-shadow;
        .mx__transition(width, @ComCollapsibleLayout-duration);

        > .inner {
            width: @ComCollapsibleLayout-sidebarWidth;
            position: absolute;

            > .title {
                .cm__font--ui-title;
                padding: 6px @CmIndent-XSmall;
                position: absolute;
                background: #ffffff;
                .mx__user-select(none);
                .mx__position(0, 0, auto, 0);

                .icon {
                    position: absolute;
                    top: 14px;
                    cursor: pointer;
                    .mx__transition(-webkit-transform -ms-transform transform, @ComCollapsibleLayout-duration);
                }
            }

            > .descr {
                .cm-scroll-y;
                padding: @CmIndent-XSmall;
                position: absolute;
                background: #ffffff;
                .mx__transition(opacity, @ComCollapsibleLayout-duration);
                .mx__position(50px, 0, 0, 0);
            }
        }

        &.left {
            float: left;

            > .inner {
                .mx__position(0, 0, 0, auto);

                > .title {
                    text-align: left;

                    .icon {
                        right: @CmIndent-XSmall;
                    }
                }
            }
        }

        &.right {
            float: right;

            > .inner {
                .mx__position(0, auto, 0, 0);

                > .title {
                    text-align: right;

                    .icon {
                        left: @CmIndent-XSmall;
                    }
                }
            }
        }
    }

    > .inner {
        .cm-scroll-a-y;
        height: 100%;
        position: relative;
        z-index: 1;

        > iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    }

    &.is-immediately {
        > .sidebar {
            .cm__transition-none;

            > .inner {
                > .title {
                    .icon {
                        .cm__transition-none;
                    }
                }

                > .descr {
                    .cm__transition-none;
                }
            }
        }
    }

    &.is-sidebar-left-collapsed {
        > .sidebar.left {
            width: @width-hide;

            > .inner {
                > .title {
                    .icon {
                        -webkit-transform: rotate(180deg);
                            -ms-transform: rotate(180deg);
                                transform: rotate(180deg);
                    }
                }

                > .descr {
                    opacity: 0;
                    .mx__opacity-ie(0);
                }
            }
        }
    }

    &.is-sidebar-right-collapsed {
        > .sidebar.right {
            width: @width-hide;

            > .inner {
                > .title {
                    .icon {
                        -webkit-transform: rotate(180deg);
                            -ms-transform: rotate(180deg);
                                transform: rotate(180deg);
                    }
                }

                > .descr {
                    opacity: 0;
                    .mx__opacity-ie(0);
                }
            }
        }
    }
}

/* *** ADAPTIVE *** */

@media only screen and (max-width : @CmScreen-Tablet) {

    html.is-adaptive {
        .com-collapsible-layout {
            > .sidebar {
                .cm__transition-none;

                > .inner {
                    > .title {
                        .icon {
                            .cm__transition-none;
                        }
                    }

                    > .descr {
                        .cm__transition-none;
                    }
                }
            }
        }
    }

}