/* ******* COLLAPSIBLE LAYOUT ******* */

.com-collapsible-layout {
    @width-hide: 24px + (@Cm-indentXSmall * 2);

    position: absolute;
    .cm-position(0,0,0,0);

    > .sidebar {
        width: @ComCollapsibleLayout-sidebarWidth;
        height: 100%;
        position: relative;
        z-index: 2;
        overflow: hidden;
        background: #ffffff;
        box-shadow: @Cm-ui-shadow;
        .cm-transition(width @ComCollapsibleLayout-duration ease-in-out);

        > .inner {
            width: @ComCollapsibleLayout-sidebarWidth;
            position: absolute;

            > .title {
                padding: 6px @Cm-indentXSmall;
                position: absolute;
                .cm-position(0, 0, auto, 0);
                background: #ffffff;
                .cm-user-select(none);
                #cm > .font-title;

                .icon {
                    position: absolute;
                    top: 14px;
                    cursor: pointer;
                    -webkit-transition: -webkit-transform @ComCollapsibleLayout-duration ease-in-out;
                        -ms-transition:     -ms-transform @ComCollapsibleLayout-duration ease-in-out;
                            transition:         transform @ComCollapsibleLayout-duration ease-in-out;
                }
            }

            > .descr {
                padding: @Cm-indentXSmall;
                .cm-scroll-y;
                position: absolute;
                .cm-position(50px, 0, 0, 0);
                background: #ffffff;
                .cm-transition(opacity @ComCollapsibleLayout-duration ease-in-out);
            }
        }

        &.left {
            float: left;

            > .inner {
                .cm-position(0, 0, 0, auto);

                > .title {
                    text-align: left;

                    .icon {
                        right: @Cm-indentXSmall;
                    }
                }
            }
        }

        &.right {
            float: right;

            > .inner {
                .cm-position(0, auto, 0, 0);

                > .title {
                    text-align: right;

                    .icon {
                        left: @Cm-indentXSmall;
                    }
                }
            }
        }
    }

    > .inner {
        height: 100%;
        position: relative;
        z-index: 1;
        .cm-scroll-a-y;

        > iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    }

    &.is-immediately {
        > .sidebar {
            .cm-transition-none;

            > .inner {
                > .title {
                    .icon {
                        .cm-transition-none;
                    }
                }

                > .descr {
                    .cm-transition-none;
                }
            }
        }
    }

    &.is-sidebar-left-collapsed {
        > .sidebar.left {
            width: @width-hide;

            > .inner {
                > .title {
                    .icon {
                        -webkit-transform: rotate(180deg);
                            -ms-transform: rotate(180deg);
                                transform: rotate(180deg);
                    }
                }

                > .descr {
                    opacity: 0;
                    .cm-opacity-ie(0);
                }
            }
        }
    }

    &.is-sidebar-right-collapsed {
        > .sidebar.right {
            width: @width-hide;

            > .inner {
                > .title {
                    .icon {
                        -webkit-transform: rotate(180deg);
                            -ms-transform: rotate(180deg);
                                transform: rotate(180deg);
                    }
                }

                > .descr {
                    opacity: 0;
                    .cm-opacity-ie(0);
                }
            }
        }
    }
}

/* *** ADAPTIVE *** */

@media only screen and (max-width : @CmScreen-Tablet) {

    html.is-adaptive {
        .com-collapsible-layout {
            > .sidebar {
                .cm-transition-none;

                > .inner {
                    > .title {
                        .icon {
                            .cm-transition-none;
                        }
                    }

                    > .descr {
                        .cm-transition-none;
                    }
                }
            }
        }
    }

}