/* ******* PART: BOX ******* */

.pt__box {
    padding: @CmIndent-XXXSmall;
    background: #fff;
    border: @CmBorder-Default;
    border-radius: @CmBorder-Radius;
    box-shadow: @CmUI-ShadowLight;
    .mx__box-sizing(border-box);
    .mx__background-clip(padding-box);
}

.pt__box--clear {
    padding: 0;
    background: transparent;
    border: none;
    border-radius: 0;
    box-shadow: none;
    .mx__box-sizing(border-box);
}

.pt__box-border {
    padding: @CmIndent-XSmall;
    border: @CmBorder-Box;
    .mx__box-sizing(border-box);
    .mx__background-clip(padding-box);
    .mx__transition(border-color, @CmUI-Transition-Duration);

    &.active {
        border: @CmBorder-BoxActive;
    }
}

.pt__box-flat {
    margin: 0 0 @CmIndent-Medium;
    padding: @CmIndent-XSmall;
    background: @CmColor-Secondary-LightHighlight;
    border-radius: @CmBorder-Radius;
    .mx__box-sizing(border-box);
    .mx__background-clip(padding-box);
    .mx__transition(background, @CmUI-Transition-Duration);

    &:last-child {
        margin: 0;
    }

    > .inner {
        > .title {
            margin-bottom: @CmIndent-Medium;
        }
    }

    &.active {
        background: @CmColor-Primary-LightHighlight;
    }
}

/* *** TITLE *** */

.pt__box-title {
    .cm__box;
}

/* *** CONTENT *** */

.pt__box-content {
    .clearfix;

    // /* Set grid items indent */

    .pt__box-content__indent(@PtBoxContent-Indent);

    .for(@PtBoxContent-Indents); .-each(@name) {
        &.indent-@{name} {
            .pt__box-content__indent(@name);
        }
    }

    &:last-child {
        margin: 0;
    }
}

.pt__box-content__indent (@indent: @PtBoxContent-Indent){
    margin: 0 0 @indent;
}

/* *** INFO *** */

.pt__box-info {
    .cm__box;

    dl {
        dt {
            font-weight: bold;
        }

        dd {
            padding: 0;
        }

        &:last-child {
            margin: 0;
        }
    }
}

/* *** TABLE *** */

.pt__box-cell {
    .b-title,
    .b-descr {
        margin: 0 0 @CmIndent-XSmall;

        &:last-child {
            margin: 0;
        }
    }

    .b-title {
        font-weight: @CmFont-Base-BoldWeight;
    }
}

/* *** LOADER *** */

.pt__box-loader {
    height: 50px;
    position: relative;

    &.position {
        height: auto;
        position: absolute;
        .mx__position(0,0,0,0);
    }

    > .inner {
        width: 32px;
        height: 32px;
        position: absolute;
        top: 50%;
        left: 50%;
        z-index: 2;
        margin: -16px 0 0 -16px;
        background: url("@{CmPath-Images}/components/ajax-loader.gif");
    }
}

/* *** EDITABLE *** */

.pt__box-editable {
    .clearfix;
    .cm__box;

    .cm__tags {
        margin-bottom: 0;
    }

    > .r {
        float: right;
        margin: 0 0 0 @CmIndent-Medium;

        .pt__toolbar {
            margin-bottom: 0;
        }
    }

    > .l {
        overflow: hidden;
    }
}

/* *** ITEM *** */

.pt__box-item {
    .display-flex;
    .mx__flex-flow(row nowrap);

    > .l {
        .mx__flex(0 0 auto);
    }

    > .r {
        .mx__flex(1 1 auto);
    }

    > .l,
    > .r {
        margin: 0 @CmIndent-XSmall 0 0;

        &:last-child {
            margin: 0;
        }
    }

    .title {
        font-weight: @CmFont-Base-BoldWeight;

        a {
            font-weight: inherit;
        }
    }

    .title,
    .descr,
    .author {
        &:extend(.cm__inherit all);
    }

    .date,
    .count,
    .status {
        font-size: @CmFont-Base-Hint-Size;
        color: @CmFont-Base-Hint-Color;
    }

    .status {
        &.danger {
            color: @CmColor-Danger-DarkDefault;
        }

        &.warning {
            color: @CmColor-Warning-DarkDefault;
        }

        &.success {
            color: @CmColor-Success-DarkDefault;
        }
    }

    .descr {
        margin: @CmIndent-XXXSmall 0 0 0;

        &:first-child {
            margin: 0;
        }
    }

    .btn-wrap {
        margin: @CmIndent-XXSmall 0 ;

        &:first-child {
            margin-top: 0;
        }

        &:last-child {
            margin-bottom: 0;
        }
    }

    .hint {
        .cm__font--hint-cursive;
    }

    > .pt__image {
        margin-bottom: @CmIndent-XSmall;

        &:last-child {
            margin-bottom: 0;
        }
    }

    &:not(.is-no-overflow),
    &.is-nowrap {
        > .r {
            overflow: hidden;
        }

        .title,
        .author,
        .date,
        .count,
        .status {
            .cm__text-overflow;
        }
    }

    .is-wrap {
        .title,
        .author,
        .date,
        .count,
        .status {
            .cm__text-wrap;
        }
    }

    &.is-image-centered {
        display: block;

        .pt__image {
            margin-left: auto;
            margin-right: auto;
        }
    }

    &.is-centered {
        display: block;
        text-align: center;

        .pt__image {
            margin-left: auto;
            margin-right: auto;
        }
    }

    &.is-image-top {
        .mx__flex-direction(column);

        > .l,
        > .r {
            margin: 0 0 @CmIndent-Medium 0;

            &:last-child {
                margin: 0;
            }
        }
    }

    // /* Sizes */

    .for(@PtItemBox-Sizes); .-each(@name) {
        &.size-@{name} {
            .pt__box-item__size(@name);
        }
    }
}

.pt__box-item__size (@value) {
    .pt__image {
        width: unit(@value, px);
        height: unit(@value, px);
    }
}

/* ******* PART: BOX: ADAPTIVE ******* */

@media only screen and (max-width: @CmScreen-Mobile) {

    html.is-adaptive {

        /* *** EDITABLE *** */

        .pt__box-editable {
            > .l, > .r {
                float: none;
                margin: 0;
            }
        }
    }

}